function _P(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();function bc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var CS={exports:{}},Jm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA;function xP(){if(IA)return Jm;IA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return Jm.Fragment=t,Jm.jsx=e,Jm.jsxs=e,Jm}var zA;function bP(){return zA||(zA=1,CS.exports=xP()),CS.exports}var W=bP(),OS={exports:{}},En={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function SP(){if(BA)return En;BA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function M(j,st,ht){this.props=j,this.context=st,this.refs=A,this.updater=ht||b}M.prototype.isReactComponent={},M.prototype.setState=function(j,st){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,st,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function x(){}x.prototype=M.prototype;function T(j,st,ht){this.props=j,this.context=st,this.refs=A,this.updater=ht||b}var R=T.prototype=new x;R.constructor=T,S(R,M.prototype),R.isPureReactComponent=!0;var O=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function B(j,st,ht,dt,$,ft){return ht=ft.ref,{$$typeof:n,type:j,key:st,ref:ht!==void 0?ht:null,props:ft}}function N(j,st){return B(j.type,st,void 0,void 0,void 0,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function U(j){var st={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ht){return st[ht]})}var F=/\/+/g;function K(j,st){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):st.toString(36)}function tt(){}function nt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(tt,tt):(j.status="pending",j.then(function(st){j.status==="pending"&&(j.status="fulfilled",j.value=st)},function(st){j.status==="pending"&&(j.status="rejected",j.reason=st)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function at(j,st,ht,dt,$){var ft=typeof j;(ft==="undefined"||ft==="boolean")&&(j=null);var lt=!1;if(j===null)lt=!0;else switch(ft){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(j.$$typeof){case n:case t:lt=!0;break;case m:return lt=j._init,at(lt(j._payload),st,ht,dt,$)}}if(lt)return $=$(j),lt=dt===""?"."+K(j,0):dt,O($)?(ht="",lt!=null&&(ht=lt.replace(F,"$&/")+"/"),at($,st,ht,"",function(Ct){return Ct})):$!=null&&(L($)&&($=N($,ht+($.key==null||j&&j.key===$.key?"":(""+$.key).replace(F,"$&/")+"/")+lt)),st.push($)),1;lt=0;var pt=dt===""?".":dt+":";if(O(j))for(var xt=0;xt<j.length;xt++)dt=j[xt],ft=pt+K(dt,xt),lt+=at(dt,st,ht,ft,$);else if(xt=_(j),typeof xt=="function")for(j=xt.call(j),xt=0;!(dt=j.next()).done;)dt=dt.value,ft=pt+K(dt,xt++),lt+=at(dt,st,ht,ft,$);else if(ft==="object"){if(typeof j.then=="function")return at(nt(j),st,ht,dt,$);throw st=String(j),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return lt}function H(j,st,ht){if(j==null)return j;var dt=[],$=0;return at(j,dt,"","",function(ft){return st.call(ht,ft,$++)}),dt}function k(j){if(j._status===-1){var st=j._result;st=st(),st.then(function(ht){(j._status===0||j._status===-1)&&(j._status=1,j._result=ht)},function(ht){(j._status===0||j._status===-1)&&(j._status=2,j._result=ht)}),j._status===-1&&(j._status=0,j._result=st)}if(j._status===1)return j._result.default;throw j._result}var V=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Q(){}return En.Children={map:H,forEach:function(j,st,ht){H(j,function(){st.apply(this,arguments)},ht)},count:function(j){var st=0;return H(j,function(){st++}),st},toArray:function(j){return H(j,function(st){return st})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},En.Component=M,En.Fragment=e,En.Profiler=r,En.PureComponent=T,En.StrictMode=i,En.Suspense=h,En.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,En.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},En.cache=function(j){return function(){return j.apply(null,arguments)}},En.cloneElement=function(j,st,ht){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var dt=S({},j.props),$=j.key,ft=void 0;if(st!=null)for(lt in st.ref!==void 0&&(ft=void 0),st.key!==void 0&&($=""+st.key),st)!P.call(st,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&st.ref===void 0||(dt[lt]=st[lt]);var lt=arguments.length-2;if(lt===1)dt.children=ht;else if(1<lt){for(var pt=Array(lt),xt=0;xt<lt;xt++)pt[xt]=arguments[xt+2];dt.children=pt}return B(j.type,$,void 0,void 0,ft,dt)},En.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},En.createElement=function(j,st,ht){var dt,$={},ft=null;if(st!=null)for(dt in st.key!==void 0&&(ft=""+st.key),st)P.call(st,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&($[dt]=st[dt]);var lt=arguments.length-2;if(lt===1)$.children=ht;else if(1<lt){for(var pt=Array(lt),xt=0;xt<lt;xt++)pt[xt]=arguments[xt+2];$.children=pt}if(j&&j.defaultProps)for(dt in lt=j.defaultProps,lt)$[dt]===void 0&&($[dt]=lt[dt]);return B(j,ft,void 0,void 0,null,$)},En.createRef=function(){return{current:null}},En.forwardRef=function(j){return{$$typeof:u,render:j}},En.isValidElement=L,En.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:k}},En.memo=function(j,st){return{$$typeof:p,type:j,compare:st===void 0?null:st}},En.startTransition=function(j){var st=I.T,ht={};I.T=ht;try{var dt=j(),$=I.S;$!==null&&$(ht,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(Q,V)}catch(ft){V(ft)}finally{I.T=st}},En.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},En.use=function(j){return I.H.use(j)},En.useActionState=function(j,st,ht){return I.H.useActionState(j,st,ht)},En.useCallback=function(j,st){return I.H.useCallback(j,st)},En.useContext=function(j){return I.H.useContext(j)},En.useDebugValue=function(){},En.useDeferredValue=function(j,st){return I.H.useDeferredValue(j,st)},En.useEffect=function(j,st,ht){var dt=I.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return dt.useEffect(j,st)},En.useId=function(){return I.H.useId()},En.useImperativeHandle=function(j,st,ht){return I.H.useImperativeHandle(j,st,ht)},En.useInsertionEffect=function(j,st){return I.H.useInsertionEffect(j,st)},En.useLayoutEffect=function(j,st){return I.H.useLayoutEffect(j,st)},En.useMemo=function(j,st){return I.H.useMemo(j,st)},En.useOptimistic=function(j,st){return I.H.useOptimistic(j,st)},En.useReducer=function(j,st,ht){return I.H.useReducer(j,st,ht)},En.useRef=function(j){return I.H.useRef(j)},En.useState=function(j){return I.H.useState(j)},En.useSyncExternalStore=function(j,st,ht){return I.H.useSyncExternalStore(j,st,ht)},En.useTransition=function(){return I.H.useTransition()},En.version="19.1.0",En}var HA;function Ep(){return HA||(HA=1,OS.exports=SP()),OS.exports}var Y=Ep();const bo=bc(Y),P2=_P({__proto__:null,default:bo},[Y]);var NS={exports:{}},$m={},LS={exports:{}},US={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function MP(){return FA||(FA=1,function(n){function t(H,k){var V=H.length;H.push(k);t:for(;0<V;){var Q=V-1>>>1,j=H[Q];if(0<r(j,k))H[Q]=k,H[V]=j,V=Q;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var k=H[0],V=H.pop();if(V!==k){H[0]=V;t:for(var Q=0,j=H.length,st=j>>>1;Q<st;){var ht=2*(Q+1)-1,dt=H[ht],$=ht+1,ft=H[$];if(0>r(dt,V))$<j&&0>r(ft,dt)?(H[Q]=ft,H[$]=V,Q=$):(H[Q]=dt,H[ht]=V,Q=ht);else if($<j&&0>r(ft,V))H[Q]=ft,H[$]=V,Q=$;else break t}}return k}function r(H,k){var V=H.sortIndex-k.sortIndex;return V!==0?V:H.id-k.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,_=3,b=!1,S=!1,A=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var k=e(p);k!==null;){if(k.callback===null)i(p);else if(k.startTime<=H)i(p),k.sortIndex=k.expirationTime,t(h,k);else break;k=e(p)}}function I(H){if(A=!1,O(H),!S)if(e(h)!==null)S=!0,P||(P=!0,K());else{var k=e(p);k!==null&&at(I,k.startTime-H)}}var P=!1,B=-1,N=5,L=-1;function U(){return M?!0:!(n.unstable_now()-L<N)}function F(){if(M=!1,P){var H=n.unstable_now();L=H;var k=!0;try{t:{S=!1,A&&(A=!1,T(B),B=-1),b=!0;var V=_;try{e:{for(O(H),v=e(h);v!==null&&!(v.expirationTime>H&&U());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,_=v.priorityLevel;var j=Q(v.expirationTime<=H);if(H=n.unstable_now(),typeof j=="function"){v.callback=j,O(H),k=!0;break e}v===e(h)&&i(h),O(H)}else i(h);v=e(h)}if(v!==null)k=!0;else{var st=e(p);st!==null&&at(I,st.startTime-H),k=!1}}break t}finally{v=null,_=V,b=!1}k=void 0}}finally{k?K():P=!1}}}var K;if(typeof R=="function")K=function(){R(F)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,nt=tt.port2;tt.port1.onmessage=F,K=function(){nt.postMessage(null)}}else K=function(){x(F,0)};function at(H,k){B=x(function(){H(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(H){switch(_){case 1:case 2:case 3:var k=3;break;default:k=_}var V=_;_=k;try{return H()}finally{_=V}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(H,k){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var V=_;_=H;try{return k()}finally{_=V}},n.unstable_scheduleCallback=function(H,k,V){var Q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,H={id:m++,callback:k,priorityLevel:H,startTime:V,expirationTime:j,sortIndex:-1},V>Q?(H.sortIndex=V,t(p,H),e(h)===null&&H===e(p)&&(A?(T(B),B=-1):A=!0,at(I,V-Q))):(H.sortIndex=j,t(h,H),S||b||(S=!0,P||(P=!0,K()))),H},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(H){var k=_;return function(){var V=_;_=k;try{return H.apply(this,arguments)}finally{_=V}}}}(US)),US}var VA;function EP(){return VA||(VA=1,LS.exports=MP()),LS.exports}var PS={exports:{}},es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function DP(){if(kA)return es;kA=1;var n=Ep();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:p,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,es.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return a(h,p,null,m)},es.flushSync=function(h){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=p,i.p=m,i.d.f()}},es.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},es.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},es.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},es.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},es.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},es.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},es.requestFormReset=function(h){i.d.r(h)},es.unstable_batchedUpdates=function(h,p){return h(p)},es.useFormState=function(h,p,m){return l.H.useFormState(h,p,m)},es.useFormStatus=function(){return l.H.useHostTransitionStatus()},es.version="19.1.0",es}var GA;function I2(){if(GA)return PS.exports;GA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),PS.exports=DP(),PS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function AP(){if(jA)return $m;jA=1;var n=EP(),t=Ep(),e=I2();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var d=s,g=o;;){var E=d.return;if(E===null)break;var w=E.alternate;if(w===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===d)return u(E),s;if(w===g)return u(E),o;w=w.sibling}throw Error(i(188))}if(d.return!==g.return)d=E,g=w;else{for(var G=!1,J=E.child;J;){if(J===d){G=!0,d=E,g=w;break}if(J===g){G=!0,g=E,d=w;break}J=J.sibling}if(!G){for(J=w.child;J;){if(J===d){G=!0,d=w,g=E;break}if(J===g){G=!0,g=w,d=E;break}J=J.sibling}if(!G)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var tt=Symbol.for("react.client.reference");function nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===tt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case R:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case O:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return o=s.displayName||null,o!==null?o:nt(s.type)||"Memo";case N:o=s._payload,s=s._init;try{return nt(s(o))}catch{}}return null}var at=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Q=[],j=-1;function st(s){return{current:s}}function ht(s){0>j||(s.current=Q[j],Q[j]=null,j--)}function dt(s,o){j++,Q[j]=s.current,s.current=o}var $=st(null),ft=st(null),lt=st(null),pt=st(null);function xt(s,o){switch(dt(lt,o),dt(ft,s),dt($,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?uA(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=uA(o),s=fA(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ht($),dt($,s)}function Ct(){ht($),ht(ft),ht(lt)}function Ht(s){s.memoizedState!==null&&dt(pt,s);var o=$.current,d=fA(o,s.type);o!==d&&(dt(ft,s),dt($,d))}function Kt(s){ft.current===s&&(ht($),ht(ft)),pt.current===s&&(ht(pt),Ym._currentValue=V)}var le=Object.prototype.hasOwnProperty,ce=n.unstable_scheduleCallback,et=n.unstable_cancelCallback,Wt=n.unstable_shouldYield,Ut=n.unstable_requestPaint,Xt=n.unstable_now,It=n.unstable_getCurrentPriorityLevel,ue=n.unstable_ImmediatePriority,Zt=n.unstable_UserBlockingPriority,ot=n.unstable_NormalPriority,Z=n.unstable_LowPriority,Dt=n.unstable_IdlePriority,Ft=n.log,Qt=n.unstable_setDisableYieldValue,Nt=null,de=null;function fe(s){if(typeof Ft=="function"&&Qt(s),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(Nt,s)}catch{}}var Me=Math.clz32?Math.clz32:ge,He=Math.log,oe=Math.LN2;function ge(s){return s>>>=0,s===0?32:31-(He(s)/oe|0)|0}var Ae=256,De=4194304;function _e(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Je(s,o,d){var g=s.pendingLanes;if(g===0)return 0;var E=0,w=s.suspendedLanes,G=s.pingedLanes;s=s.warmLanes;var J=g&134217727;return J!==0?(g=J&~w,g!==0?E=_e(g):(G&=J,G!==0?E=_e(G):d||(d=J&~s,d!==0&&(E=_e(d))))):(J=g&~w,J!==0?E=_e(J):G!==0?E=_e(G):d||(d=g&~s,d!==0&&(E=_e(d)))),E===0?0:o!==0&&o!==E&&(o&w)===0&&(w=E&-E,d=o&-o,w>=d||w===32&&(d&4194048)!==0)?o:E}function Oe(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ke(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(){var s=Ae;return Ae<<=1,(Ae&4194048)===0&&(Ae=256),s}function Gt(){var s=De;return De<<=1,(De&62914560)===0&&(De=4194304),s}function jt(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function ne(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ee(s,o,d,g,E,w){var G=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var J=s.entanglements,mt=s.expirationTimes,Ot=s.hiddenUpdates;for(d=G&~d;0<d;){var te=31-Me(d),re=1<<te;J[te]=0,mt[te]=-1;var Bt=Ot[te];if(Bt!==null)for(Ot[te]=null,te=0;te<Bt.length;te++){var Vt=Bt[te];Vt!==null&&(Vt.lane&=-536870913)}d&=~re}g!==0&&xe(s,g,0),w!==0&&E===0&&s.tag!==0&&(s.suspendedLanes|=w&~(G&~o))}function xe(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var g=31-Me(o);s.entangledLanes|=o,s.entanglements[g]=s.entanglements[g]|1073741824|d&4194090}function nn(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var g=31-Me(d),E=1<<g;E&o|s[g]&o&&(s[g]|=o),d&=~E}}function Vn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ci(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Tn(){var s=k.p;return s!==0?s:(s=window.event,s===void 0?32:CA(s.type))}function br(s,o){var d=k.p;try{return k.p=s,o()}finally{k.p=d}}var Li=Math.random().toString(36).slice(2),Di="__reactFiber$"+Li,Ui="__reactProps$"+Li,Pi="__reactContainer$"+Li,Sr="__reactEvents$"+Li,Js="__reactListeners$"+Li,lr="__reactHandles$"+Li,Ye="__reactResources$"+Li,Xr="__reactMarker$"+Li;function qn(s){delete s[Di],delete s[Ui],delete s[Sr],delete s[Js],delete s[lr]}function q(s){var o=s[Di];if(o)return o;for(var d=s.parentNode;d;){if(o=d[Pi]||d[Di]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=mA(s);s!==null;){if(d=s[Di])return d;s=mA(s)}return o}s=d,d=s.parentNode}return null}function rt(s){if(s=s[Di]||s[Pi]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function _t(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Lt(s){var o=s[Ye];return o||(o=s[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function zt(s){s[Xr]=!0}var qt=new Set,he={};function ae(s,o){X(s,o),X(s+"Capture",o)}function X(s,o){for(he[s]=o,s=0;s<o.length;s++)qt.add(o[s])}var ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gt={},vt={};function St(s){return le.call(vt,s)?!0:le.call(gt,s)?!1:ut.test(s)?vt[s]=!0:(gt[s]=!0,!1)}function Rt(s,o,d){if(St(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function Yt(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function Jt(s,o,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+g)}}var se,be;function ve(s){if(se===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);se=o&&o[1]||"",be=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+s+be}var Se=!1;function je(s,o){if(!s||Se)return"";Se=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Vt){var Bt=Vt}Reflect.construct(s,[],re)}else{try{re.call()}catch(Vt){Bt=Vt}s.call(re.prototype)}}else{try{throw Error()}catch(Vt){Bt=Vt}(re=s())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Vt){if(Vt&&Bt&&typeof Vt.stack=="string")return[Vt.stack,Bt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),G=w[0],J=w[1];if(G&&J){var mt=G.split(`
`),Ot=J.split(`
`);for(E=g=0;g<mt.length&&!mt[g].includes("DetermineComponentFrameRoot");)g++;for(;E<Ot.length&&!Ot[E].includes("DetermineComponentFrameRoot");)E++;if(g===mt.length||E===Ot.length)for(g=mt.length-1,E=Ot.length-1;1<=g&&0<=E&&mt[g]!==Ot[E];)E--;for(;1<=g&&0<=E;g--,E--)if(mt[g]!==Ot[E]){if(g!==1||E!==1)do if(g--,E--,0>E||mt[g]!==Ot[E]){var te=`
`+mt[g].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=g&&0<=E);break}}}finally{Se=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?ve(d):""}function Be(s){switch(s.tag){case 26:case 27:case 5:return ve(s.type);case 16:return ve("Lazy");case 13:return ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return je(s.type,!1);case 11:return je(s.type.render,!1);case 1:return je(s.type,!0);case 31:return ve("Activity");default:return""}}function Nn(s){try{var o="";do o+=Be(s),s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Ne(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Le(s){var o=ke(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var E=d.get,w=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return E.call(this)},set:function(G){g=""+G,w.call(this,G)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(G){g=""+G},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Kn(s){s._valueTracker||(s._valueTracker=Le(s))}function rn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return s&&(g=ke(s)?s.checked?"true":"false":s.value),s=g,s!==d?(o.setValue(s),!0):!1}function fn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ti=/[\n"\\]/g;function Xe(s){return s.replace(ti,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function bn(s,o,d,g,E,w,G,J){s.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.type=G:s.removeAttribute("type"),o!=null?G==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ne(o)):s.value!==""+Ne(o)&&(s.value=""+Ne(o)):G!=="submit"&&G!=="reset"||s.removeAttribute("value"),o!=null?vi(s,G,Ne(o)):d!=null?vi(s,G,Ne(d)):g!=null&&s.removeAttribute("value"),E==null&&w!=null&&(s.defaultChecked=!!w),E!=null&&(s.checked=E&&typeof E!="function"&&typeof E!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.name=""+Ne(J):s.removeAttribute("name")}function vn(s,o,d,g,E,w,G,J){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;d=d!=null?""+Ne(d):"",o=o!=null?""+Ne(o):d,J||o===s.value||(s.value=o),s.defaultValue=o}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=J?s.checked:!!g,s.defaultChecked=!!g,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(s.name=G)}function vi(s,o,d){o==="number"&&fn(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Un(s,o,d,g){if(s=s.options,o){o={};for(var E=0;E<d.length;E++)o["$"+d[E]]=!0;for(d=0;d<s.length;d++)E=o.hasOwnProperty("$"+s[d].value),s[d].selected!==E&&(s[d].selected=E),E&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Ne(d),o=null,E=0;E<s.length;E++){if(s[E].value===d){s[E].selected=!0,g&&(s[E].defaultSelected=!0);return}o!==null||s[E].disabled||(o=s[E])}o!==null&&(o.selected=!0)}}function ei(s,o,d){if(o!=null&&(o=""+Ne(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+Ne(d):""}function tr(s,o,d,g){if(o==null){if(g!=null){if(d!=null)throw Error(i(92));if(at(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),o=d}d=Ne(o),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g)}function Or(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var _a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(s,o,d){var g=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":g?s.setProperty(o,d):typeof d!="number"||d===0||_a.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function qu(s,o,d){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var E in o)g=o[E],o.hasOwnProperty(E)&&d[E]!==g&&ju(s,E,g)}else for(var w in o)o.hasOwnProperty(w)&&ju(s,w,o[w])}function xh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xu(s){return Lv.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var bh=null;function Sh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Uo=null,Rl=null;function Fp(s){var o=rt(s);if(o&&(s=o.stateNode)){var d=s[Ui]||null;t:switch(s=o.stateNode,o.type){case"input":if(bn(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Xe(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==s&&g.form===s.form){var E=g[Ui]||null;if(!E)throw Error(i(90));bn(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(o=0;o<d.length;o++)g=d[o],g.form===s.form&&rn(g)}break t;case"textarea":ei(s,d.value,d.defaultValue);break t;case"select":o=d.value,o!=null&&Un(s,!!d.multiple,o,!1)}}}var Yu=!1;function Vp(s,o,d){if(Yu)return s(o,d);Yu=!0;try{var g=s(o);return g}finally{if(Yu=!1,(Uo!==null||Rl!==null)&&(Pa(),Uo&&(o=Uo,s=Rl,Rl=Uo=null,Fp(o),s)))for(o=0;o<s.length;o++)Fp(s[o])}}function Mc(s,o){var d=s.stateNode;if(d===null)return null;var g=d[Ui]||null;if(g===null)return null;d=g[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break t;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(i(231,o,typeof d));return d}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=!1;if(xa)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{Wu=!1}var ja=null,kp=null,Mh=null;function Gp(){if(Mh)return Mh;var s,o=kp,d=o.length,g,E="value"in ja?ja.value:ja.textContent,w=E.length;for(s=0;s<d&&o[s]===E[s];s++);var G=d-s;for(g=1;g<=G&&o[d-g]===E[w-g];g++);return Mh=E.slice(s,1<g?1-g:void 0)}function Po(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Dc(){return!0}function Zu(){return!1}function Nr(s){function o(d,g,E,w,G){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=w,this.target=G,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(d=s[J],this[J]=d?d(w):w[J]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Dc:Zu,this.isPropagationStopped=Zu,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),o}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Nr(Io),Tc=m({},Io,{view:0,detail:0}),Uv=Nr(Tc),qa,wc,Rc,Cc=m({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Rc&&(Rc&&s.type==="mousemove"?(qa=s.screenX-Rc.screenX,wc=s.screenY-Rc.screenY):wc=qa=0,Rc=s),qa)},movementY:function(s){return"movementY"in s?s.movementY:wc}}),jp=Nr(Cc),Pv=m({},Cc,{dataTransfer:0}),Wb=Nr(Pv),cr=m({},Tc,{relatedTarget:0}),Eh=Nr(cr),Iv=m({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=Nr(Iv),Bv=m({},Io,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hv=Nr(Bv),Ku=m({},Io,{data:0}),Dh=Nr(Ku),Fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=kv[s])?!!o[s]:!1}function Qu(){return qp}var Gv=m({},Tc,{key:function(s){if(s.key){var o=Fv[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Po(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Vv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(s){return s.type==="keypress"?Po(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Po(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xp=Nr(Gv),Yp=m({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=Nr(Yp),jv=m({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),Wp=Nr(jv),qv=m({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xa=Nr(qv),Zp=m({},Cc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=Nr(Zp),Xv=m({},Io,{newState:0,oldState:0}),zo=Nr(Xv),Ya=[9,13,27,32],Ju=xa&&"CompositionEvent"in window,Cl=null;xa&&"documentMode"in document&&(Cl=document.documentMode);var $u=xa&&"TextEvent"in window&&!Cl,tf=xa&&(!Ju||Cl&&8<Cl&&11>=Cl),Bo=" ",ur=!1;function ef(s,o){switch(s){case"keyup":return Ya.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ho=!1;function nf(s,o){switch(s){case"compositionend":return Kp(o);case"keypress":return o.which!==32?null:(ur=!0,Bo);case"textInput":return s=o.data,s===Bo&&ur?null:s;default:return null}}function Qp(s,o){if(Ho)return s==="compositionend"||!Ju&&ef(s,o)?(s=Gp(),Mh=kp=ja=null,Ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return tf&&o.locale!=="ko"?null:o.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Th[s.type]:o==="textarea"}function Yr(s,o,d,g){Uo?Rl?Rl.push(g):Rl=[g]:Uo=g,o=qy(o,"onChange"),0<o.length&&(d=new Ac("onChange","change",null,d,g),s.push({event:d,listeners:o}))}var Oc=null,Ol=null;function Yv(s){sA(s,0)}function rf(s){var o=_t(s);if(rn(o))return s}function wh(s,o){if(s==="change")return o}var Rh=!1;if(xa){var Ch;if(xa){var Nc="oninput"in document;if(!Nc){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Nc=typeof Lc.oninput=="function"}Ch=Nc}else Ch=!1;Rh=Ch&&(!document.documentMode||9<document.documentMode)}function bi(){Oc&&(Oc.detachEvent("onpropertychange",Wv),Ol=Oc=null)}function Wv(s){if(s.propertyName==="value"&&rf(Ol)){var o=[];Yr(o,Ol,s,Sh(s)),Vp(Yv,o)}}function Kb(s,o,d){s==="focusin"?(bi(),Oc=o,Ol=d,Oc.attachEvent("onpropertychange",Wv)):s==="focusout"&&bi()}function Zv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rf(Ol)}function sf(s,o){if(s==="click")return rf(o)}function Fo(s,o){if(s==="input"||s==="change")return rf(o)}function Kv(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Wr=typeof Object.is=="function"?Object.is:Kv;function $s(s,o){if(Wr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!le.call(o,E)||!Wr(s[E],o[E]))return!1}return!0}function Zr(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $p(s,o){var d=Zr(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=o&&g>=o)return{node:d,offset:o-s};s=g}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=Zr(d)}}function tm(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?tm(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function em(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=fn(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=fn(s.document)}return o}function af(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var nm=xa&&"documentMode"in document&&11>=document.documentMode,Wa=null,Oh=null,of=null,Nh=!1;function im(s,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Nh||Wa==null||Wa!==fn(g)||(g=Wa,"selectionStart"in g&&af(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),of&&$s(of,g)||(of=g,g=qy(Oh,"onSelect"),0<g.length&&(o=new Ac("onSelect","select",null,o,d),s.push({event:o,listeners:g}),o.target=Wa)))}function fr(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var Vo={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},Lh={},Qv={};xa&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Za(s){if(Lh[s])return Lh[s];if(!Vo[s])return s;var o=Vo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in Qv)return Lh[s]=o[d];return s}var Lr=Za("animationend"),rm=Za("animationiteration"),Kr=Za("animationstart"),Jv=Za("transitionrun"),Ka=Za("transitionstart"),Uc=Za("transitioncancel"),Qa=Za("transitionend"),Uh=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function er(s,o){Uh.set(s,o),ae(o,[s])}var sm=new WeakMap;function hr(s,o){if(typeof s=="object"&&s!==null){var d=sm.get(s);return d!==void 0?d:(o={value:s,source:o,stack:Nn(o)},sm.set(s,o),o)}return{value:s,source:o,stack:Nn(o)}}var Mr=[],Us=0,Ph=0;function cf(){for(var s=Us,o=Ph=Us=0;o<s;){var d=Mr[o];Mr[o++]=null;var g=Mr[o];Mr[o++]=null;var E=Mr[o];Mr[o++]=null;var w=Mr[o];if(Mr[o++]=null,g!==null&&E!==null){var G=g.pending;G===null?E.next=E:(E.next=G.next,G.next=E),g.pending=E}w!==0&&am(d,E,w)}}function ko(s,o,d,g){Mr[Us++]=s,Mr[Us++]=o,Mr[Us++]=d,Mr[Us++]=g,Ph|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Ih(s,o,d,g){return ko(s,o,d,g),Pc(s)}function Ja(s,o){return ko(s,null,null,o),Pc(s)}function am(s,o,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var E=!1,w=s.return;w!==null;)w.childLanes|=d,g=w.alternate,g!==null&&(g.childLanes|=d),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(E=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,E&&o!==null&&(E=31-Me(d),s=w.hiddenUpdates,g=s[E],g===null?s[E]=[o]:g.push(o),o.lane=d|536870912),w):null}function Pc(s){if(50<Ua)throw Ua=0,Zl=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Go={};function om(s,o,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(s,o,d,g){return new om(s,o,d,g)}function uf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ii(s,o){var d=s.alternate;return d===null?(d=Qr(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function lm(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function nr(s,o,d,g,E,w){var G=0;if(g=s,typeof s=="function")uf(s)&&(G=1);else if(typeof s=="string")G=aP(s,d,$.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case L:return s=Qr(31,d,o,E),s.elementType=L,s.lanes=w,s;case S:return jo(d.children,E,w,o);case A:G=8,E|=24;break;case M:return s=Qr(12,d,o,E|2),s.elementType=M,s.lanes=w,s;case I:return s=Qr(13,d,o,E),s.elementType=I,s.lanes=w,s;case P:return s=Qr(19,d,o,E),s.elementType=P,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:case R:G=10;break t;case T:G=9;break t;case O:G=11;break t;case B:G=14;break t;case N:G=16,g=null;break t}G=29,d=Error(i(130,s===null?"null":typeof s,"")),g=null}return o=Qr(G,d,o,E),o.elementType=s,o.type=g,o.lanes=w,o}function jo(s,o,d,g){return s=Qr(7,s,g,o),s.lanes=d,s}function ff(s,o,d){return s=Qr(6,s,null,o),s.lanes=d,s}function zh(s,o,d){return o=Qr(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ic=[],Jr=0,hf=null,zc=0,dr=[],ls=0,qo=null,ba=1,Sa="";function $a(s,o){Ic[Jr++]=zc,Ic[Jr++]=hf,hf=s,zc=o}function Bh(s,o,d){dr[ls++]=ba,dr[ls++]=Sa,dr[ls++]=qo,qo=s;var g=ba;s=Sa;var E=32-Me(g)-1;g&=~(1<<E),d+=1;var w=32-Me(o)+E;if(30<w){var G=E-E%5;w=(g&(1<<G)-1).toString(32),g>>=G,E-=G,ba=1<<32-Me(o)+E|d<<E|g,Sa=w+s}else ba=1<<w|d<<E|g,Sa=s}function cm(s){s.return!==null&&($a(s,1),Bh(s,1,0))}function um(s){for(;s===hf;)hf=Ic[--Jr],Ic[Jr]=null,zc=Ic[--Jr],Ic[Jr]=null;for(;s===qo;)qo=dr[--ls],dr[ls]=null,Sa=dr[--ls],dr[ls]=null,ba=dr[--ls],dr[ls]=null}var Ur=null,Si=null,Hn=!1,Ps=null,cs=!1,Hh=Error(i(519));function Xo(s){var o=Error(i(418,""));throw Nl(hr(o,s)),Hh}function $v(s){var o=s.stateNode,d=s.type,g=s.memoizedProps;switch(o[Di]=s,o[Ui]=g,d){case"dialog":Ln("cancel",o),Ln("close",o);break;case"iframe":case"object":case"embed":Ln("load",o);break;case"video":case"audio":for(d=0;d<Vm.length;d++)Ln(Vm[d],o);break;case"source":Ln("error",o);break;case"img":case"image":case"link":Ln("error",o),Ln("load",o);break;case"details":Ln("toggle",o);break;case"input":Ln("invalid",o),vn(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Kn(o);break;case"select":Ln("invalid",o);break;case"textarea":Ln("invalid",o),tr(o,g.value,g.defaultValue,g.children),Kn(o)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||g.suppressHydrationWarning===!0||cA(o.textContent,d)?(g.popover!=null&&(Ln("beforetoggle",o),Ln("toggle",o)),g.onScroll!=null&&Ln("scroll",o),g.onScrollEnd!=null&&Ln("scrollend",o),g.onClick!=null&&(o.onclick=Xy),o=!0):o=!1,o||Xo(s)}function fm(s){for(Ur=s.return;Ur;)switch(Ur.tag){case 5:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:Ur=Ur.return}}function ta(s){if(s!==Ur)return!1;if(!Hn)return fm(s),Hn=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||gS(s.type,s.memoizedProps)),d=!d),d&&Si&&Xo(s),fm(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(o===0){Si=po(s.nextSibling);break t}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;s=s.nextSibling}Si=null}}else o===27?(o=Si,lu(s.type)?(s=xS,xS=null,Si=s):Si=o):Si=Ur?po(s.stateNode.nextSibling):null;return!0}function Bc(){Si=Ur=null,Hn=!1}function Xn(){var s=Ps;return s!==null&&(Ze===null?Ze=s:Ze.push.apply(Ze,s),Ps=null),s}function Nl(s){Ps===null?Ps=[s]:Ps.push(s)}var hm=st(null),Yo=null,to=null;function Wo(s,o,d){dt(hm,o._currentValue),o._currentValue=d}function eo(s){s._currentValue=hm.current,ht(hm)}function dm(s,o,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===d)break;s=s.return}}function df(s,o,d,g){var E=s.child;for(E!==null&&(E.return=s);E!==null;){var w=E.dependencies;if(w!==null){var G=E.child;w=w.firstContext;t:for(;w!==null;){var J=w;w=E;for(var mt=0;mt<o.length;mt++)if(J.context===o[mt]){w.lanes|=d,J=w.alternate,J!==null&&(J.lanes|=d),dm(w.return,d,s),g||(G=null);break t}w=J.next}}else if(E.tag===18){if(G=E.return,G===null)throw Error(i(341));G.lanes|=d,w=G.alternate,w!==null&&(w.lanes|=d),dm(G,d,s),G=null}else G=E.child;if(G!==null)G.return=E;else for(G=E;G!==null;){if(G===s){G=null;break}if(E=G.sibling,E!==null){E.return=G.return,G=E;break}G=G.return}E=G}}function Is(s,o,d,g){s=null;for(var E=o,w=!1;E!==null;){if(!w){if((E.flags&524288)!==0)w=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var G=E.alternate;if(G===null)throw Error(i(387));if(G=G.memoizedProps,G!==null){var J=E.type;Wr(E.pendingProps.value,G.value)||(s!==null?s.push(J):s=[J])}}else if(E===pt.current){if(G=E.alternate,G===null)throw Error(i(387));G.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(s!==null?s.push(Ym):s=[Ym])}E=E.return}s!==null&&df(o,s,d,g),o.flags|=262144}function pf(s){for(s=s.firstContext;s!==null;){if(!Wr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ma(s){Yo=s,to=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ai(s){return Fh(Yo,s)}function mf(s,o){return Yo===null&&Ma(s),Fh(s,o)}function Fh(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},to===null){if(s===null)throw Error(i(308));to=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else to=to.next=o;return d}var pm=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},Qb=n.unstable_scheduleCallback,ty=n.unstable_NormalPriority,Gi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new pm,data:new Map,refCount:0}}function Hc(s){s.refCount--,s.refCount===0&&Qb(ty,function(){s.controller.abort()})}var Fc=null,gf=0,pn=0,Vc=null;function us(s,o){if(Fc===null){var d=Fc=[];gf=0,pn=oS(),Vc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return gf++,o.then(kh,kh),o}function kh(){if(--gf===0&&Fc!==null){Vc!==null&&(Vc.status="fulfilled");var s=Fc;Fc=null,pn=0,Vc=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Jb(s,o){var d=[],g={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return s.then(function(){g.status="fulfilled",g.value=o;for(var E=0;E<d.length;E++)(0,d[E])(o)},function(E){for(g.status="rejected",g.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),g}var vf=H.S;H.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&us(s,o),vf!==null&&vf(s,o)};var zs=st(null);function Zo(){var s=zs.current;return s!==null?s:hn.pooledCache}function yf(s,o){o===null?dt(zs,zs.current):dt(zs,o.pool)}function Gh(){var s=Zo();return s===null?null:{parent:Gi._currentValue,pool:s}}var _f=Error(i(460)),mm=Error(i(474)),ea=Error(i(542)),xf={then:function(){}};function jh(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kc(){}function qh(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(kc,kc),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ey(s),s;default:if(typeof o.status=="string")o.then(kc,kc);else{if(s=hn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(g){if(o.status==="pending"){var E=o;E.status="fulfilled",E.value=g}},function(g){if(o.status==="pending"){var E=o;E.status="rejected",E.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ey(s),s}throw Bs=o,_f}}var Bs=null;function gm(){if(Bs===null)throw Error(i(459));var s=Bs;return Bs=null,s}function ey(s){if(s===_f||s===ea)throw Error(i(483))}var no=!1;function vm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sn(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ea(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function io(s,o,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Yn&2)!==0){var E=g.pending;return E===null?o.next=o:(o.next=E.next,E.next=o),g.pending=o,o=Pc(s),am(s,null,d),o}return ko(s,g,o,d),Pc(s)}function Ll(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var g=o.lanes;g&=s.pendingLanes,d|=g,o.lanes=d,nn(s,d)}}function Gc(s,o){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var G={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?E=w=G:w=w.next=G,d=d.next}while(d!==null);w===null?E=w=o:w=w.next=o}else E=w=o;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var ym=!1;function bf(){if(ym){var s=Vc;if(s!==null)throw s}}function jc(s,o,d,g){ym=!1;var E=s.updateQueue;no=!1;var w=E.firstBaseUpdate,G=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var mt=J,Ot=mt.next;mt.next=null,G===null?w=Ot:G.next=Ot,G=mt;var te=s.alternate;te!==null&&(te=te.updateQueue,J=te.lastBaseUpdate,J!==G&&(J===null?te.firstBaseUpdate=Ot:J.next=Ot,te.lastBaseUpdate=mt))}if(w!==null){var re=E.baseState;G=0,te=Ot=mt=null,J=w;do{var Bt=J.lane&-536870913,Vt=Bt!==J.lane;if(Vt?(qe&Bt)===Bt:(g&Bt)===Bt){Bt!==0&&Bt===pn&&(ym=!0),te!==null&&(te=te.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});t:{var on=s,Qe=J;Bt=o;var pi=d;switch(Qe.tag){case 1:if(on=Qe.payload,typeof on=="function"){re=on.call(pi,re,Bt);break t}re=on;break t;case 3:on.flags=on.flags&-65537|128;case 0:if(on=Qe.payload,Bt=typeof on=="function"?on.call(pi,re,Bt):on,Bt==null)break t;re=m({},re,Bt);break t;case 2:no=!0}}Bt=J.callback,Bt!==null&&(s.flags|=64,Vt&&(s.flags|=8192),Vt=E.callbacks,Vt===null?E.callbacks=[Bt]:Vt.push(Bt))}else Vt={lane:Bt,tag:J.tag,payload:J.payload,callback:J.callback,next:null},te===null?(Ot=te=Vt,mt=re):te=te.next=Vt,G|=Bt;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Vt=J,J=Vt.next,Vt.next=null,E.lastBaseUpdate=Vt,E.shared.pending=null}}while(!0);te===null&&(mt=re),E.baseState=mt,E.firstBaseUpdate=Ot,E.lastBaseUpdate=te,w===null&&(E.shared.lanes=0),ca|=G,s.lanes=G,s.memoizedState=re}}function qc(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function ny(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)qc(d[s],o)}var Xc=st(null),Xh=st(0);function iy(s,o){s=js,dt(Xh,s),dt(Xc,o),js=s|o.baseLanes}function _m(){dt(Xh,js),dt(Xc,Xc.current)}function Sf(){js=Xh.current,ht(Xc),ht(Xh)}var ro=0,mn=null,Qn=null,ji=null,Yh=!1,Ko=!1,Pr=!1,Yi=0,Hs=0,pr=null,ry=0;function zi(){throw Error(i(321))}function Er(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Wr(s[d],o[d]))return!1;return!0}function so(s,o,d,g,E,w){return ro=w,mn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=s===null||s.memoizedState===null?nd:Pm,Pr=!1,w=d(g,E),Pr=!1,Ko&&(w=ay(o,d,g,E)),sy(s),w}function sy(s){H.H=Df;var o=Qn!==null&&Qn.next!==null;if(ro=0,ji=Qn=mn=null,Yh=!1,Hs=0,pr=null,o)throw Error(i(300));s===null||ir||(s=s.dependencies,s!==null&&pf(s)&&(ir=!0))}function ay(s,o,d,g){mn=s;var E=0;do{if(Ko&&(pr=null),Hs=0,Ko=!1,25<=E)throw Error(i(301));if(E+=1,ji=Qn=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}H.H=Ny,w=o(d,g)}while(Ko);return w}function $b(){var s=H.H,o=s.useState()[0];return o=typeof o.then=="function"?na(o):o,s=s.useState()[0],(Qn!==null?Qn.memoizedState:null)!==s&&(mn.flags|=1024),o}function xm(){var s=Yi!==0;return Yi=0,s}function Wh(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function bm(s){if(Yh){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Yh=!1}ro=0,ji=Qn=mn=null,Ko=!1,Hs=Yi=0,pr=null}function Ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?mn.memoizedState=ji=s:ji=ji.next=s,ji}function qi(){if(Qn===null){var s=mn.alternate;s=s!==null?s.memoizedState:null}else s=Qn.next;var o=ji===null?mn.memoizedState:ji.next;if(o!==null)ji=o,Qn=s;else{if(s===null)throw mn.alternate===null?Error(i(467)):Error(i(310));Qn=s,s={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},ji===null?mn.memoizedState=ji=s:ji=ji.next=s}return ji}function Qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function na(s){var o=Hs;return Hs+=1,pr===null&&(pr=[]),s=qh(pr,s,o),o=mn,(ji===null?o.memoizedState:ji.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?nd:Pm),s}function Zh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return na(s);if(s.$$typeof===R)return Ai(s)}throw Error(i(438,String(s)))}function Sm(s){var o=null,d=mn.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var g=mn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(E){return E.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Qo(),mn.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),g=0;g<s;g++)d[g]=U;return o.index++,d}function ao(s,o){return typeof o=="function"?o(s):o}function Jo(s){var o=qi();return Mm(o,Qn,s)}function Mm(s,o,d){var g=s.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var E=s.baseQueue,w=g.pending;if(w!==null){if(E!==null){var G=E.next;E.next=w.next,w.next=G}o.baseQueue=E=w,g.pending=null}if(w=s.baseState,E===null)s.memoizedState=w;else{o=E.next;var J=G=null,mt=null,Ot=o,te=!1;do{var re=Ot.lane&-536870913;if(re!==Ot.lane?(qe&re)===re:(ro&re)===re){var Bt=Ot.revertLane;if(Bt===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),re===pn&&(te=!0);else if((ro&Bt)===Bt){Ot=Ot.next,Bt===pn&&(te=!0);continue}else re={lane:0,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},mt===null?(J=mt=re,G=w):mt=mt.next=re,mn.lanes|=Bt,ca|=Bt;re=Ot.action,Pr&&d(w,re),w=Ot.hasEagerState?Ot.eagerState:d(w,re)}else Bt={lane:re,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},mt===null?(J=mt=Bt,G=w):mt=mt.next=Bt,mn.lanes|=re,ca|=re;Ot=Ot.next}while(Ot!==null&&Ot!==o);if(mt===null?G=w:mt.next=J,!Wr(w,s.memoizedState)&&(ir=!0,te&&(d=Vc,d!==null)))throw d;s.memoizedState=w,s.baseState=G,s.baseQueue=mt,g.lastRenderedState=w}return E===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Em(s){var o=qi(),d=o.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=s;var g=d.dispatch,E=d.pending,w=o.memoizedState;if(E!==null){d.pending=null;var G=E=E.next;do w=s(w,G.action),G=G.next;while(G!==E);Wr(w,o.memoizedState)||(ir=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),d.lastRenderedState=w}return[w,g]}function oy(s,o,d){var g=mn,E=qi(),w=Hn;if(w){if(d===void 0)throw Error(i(407));d=d()}else d=o();var G=!Wr((Qn||E).memoizedState,d);G&&(E.memoizedState=d,ir=!0),E=E.queue;var J=cy.bind(null,g,E,s);if(Zc(2048,8,J,[s]),E.getSnapshot!==o||G||ji!==null&&ji.memoizedState.tag&1){if(g.flags|=2048,Wc(9,Mf(),ly.bind(null,g,E,d,o),null),hn===null)throw Error(i(349));w||(ro&124)!==0||Yc(g,o,d)}return d}function Yc(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=mn.updateQueue,o===null?(o=Qo(),mn.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function ly(s,o,d,g){o.value=d,o.getSnapshot=g,uy(o)&&fy(s)}function cy(s,o,d){return d(function(){uy(o)&&fy(s)})}function uy(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Wr(s,d)}catch{return!0}}function fy(s){var o=Ja(s,2);o!==null&&Hr(o,s,2)}function Dm(s){var o=Ir();if(typeof s=="function"){var d=s;if(s=d(),Pr){fe(!0);try{d()}finally{fe(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:s},o}function hy(s,o,d,g){return s.baseState=d,Mm(s,Qn,typeof g=="function"?g:ao)}function tS(s,o,d,g,E){if(ed(s))throw Error(i(485));if(s=o.action,s!==null){var w={payload:E,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){w.listeners.push(G)}};H.T!==null?d(!0):w.isTransition=!1,g(w),d=o.pending,d===null?(w.next=o.pending=w,dy(o,w)):(w.next=d.next,o.pending=d.next=w)}}function dy(s,o){var d=o.action,g=o.payload,E=s.state;if(o.isTransition){var w=H.T,G={};H.T=G;try{var J=d(E,g),mt=H.S;mt!==null&&mt(G,J),py(s,o,J)}catch(Ot){Am(s,o,Ot)}finally{H.T=w}}else try{w=d(E,g),py(s,o,w)}catch(Ot){Am(s,o,Ot)}}function py(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){my(s,o,g)},function(g){return Am(s,o,g)}):my(s,o,d)}function my(s,o,d){o.status="fulfilled",o.value=d,gy(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,dy(s,d)))}function Am(s,o,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=d,gy(o),o=o.next;while(o!==g)}s.action=null}function gy(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Tm(s,o){return o}function vy(s,o){if(Hn){var d=hn.formState;if(d!==null){t:{var g=mn;if(Hn){if(Si){e:{for(var E=Si,w=cs;E.nodeType!==8;){if(!w){E=null;break e}if(E=po(E.nextSibling),E===null){E=null;break e}}w=E.data,E=w==="F!"||w==="F"?E:null}if(E){Si=po(E.nextSibling),g=E.data==="F!";break t}}Xo(g)}g=!1}g&&(o=d[0])}}return d=Ir(),d.memoizedState=d.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:o},d.queue=g,d=Cy.bind(null,mn,g),g.dispatch=d,g=Dm(!1),w=td.bind(null,mn,!1,g.queue),g=Ir(),E={state:o,dispatch:null,action:s,pending:null},g.queue=E,d=tS.bind(null,mn,E,w,d),E.dispatch=d,g.memoizedState=s,[o,d,!1]}function yy(s){var o=qi();return _y(o,Qn,s)}function _y(s,o,d){if(o=Mm(s,o,Tm)[0],s=Jo(ao)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=na(o)}catch(G){throw G===_f?ea:G}else g=o;o=qi();var E=o.queue,w=E.dispatch;return d!==o.memoizedState&&(mn.flags|=2048,Wc(9,Mf(),eS.bind(null,E,d),null)),[g,w,s]}function eS(s,o){s.action=o}function xy(s){var o=qi(),d=Qn;if(d!==null)return _y(o,d,s);qi(),o=o.memoizedState,d=qi();var g=d.queue.dispatch;return d.memoizedState=s,[o,g,!1]}function Wc(s,o,d,g){return s={tag:s,create:d,deps:g,inst:o,next:null},o=mn.updateQueue,o===null&&(o=Qo(),mn.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,o.lastEffect=s),s}function Mf(){return{destroy:void 0,resource:void 0}}function wm(){return qi().memoizedState}function Kh(s,o,d,g){var E=Ir();g=g===void 0?null:g,mn.flags|=s,E.memoizedState=Wc(1|o,Mf(),d,g)}function Zc(s,o,d,g){var E=qi();g=g===void 0?null:g;var w=E.memoizedState.inst;Qn!==null&&g!==null&&Er(g,Qn.memoizedState.deps)?E.memoizedState=Wc(o,w,d,g):(mn.flags|=s,E.memoizedState=Wc(1|o,w,d,g))}function Rm(s,o){Kh(8390656,8,s,o)}function Cm(s,o){Zc(2048,8,s,o)}function Qh(s,o){return Zc(4,2,s,o)}function Jh(s,o){return Zc(4,4,s,o)}function by(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Sy(s,o,d){d=d!=null?d.concat([s]):null,Zc(4,4,by.bind(null,o,s),d)}function Om(){}function My(s,o){var d=qi();o=o===void 0?null:o;var g=d.memoizedState;return o!==null&&Er(o,g[1])?g[0]:(d.memoizedState=[s,o],s)}function Nm(s,o){var d=qi();o=o===void 0?null:o;var g=d.memoizedState;if(o!==null&&Er(o,g[1]))return g[0];if(g=s(),Pr){fe(!0);try{s()}finally{fe(!1)}}return d.memoizedState=[g,o],g}function $h(s,o,d){return d===void 0||(ro&1073741824)!==0?s.memoizedState=o:(s.memoizedState=d,s=dd(),mn.lanes|=s,ca|=s,d)}function Ey(s,o,d,g){return Wr(d,o)?d:Xc.current!==null?(s=$h(s,d,g),Wr(s,o)||(ir=!0),s):(ro&42)===0?(ir=!0,s.memoizedState=d):(s=dd(),mn.lanes|=s,ca|=s,o)}function Dy(s,o,d,g,E){var w=k.p;k.p=w!==0&&8>w?w:8;var G=H.T,J={};H.T=J,td(s,!1,o,d);try{var mt=E(),Ot=H.S;if(Ot!==null&&Ot(J,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var te=Jb(mt,g);Ef(s,o,te,Ri(s))}else Ef(s,o,g,Ri(s))}catch(re){Ef(s,o,{then:function(){},status:"rejected",reason:re},Ri())}finally{k.p=w,H.T=G}}function nS(){}function Lm(s,o,d,g){if(s.tag!==5)throw Error(i(476));var E=Ay(s).queue;Dy(s,E,o,V,d===null?nS:function(){return Ty(s),d(g)})}function Ay(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:V},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Ty(s){var o=Ay(s).next.queue;Ef(s,o,{},Ri())}function Um(){return Ai(Ym)}function wy(){return qi().memoizedState}function Ry(){return qi().memoizedState}function iS(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=Ri();s=Ea(d);var g=io(o,s,d);g!==null&&(Hr(g,o,d),Ll(g,o,d)),o={cache:Vh()},s.payload=o;return}o=o.return}}function rS(s,o,d){var g=Ri();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},ed(s)?Oy(o,d):(d=Ih(s,o,d,g),d!==null&&(Hr(d,s,g),fs(d,o,g)))}function Cy(s,o,d){var g=Ri();Ef(s,o,d,g)}function Ef(s,o,d,g){var E={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(ed(s))Oy(o,E);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var G=o.lastRenderedState,J=w(G,d);if(E.hasEagerState=!0,E.eagerState=J,Wr(J,G))return ko(s,o,E,0),hn===null&&cf(),!1}catch{}finally{}if(d=Ih(s,o,E,g),d!==null)return Hr(d,s,g),fs(d,o,g),!0}return!1}function td(s,o,d,g){if(g={lane:2,revertLane:oS(),action:g,hasEagerState:!1,eagerState:null,next:null},ed(s)){if(o)throw Error(i(479))}else o=Ih(s,d,g,2),o!==null&&Hr(o,s,2)}function ed(s){var o=s.alternate;return s===mn||o!==null&&o===mn}function Oy(s,o){Ko=Yh=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function fs(s,o,d){if((d&4194048)!==0){var g=o.lanes;g&=s.pendingLanes,d|=g,o.lanes=d,nn(s,d)}}var Df={readContext:Ai,use:Zh,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useLayoutEffect:zi,useInsertionEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useSyncExternalStore:zi,useId:zi,useHostTransitionStatus:zi,useFormState:zi,useActionState:zi,useOptimistic:zi,useMemoCache:zi,useCacheRefresh:zi},nd={readContext:Ai,use:Zh,useCallback:function(s,o){return Ir().memoizedState=[s,o===void 0?null:o],s},useContext:Ai,useEffect:Rm,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,Kh(4194308,4,by.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Kh(4194308,4,s,o)},useInsertionEffect:function(s,o){Kh(4,2,s,o)},useMemo:function(s,o){var d=Ir();o=o===void 0?null:o;var g=s();if(Pr){fe(!0);try{s()}finally{fe(!1)}}return d.memoizedState=[g,o],g},useReducer:function(s,o,d){var g=Ir();if(d!==void 0){var E=d(o);if(Pr){fe(!0);try{d(o)}finally{fe(!1)}}}else E=o;return g.memoizedState=g.baseState=E,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:E},g.queue=s,s=s.dispatch=rS.bind(null,mn,s),[g.memoizedState,s]},useRef:function(s){var o=Ir();return s={current:s},o.memoizedState=s},useState:function(s){s=Dm(s);var o=s.queue,d=Cy.bind(null,mn,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:Om,useDeferredValue:function(s,o){var d=Ir();return $h(d,s,o)},useTransition:function(){var s=Dm(!1);return s=Dy.bind(null,mn,s.queue,!0,!1),Ir().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var g=mn,E=Ir();if(Hn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=o(),hn===null)throw Error(i(349));(qe&124)!==0||Yc(g,o,d)}E.memoizedState=d;var w={value:d,getSnapshot:o};return E.queue=w,Rm(cy.bind(null,g,w,s),[s]),g.flags|=2048,Wc(9,Mf(),ly.bind(null,g,w,d,o),null),d},useId:function(){var s=Ir(),o=hn.identifierPrefix;if(Hn){var d=Sa,g=ba;d=(g&~(1<<32-Me(g)-1)).toString(32)+d,o="«"+o+"R"+d,d=Yi++,0<d&&(o+="H"+d.toString(32)),o+="»"}else d=ry++,o="«"+o+"r"+d.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:Um,useFormState:vy,useActionState:vy,useOptimistic:function(s){var o=Ir();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=td.bind(null,mn,!0,d),d.dispatch=o,[s,o]},useMemoCache:Sm,useCacheRefresh:function(){return Ir().memoizedState=iS.bind(null,mn)}},Pm={readContext:Ai,use:Zh,useCallback:My,useContext:Ai,useEffect:Cm,useImperativeHandle:Sy,useInsertionEffect:Qh,useLayoutEffect:Jh,useMemo:Nm,useReducer:Jo,useRef:wm,useState:function(){return Jo(ao)},useDebugValue:Om,useDeferredValue:function(s,o){var d=qi();return Ey(d,Qn.memoizedState,s,o)},useTransition:function(){var s=Jo(ao)[0],o=qi().memoizedState;return[typeof s=="boolean"?s:na(s),o]},useSyncExternalStore:oy,useId:wy,useHostTransitionStatus:Um,useFormState:yy,useActionState:yy,useOptimistic:function(s,o){var d=qi();return hy(d,Qn,s,o)},useMemoCache:Sm,useCacheRefresh:Ry},Ny={readContext:Ai,use:Zh,useCallback:My,useContext:Ai,useEffect:Cm,useImperativeHandle:Sy,useInsertionEffect:Qh,useLayoutEffect:Jh,useMemo:Nm,useReducer:Em,useRef:wm,useState:function(){return Em(ao)},useDebugValue:Om,useDeferredValue:function(s,o){var d=qi();return Qn===null?$h(d,s,o):Ey(d,Qn.memoizedState,s,o)},useTransition:function(){var s=Em(ao)[0],o=qi().memoizedState;return[typeof s=="boolean"?s:na(s),o]},useSyncExternalStore:oy,useId:wy,useHostTransitionStatus:Um,useFormState:xy,useActionState:xy,useOptimistic:function(s,o){var d=qi();return Qn!==null?hy(d,Qn,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:Ry},Ul=null,Af=0;function Tf(s){var o=Af;return Af+=1,Ul===null&&(Ul=[]),qh(Ul,s,o)}function Kc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function id(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Ly(s){var o=s._init;return o(s._payload)}function Uy(s){function o(At,Mt){if(s){var wt=At.deletions;wt===null?(At.deletions=[Mt],At.flags|=16):wt.push(Mt)}}function d(At,Mt){if(!s)return null;for(;Mt!==null;)o(At,Mt),Mt=Mt.sibling;return null}function g(At){for(var Mt=new Map;At!==null;)At.key!==null?Mt.set(At.key,At):Mt.set(At.index,At),At=At.sibling;return Mt}function E(At,Mt){return At=Ii(At,Mt),At.index=0,At.sibling=null,At}function w(At,Mt,wt){return At.index=wt,s?(wt=At.alternate,wt!==null?(wt=wt.index,wt<Mt?(At.flags|=67108866,Mt):wt):(At.flags|=67108866,Mt)):(At.flags|=1048576,Mt)}function G(At){return s&&At.alternate===null&&(At.flags|=67108866),At}function J(At,Mt,wt,ie){return Mt===null||Mt.tag!==6?(Mt=ff(wt,At.mode,ie),Mt.return=At,Mt):(Mt=E(Mt,wt),Mt.return=At,Mt)}function mt(At,Mt,wt,ie){var Ue=wt.type;return Ue===S?te(At,Mt,wt.props.children,ie,wt.key):Mt!==null&&(Mt.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===N&&Ly(Ue)===Mt.type)?(Mt=E(Mt,wt.props),Kc(Mt,wt),Mt.return=At,Mt):(Mt=nr(wt.type,wt.key,wt.props,null,At.mode,ie),Kc(Mt,wt),Mt.return=At,Mt)}function Ot(At,Mt,wt,ie){return Mt===null||Mt.tag!==4||Mt.stateNode.containerInfo!==wt.containerInfo||Mt.stateNode.implementation!==wt.implementation?(Mt=zh(wt,At.mode,ie),Mt.return=At,Mt):(Mt=E(Mt,wt.children||[]),Mt.return=At,Mt)}function te(At,Mt,wt,ie,Ue){return Mt===null||Mt.tag!==7?(Mt=jo(wt,At.mode,ie,Ue),Mt.return=At,Mt):(Mt=E(Mt,wt),Mt.return=At,Mt)}function re(At,Mt,wt){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return Mt=ff(""+Mt,At.mode,wt),Mt.return=At,Mt;if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case _:return wt=nr(Mt.type,Mt.key,Mt.props,null,At.mode,wt),Kc(wt,Mt),wt.return=At,wt;case b:return Mt=zh(Mt,At.mode,wt),Mt.return=At,Mt;case N:var ie=Mt._init;return Mt=ie(Mt._payload),re(At,Mt,wt)}if(at(Mt)||K(Mt))return Mt=jo(Mt,At.mode,wt,null),Mt.return=At,Mt;if(typeof Mt.then=="function")return re(At,Tf(Mt),wt);if(Mt.$$typeof===R)return re(At,mf(At,Mt),wt);id(At,Mt)}return null}function Bt(At,Mt,wt,ie){var Ue=Mt!==null?Mt.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Ue!==null?null:J(At,Mt,""+wt,ie);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case _:return wt.key===Ue?mt(At,Mt,wt,ie):null;case b:return wt.key===Ue?Ot(At,Mt,wt,ie):null;case N:return Ue=wt._init,wt=Ue(wt._payload),Bt(At,Mt,wt,ie)}if(at(wt)||K(wt))return Ue!==null?null:te(At,Mt,wt,ie,null);if(typeof wt.then=="function")return Bt(At,Mt,Tf(wt),ie);if(wt.$$typeof===R)return Bt(At,Mt,mf(At,wt),ie);id(At,wt)}return null}function Vt(At,Mt,wt,ie,Ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return At=At.get(wt)||null,J(Mt,At,""+ie,Ue);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return At=At.get(ie.key===null?wt:ie.key)||null,mt(Mt,At,ie,Ue);case b:return At=At.get(ie.key===null?wt:ie.key)||null,Ot(Mt,At,ie,Ue);case N:var On=ie._init;return ie=On(ie._payload),Vt(At,Mt,wt,ie,Ue)}if(at(ie)||K(ie))return At=At.get(wt)||null,te(Mt,At,ie,Ue,null);if(typeof ie.then=="function")return Vt(At,Mt,wt,Tf(ie),Ue);if(ie.$$typeof===R)return Vt(At,Mt,wt,mf(Mt,ie),Ue);id(Mt,ie)}return null}function on(At,Mt,wt,ie){for(var Ue=null,On=null,Ge=Mt,$e=Mt=0,Tr=null;Ge!==null&&$e<wt.length;$e++){Ge.index>$e?(Tr=Ge,Ge=null):Tr=Ge.sibling;var Zn=Bt(At,Ge,wt[$e],ie);if(Zn===null){Ge===null&&(Ge=Tr);break}s&&Ge&&Zn.alternate===null&&o(At,Ge),Mt=w(Zn,Mt,$e),On===null?Ue=Zn:On.sibling=Zn,On=Zn,Ge=Tr}if($e===wt.length)return d(At,Ge),Hn&&$a(At,$e),Ue;if(Ge===null){for(;$e<wt.length;$e++)Ge=re(At,wt[$e],ie),Ge!==null&&(Mt=w(Ge,Mt,$e),On===null?Ue=Ge:On.sibling=Ge,On=Ge);return Hn&&$a(At,$e),Ue}for(Ge=g(Ge);$e<wt.length;$e++)Tr=Vt(Ge,At,$e,wt[$e],ie),Tr!==null&&(s&&Tr.alternate!==null&&Ge.delete(Tr.key===null?$e:Tr.key),Mt=w(Tr,Mt,$e),On===null?Ue=Tr:On.sibling=Tr,On=Tr);return s&&Ge.forEach(function(du){return o(At,du)}),Hn&&$a(At,$e),Ue}function Qe(At,Mt,wt,ie){if(wt==null)throw Error(i(151));for(var Ue=null,On=null,Ge=Mt,$e=Mt=0,Tr=null,Zn=wt.next();Ge!==null&&!Zn.done;$e++,Zn=wt.next()){Ge.index>$e?(Tr=Ge,Ge=null):Tr=Ge.sibling;var du=Bt(At,Ge,Zn.value,ie);if(du===null){Ge===null&&(Ge=Tr);break}s&&Ge&&du.alternate===null&&o(At,Ge),Mt=w(du,Mt,$e),On===null?Ue=du:On.sibling=du,On=du,Ge=Tr}if(Zn.done)return d(At,Ge),Hn&&$a(At,$e),Ue;if(Ge===null){for(;!Zn.done;$e++,Zn=wt.next())Zn=re(At,Zn.value,ie),Zn!==null&&(Mt=w(Zn,Mt,$e),On===null?Ue=Zn:On.sibling=Zn,On=Zn);return Hn&&$a(At,$e),Ue}for(Ge=g(Ge);!Zn.done;$e++,Zn=wt.next())Zn=Vt(Ge,At,$e,Zn.value,ie),Zn!==null&&(s&&Zn.alternate!==null&&Ge.delete(Zn.key===null?$e:Zn.key),Mt=w(Zn,Mt,$e),On===null?Ue=Zn:On.sibling=Zn,On=Zn);return s&&Ge.forEach(function(yP){return o(At,yP)}),Hn&&$a(At,$e),Ue}function pi(At,Mt,wt,ie){if(typeof wt=="object"&&wt!==null&&wt.type===S&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case _:t:{for(var Ue=wt.key;Mt!==null;){if(Mt.key===Ue){if(Ue=wt.type,Ue===S){if(Mt.tag===7){d(At,Mt.sibling),ie=E(Mt,wt.props.children),ie.return=At,At=ie;break t}}else if(Mt.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===N&&Ly(Ue)===Mt.type){d(At,Mt.sibling),ie=E(Mt,wt.props),Kc(ie,wt),ie.return=At,At=ie;break t}d(At,Mt);break}else o(At,Mt);Mt=Mt.sibling}wt.type===S?(ie=jo(wt.props.children,At.mode,ie,wt.key),ie.return=At,At=ie):(ie=nr(wt.type,wt.key,wt.props,null,At.mode,ie),Kc(ie,wt),ie.return=At,At=ie)}return G(At);case b:t:{for(Ue=wt.key;Mt!==null;){if(Mt.key===Ue)if(Mt.tag===4&&Mt.stateNode.containerInfo===wt.containerInfo&&Mt.stateNode.implementation===wt.implementation){d(At,Mt.sibling),ie=E(Mt,wt.children||[]),ie.return=At,At=ie;break t}else{d(At,Mt);break}else o(At,Mt);Mt=Mt.sibling}ie=zh(wt,At.mode,ie),ie.return=At,At=ie}return G(At);case N:return Ue=wt._init,wt=Ue(wt._payload),pi(At,Mt,wt,ie)}if(at(wt))return on(At,Mt,wt,ie);if(K(wt)){if(Ue=K(wt),typeof Ue!="function")throw Error(i(150));return wt=Ue.call(wt),Qe(At,Mt,wt,ie)}if(typeof wt.then=="function")return pi(At,Mt,Tf(wt),ie);if(wt.$$typeof===R)return pi(At,Mt,mf(At,wt),ie);id(At,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint"?(wt=""+wt,Mt!==null&&Mt.tag===6?(d(At,Mt.sibling),ie=E(Mt,wt),ie.return=At,At=ie):(d(At,Mt),ie=ff(wt,At.mode,ie),ie.return=At,At=ie),G(At)):d(At,Mt)}return function(At,Mt,wt,ie){try{Af=0;var Ue=pi(At,Mt,wt,ie);return Ul=null,Ue}catch(Ge){if(Ge===_f||Ge===ea)throw Ge;var On=Qr(29,Ge,null,At.mode);return On.lanes=ie,On.return=At,On}finally{}}}var Pl=Uy(!0),Py=Uy(!1),ni=st(null),ia=null;function $o(s){var o=s.alternate;dt(Bi,Bi.current&1),dt(ni,s),ia===null&&(o===null||Xc.current!==null||o.memoizedState!==null)&&(ia=s)}function Iy(s){if(s.tag===22){if(dt(Bi,Bi.current),dt(ni,s),ia===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(ia=s)}}else tl()}function tl(){dt(Bi,Bi.current),dt(ni,ni.current)}function Da(s){ht(ni),ia===s&&(ia=null),ht(Bi)}var Bi=st(0);function oo(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||_S(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function el(s,o,d,g){o=s.memoizedState,d=d(g,o),d=d==null?o:m({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var zr={enqueueSetState:function(s,o,d){s=s._reactInternals;var g=Ri(),E=Ea(g);E.payload=o,d!=null&&(E.callback=d),o=io(s,E,g),o!==null&&(Hr(o,s,g),Ll(o,s,g))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var g=Ri(),E=Ea(g);E.tag=1,E.payload=o,d!=null&&(E.callback=d),o=io(s,E,g),o!==null&&(Hr(o,s,g),Ll(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Ri(),g=Ea(d);g.tag=2,o!=null&&(g.callback=o),o=io(s,g,d),o!==null&&(Hr(o,s,d),Ll(o,s,d))}};function zy(s,o,d,g,E,w,G){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,w,G):o.prototype&&o.prototype.isPureReactComponent?!$s(d,g)||!$s(E,w):!0}function By(s,o,d,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==s&&zr.enqueueReplaceState(o,o.state,null)}function Aa(s,o){var d=o;if("ref"in o){d={};for(var g in o)g!=="ref"&&(d[g]=o[g])}if(s=s.defaultProps){d===o&&(d=m({},d));for(var E in s)d[E]===void 0&&(d[E]=s[E])}return d}var Il=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function wf(s){Il(s)}function rd(s){console.error(s)}function Hy(s){Il(s)}function sd(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function Fs(s,o,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function ad(s,o,d){return d=Ea(d),d.tag=3,d.payload={element:null},d.callback=function(){sd(s,o)},d}function Fy(s){return s=Ea(s),s.tag=3,s}function od(s,o,d,g){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var w=g.value;s.payload=function(){return E(w)},s.callback=function(){Fs(o,d,g)}}var G=d.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(s.callback=function(){Fs(o,d,g),typeof E!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var J=g.stack;this.componentDidCatch(g.value,{componentStack:J!==null?J:""})})}function sS(s,o,d,g,E){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=d.alternate,o!==null&&Is(o,d,E,!0),d=ni.current,d!==null){switch(d.tag){case 13:return ia===null?c():d.alternate===null&&yi===0&&(yi=3),d.flags&=-257,d.flags|=65536,d.lanes=E,g===xf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([g]):o.add(g),kt(s,g,E)),!1;case 22:return d.flags|=65536,g===xf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([g]):d.add(g)),kt(s,g,E)),!1}throw Error(i(435,d.tag))}return kt(s,g,E),c(),!1}if(Hn)return o=ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=E,g!==Hh&&(s=Error(i(422),{cause:g}),Nl(hr(s,d)))):(g!==Hh&&(o=Error(i(423),{cause:g}),Nl(hr(o,d))),s=s.current.alternate,s.flags|=65536,E&=-E,s.lanes|=E,g=hr(g,d),E=ad(s.stateNode,g,E),Gc(s,E),yi!==4&&(yi=2)),!1;var w=Error(i(520),{cause:g});if(w=hr(w,d),Wn===null?Wn=[w]:Wn.push(w),yi!==4&&(yi=2),o===null)return!0;g=hr(g,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=E&-E,d.lanes|=s,s=ad(d.stateNode,g,s),Gc(d,s),!1;case 1:if(o=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_s===null||!_s.has(w))))return d.flags|=65536,E&=-E,d.lanes|=E,E=Fy(E),od(E,s,d,g),Gc(d,E),!1}d=d.return}while(d!==null);return!1}var Vy=Error(i(461)),ir=!1;function Hi(s,o,d,g){o.child=s===null?Py(o,null,d,g):Pl(o,s.child,d,g)}function $r(s,o,d,g,E){d=d.render;var w=o.ref;if("ref"in g){var G={};for(var J in g)J!=="ref"&&(G[J]=g[J])}else G=g;return Ma(o),g=so(s,o,d,G,w,E),J=xm(),s!==null&&!ir?(Wh(s,o,E),rr(s,o,E)):(Hn&&J&&cm(o),o.flags|=1,Hi(s,o,g,E),o.child)}function ts(s,o,d,g,E){if(s===null){var w=d.type;return typeof w=="function"&&!uf(w)&&w.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=w,Im(s,o,w,g,E)):(s=nr(d.type,null,g,o,o.mode,E),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!Rf(s,E)){var G=w.memoizedProps;if(d=d.compare,d=d!==null?d:$s,d(G,g)&&s.ref===o.ref)return rr(s,o,E)}return o.flags|=1,s=Ii(w,g),s.ref=o.ref,s.return=o,o.child=s}function Im(s,o,d,g,E){if(s!==null){var w=s.memoizedProps;if($s(w,g)&&s.ref===o.ref)if(ir=!1,o.pendingProps=g=w,Rf(s,E))(s.flags&131072)!==0&&(ir=!0);else return o.lanes=s.lanes,rr(s,o,E)}return Qc(s,o,d,g,E)}function zl(s,o,d){var g=o.pendingProps,E=g.children,w=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((o.flags&128)!==0){if(g=w!==null?w.baseLanes|d:d,s!==null){for(E=o.child=s.child,w=0;E!==null;)w=w|E.lanes|E.childLanes,E=E.sibling;o.childLanes=w&~g}else o.childLanes=0,o.child=null;return Bl(s,o,g,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&yf(o,w!==null?w.cachePool:null),w!==null?iy(o,w):_m(),Iy(o);else return o.lanes=o.childLanes=536870912,Bl(s,o,w!==null?w.baseLanes|d:d,d)}else w!==null?(yf(o,w.cachePool),iy(o,w),tl(),o.memoizedState=null):(s!==null&&yf(o,null),_m(),tl());return Hi(s,o,E,d),o.child}function Bl(s,o,d,g){var E=Zo();return E=E===null?null:{parent:Gi._currentValue,pool:E},o.memoizedState={baseLanes:d,cachePool:E},s!==null&&yf(o,null),_m(),Iy(o),s!==null&&Is(s,o,g,!0),null}function Hl(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Qc(s,o,d,g,E){return Ma(o),d=so(s,o,d,g,void 0,E),g=xm(),s!==null&&!ir?(Wh(s,o,E),rr(s,o,E)):(Hn&&g&&cm(o),o.flags|=1,Hi(s,o,d,E),o.child)}function hs(s,o,d,g,E,w){return Ma(o),o.updateQueue=null,d=ay(o,g,d,E),sy(s),g=xm(),s!==null&&!ir?(Wh(s,o,w),rr(s,o,w)):(Hn&&g&&cm(o),o.flags|=1,Hi(s,o,d,w),o.child)}function ds(s,o,d,g,E){if(Ma(o),o.stateNode===null){var w=Go,G=d.contextType;typeof G=="object"&&G!==null&&(w=Ai(G)),w=new d(g,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=zr,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=g,w.state=o.memoizedState,w.refs={},vm(o),G=d.contextType,w.context=typeof G=="object"&&G!==null?Ai(G):Go,w.state=o.memoizedState,G=d.getDerivedStateFromProps,typeof G=="function"&&(el(o,d,G,g),w.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(G=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),G!==w.state&&zr.enqueueReplaceState(w,w.state,null),jc(o,g,w,E),bf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(s===null){w=o.stateNode;var J=o.memoizedProps,mt=Aa(d,J);w.props=mt;var Ot=w.context,te=d.contextType;G=Go,typeof te=="object"&&te!==null&&(G=Ai(te));var re=d.getDerivedStateFromProps;te=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function",J=o.pendingProps!==J,te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(J||Ot!==G)&&By(o,w,g,G),no=!1;var Bt=o.memoizedState;w.state=Bt,jc(o,g,w,E),bf(),Ot=o.memoizedState,J||Bt!==Ot||no?(typeof re=="function"&&(el(o,d,re,g),Ot=o.memoizedState),(mt=no||zy(o,d,mt,g,Bt,Ot,G))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=Ot),w.props=g,w.state=Ot,w.context=G,g=mt):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{w=o.stateNode,sn(s,o),G=o.memoizedProps,te=Aa(d,G),w.props=te,re=o.pendingProps,Bt=w.context,Ot=d.contextType,mt=Go,typeof Ot=="object"&&Ot!==null&&(mt=Ai(Ot)),J=d.getDerivedStateFromProps,(Ot=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G!==re||Bt!==mt)&&By(o,w,g,mt),no=!1,Bt=o.memoizedState,w.state=Bt,jc(o,g,w,E),bf();var Vt=o.memoizedState;G!==re||Bt!==Vt||no||s!==null&&s.dependencies!==null&&pf(s.dependencies)?(typeof J=="function"&&(el(o,d,J,g),Vt=o.memoizedState),(te=no||zy(o,d,te,g,Bt,Vt,mt)||s!==null&&s.dependencies!==null&&pf(s.dependencies))?(Ot||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,Vt,mt),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,Vt,mt)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||G===s.memoizedProps&&Bt===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&Bt===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Vt),w.props=g,w.state=Vt,w.context=mt,g=te):(typeof w.componentDidUpdate!="function"||G===s.memoizedProps&&Bt===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&Bt===s.memoizedState||(o.flags|=1024),g=!1)}return w=g,Hl(s,o),g=(o.flags&128)!==0,w||g?(w=o.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&g?(o.child=Pl(o,s.child,null,E),o.child=Pl(o,null,d,E)):Hi(s,o,d,E),o.memoizedState=w.state,s=o.child):s=rr(s,o,E),s}function nl(s,o,d,g){return Bc(),o.flags|=256,Hi(s,o,d,g),o.child}var ra={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sa(s){return{baseLanes:s,cachePool:Gh()}}function Wi(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=qs),s}function Jc(s,o,d){var g=o.pendingProps,E=!1,w=(o.flags&128)!==0,G;if((G=w)||(G=s!==null&&s.memoizedState===null?!1:(Bi.current&2)!==0),G&&(E=!0,o.flags&=-129),G=(o.flags&32)!==0,o.flags&=-33,s===null){if(Hn){if(E?$o(o):tl(),Hn){var J=Si,mt;if(mt=J){t:{for(mt=J,J=cs;mt.nodeType!==8;){if(!J){J=null;break t}if(mt=po(mt.nextSibling),mt===null){J=null;break t}}J=mt}J!==null?(o.memoizedState={dehydrated:J,treeContext:qo!==null?{id:ba,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},mt=Qr(18,null,null,0),mt.stateNode=J,mt.return=o,o.child=mt,Ur=o,Si=null,mt=!0):mt=!1}mt||Xo(o)}if(J=o.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return _S(J)?o.lanes=32:o.lanes=536870912,null;Da(o)}return J=g.children,g=g.fallback,E?(tl(),E=o.mode,J=Fl({mode:"hidden",children:J},E),g=jo(g,E,d,null),J.return=o,g.return=o,J.sibling=g,o.child=J,E=o.child,E.memoizedState=sa(d),E.childLanes=Wi(s,G,d),o.memoizedState=ra,g):($o(o),Ta(o,J))}if(mt=s.memoizedState,mt!==null&&(J=mt.dehydrated,J!==null)){if(w)o.flags&256?($o(o),o.flags&=-257,o=mr(s,o,d)):o.memoizedState!==null?(tl(),o.child=s.child,o.flags|=128,o=null):(tl(),E=g.fallback,J=o.mode,g=Fl({mode:"visible",children:g.children},J),E=jo(E,J,d,null),E.flags|=2,g.return=o,E.return=o,g.sibling=E,o.child=g,Pl(o,s.child,null,d),g=o.child,g.memoizedState=sa(d),g.childLanes=Wi(s,G,d),o.memoizedState=ra,o=E);else if($o(o),_S(J)){if(G=J.nextSibling&&J.nextSibling.dataset,G)var Ot=G.dgst;G=Ot,g=Error(i(419)),g.stack="",g.digest=G,Nl({value:g,source:null,stack:null}),o=mr(s,o,d)}else if(ir||Is(s,o,d,!1),G=(d&s.childLanes)!==0,ir||G){if(G=hn,G!==null&&(g=d&-d,g=(g&42)!==0?1:Vn(g),g=(g&(G.suspendedLanes|d))!==0?0:g,g!==0&&g!==mt.retryLane))throw mt.retryLane=g,Ja(s,g),Hr(G,s,g),Vy;J.data==="$?"||c(),o=mr(s,o,d)}else J.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=mt.treeContext,Si=po(J.nextSibling),Ur=o,Hn=!0,Ps=null,cs=!1,s!==null&&(dr[ls++]=ba,dr[ls++]=Sa,dr[ls++]=qo,ba=s.id,Sa=s.overflow,qo=o),o=Ta(o,g.children),o.flags|=4096);return o}return E?(tl(),E=g.fallback,J=o.mode,mt=s.child,Ot=mt.sibling,g=Ii(mt,{mode:"hidden",children:g.children}),g.subtreeFlags=mt.subtreeFlags&65011712,Ot!==null?E=Ii(Ot,E):(E=jo(E,J,d,null),E.flags|=2),E.return=o,g.return=o,g.sibling=E,o.child=g,g=E,E=o.child,J=s.child.memoizedState,J===null?J=sa(d):(mt=J.cachePool,mt!==null?(Ot=Gi._currentValue,mt=mt.parent!==Ot?{parent:Ot,pool:Ot}:mt):mt=Gh(),J={baseLanes:J.baseLanes|d,cachePool:mt}),E.memoizedState=J,E.childLanes=Wi(s,G,d),o.memoizedState=ra,g):($o(o),d=s.child,s=d.sibling,d=Ii(d,{mode:"visible",children:g.children}),d.return=o,d.sibling=null,s!==null&&(G=o.deletions,G===null?(o.deletions=[s],o.flags|=16):G.push(s)),o.child=d,o.memoizedState=null,d)}function Ta(s,o){return o=Fl({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Fl(s,o){return s=Qr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function mr(s,o,d){return Pl(o,s.child,null,d),s=Ta(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function gr(s,o,d){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),dm(s.return,o,d)}function Pn(s,o,d,g,E){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=E)}function Vs(s,o,d){var g=o.pendingProps,E=g.revealOrder,w=g.tail;if(Hi(s,o,g.children,d),g=Bi.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gr(s,d,o);else if(s.tag===19)gr(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(dt(Bi,g),E){case"forwards":for(d=o.child,E=null;d!==null;)s=d.alternate,s!==null&&oo(s)===null&&(E=d),d=d.sibling;d=E,d===null?(E=o.child,o.child=null):(E=d.sibling,d.sibling=null),Pn(o,!1,E,d,w);break;case"backwards":for(d=null,E=o.child,o.child=null;E!==null;){if(s=E.alternate,s!==null&&oo(s)===null){o.child=E;break}s=E.sibling,E.sibling=d,d=E,E=s}Pn(o,!0,d,null,w);break;case"together":Pn(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function rr(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),ca|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(Is(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,d=Ii(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=Ii(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function Rf(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&pf(s)))}function ks(s,o,d){switch(o.tag){case 3:xt(o,o.stateNode.containerInfo),Wo(o,Gi,s.memoizedState.cache),Bc();break;case 27:case 5:Ht(o);break;case 4:xt(o,o.stateNode.containerInfo);break;case 10:Wo(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?($o(o),o.flags|=128,null):(d&o.child.childLanes)!==0?Jc(s,o,d):($o(o),s=rr(s,o,d),s!==null?s.sibling:null);$o(o);break;case 19:var E=(s.flags&128)!==0;if(g=(d&o.childLanes)!==0,g||(Is(s,o,d,!1),g=(d&o.childLanes)!==0),E){if(g)return Vs(s,o,d);o.flags|=128}if(E=o.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),dt(Bi,Bi.current),g)break;return null;case 22:case 23:return o.lanes=0,zl(s,o,d);case 24:Wo(o,Gi,s.memoizedState.cache)}return rr(s,o,d)}function Vl(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)ir=!0;else{if(!Rf(s,d)&&(o.flags&128)===0)return ir=!1,ks(s,o,d);ir=(s.flags&131072)!==0}else ir=!1,Hn&&(o.flags&1048576)!==0&&Bh(o,zc,o.index);switch(o.lanes=0,o.tag){case 16:t:{s=o.pendingProps;var g=o.elementType,E=g._init;if(g=E(g._payload),o.type=g,typeof g=="function")uf(g)?(s=Aa(g,s),o.tag=1,o=ds(null,o,g,s,d)):(o.tag=0,o=Qc(null,o,g,s,d));else{if(g!=null){if(E=g.$$typeof,E===O){o.tag=11,o=$r(null,o,g,s,d);break t}else if(E===B){o.tag=14,o=ts(null,o,g,s,d);break t}}throw o=nt(g)||g,Error(i(306,o,""))}}return o;case 0:return Qc(s,o,o.type,o.pendingProps,d);case 1:return g=o.type,E=Aa(g,o.pendingProps),ds(s,o,g,E,d);case 3:t:{if(xt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));g=o.pendingProps;var w=o.memoizedState;E=w.element,sn(s,o),jc(o,g,null,d);var G=o.memoizedState;if(g=G.cache,Wo(o,Gi,g),g!==w.cache&&df(o,[Gi],d,!0),bf(),g=G.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:G.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=nl(s,o,g,d);break t}else if(g!==E){E=hr(Error(i(424)),o),Nl(E),o=nl(s,o,g,d);break t}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Si=po(s.firstChild),Ur=o,Hn=!0,Ps=null,cs=!0,d=Py(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Bc(),g===E){o=rr(s,o,d);break t}Hi(s,o,g,d)}o=o.child}return o;case 26:return Hl(s,o),s===null?(d=_A(o.type,null,o.pendingProps,null))?o.memoizedState=d:Hn||(d=o.type,s=o.pendingProps,g=Yy(lt.current).createElement(d),g[Di]=o,g[Ui]=s,Fr(g,d,s),zt(g),o.stateNode=g):o.memoizedState=_A(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ht(o),s===null&&Hn&&(g=o.stateNode=gA(o.type,o.pendingProps,lt.current),Ur=o,cs=!0,E=Si,lu(o.type)?(xS=E,Si=po(g.firstChild)):Si=E),Hi(s,o,o.pendingProps.children,d),Hl(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Hn&&((E=g=Si)&&(g=YU(g,o.type,o.pendingProps,cs),g!==null?(o.stateNode=g,Ur=o,Si=po(g.firstChild),cs=!1,E=!0):E=!1),E||Xo(o)),Ht(o),E=o.type,w=o.pendingProps,G=s!==null?s.memoizedProps:null,g=w.children,gS(E,w)?g=null:G!==null&&gS(E,G)&&(o.flags|=32),o.memoizedState!==null&&(E=so(s,o,$b,null,null,d),Ym._currentValue=E),Hl(s,o),Hi(s,o,g,d),o.child;case 6:return s===null&&Hn&&((s=d=Si)&&(d=WU(d,o.pendingProps,cs),d!==null?(o.stateNode=d,Ur=o,Si=null,s=!0):s=!1),s||Xo(o)),null;case 13:return Jc(s,o,d);case 4:return xt(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=Pl(o,null,g,d):Hi(s,o,g,d),o.child;case 11:return $r(s,o,o.type,o.pendingProps,d);case 7:return Hi(s,o,o.pendingProps,d),o.child;case 8:return Hi(s,o,o.pendingProps.children,d),o.child;case 12:return Hi(s,o,o.pendingProps.children,d),o.child;case 10:return g=o.pendingProps,Wo(o,o.type,g.value),Hi(s,o,g.children,d),o.child;case 9:return E=o.type._context,g=o.pendingProps.children,Ma(o),E=Ai(E),g=g(E),o.flags|=1,Hi(s,o,g,d),o.child;case 14:return ts(s,o,o.type,o.pendingProps,d);case 15:return Im(s,o,o.type,o.pendingProps,d);case 19:return Vs(s,o,d);case 31:return g=o.pendingProps,d=o.mode,g={mode:g.mode,children:g.children},s===null?(d=Fl(g,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=Ii(s.child,g),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return zl(s,o,d);case 24:return Ma(o),g=Ai(Gi),s===null?(E=Zo(),E===null&&(E=hn,w=Vh(),E.pooledCache=w,w.refCount++,w!==null&&(E.pooledCacheLanes|=d),E=w),o.memoizedState={parent:g,cache:E},vm(o),Wo(o,Gi,E)):((s.lanes&d)!==0&&(sn(s,o),jc(o,null,null,d),bf()),E=s.memoizedState,w=o.memoizedState,E.parent!==g?(E={parent:g,cache:g},o.memoizedState=E,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=E),Wo(o,Gi,g)):(g=w.cache,Wo(o,Gi,g),g!==E.cache&&df(o,[Gi],d,!0))),Hi(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function aa(s){s.flags|=4}function Cf(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!EA(o)){if(o=ni.current,o!==null&&((qe&4194048)===qe?ia!==null:(qe&62914560)!==qe&&(qe&536870912)===0||o!==ia))throw Bs=xf,mm;s.flags|=8192}}function lo(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Gt():536870912,s.lanes|=o,zn|=o)}function kl(s,o){if(!Hn)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function ui(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(o)for(var E=s.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&65011712,g|=E.flags&65011712,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=g,s.childLanes=d,o}function zm(s,o,d){var g=o.pendingProps;switch(um(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(o),null;case 1:return ui(o),null;case 3:return d=o.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),eo(Gi),Ct(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(ta(o)?aa(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xn())),ui(o),null;case 26:return d=o.memoizedState,s===null?(aa(o),d!==null?(ui(o),Cf(o,d)):(ui(o),o.flags&=-16777217)):d?d!==s.memoizedState?(aa(o),ui(o),Cf(o,d)):(ui(o),o.flags&=-16777217):(s.memoizedProps!==g&&aa(o),ui(o),o.flags&=-16777217),null;case 27:Kt(o),d=lt.current;var E=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==g&&aa(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return ui(o),null}s=$.current,ta(o)?$v(o):(s=gA(E,g,d),o.stateNode=s,aa(o))}return ui(o),null;case 5:if(Kt(o),d=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==g&&aa(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return ui(o),null}if(s=$.current,ta(o))$v(o);else{switch(E=Yy(lt.current),s){case 1:s=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?E.createElement("select",{is:g.is}):E.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?E.createElement(d,{is:g.is}):E.createElement(d)}}s[Di]=o,s[Ui]=g;t:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)s.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break t;for(;E.sibling===null;){if(E.return===null||E.return===o)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=s;t:switch(Fr(s,d,g),d){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&aa(o)}}return ui(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==g&&aa(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(i(166));if(s=lt.current,ta(o)){if(s=o.stateNode,d=o.memoizedProps,g=null,E=Ur,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}s[Di]=o,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||cA(s.nodeValue,d)),s||Xo(o)}else s=Yy(s).createTextNode(g),s[Di]=o,o.stateNode=s}return ui(o),null;case 13:if(g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(E=ta(o),g!==null&&g.dehydrated!==null){if(s===null){if(!E)throw Error(i(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[Di]=o}else Bc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ui(o),E=!1}else E=Xn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=E),E=!0;if(!E)return o.flags&256?(Da(o),o):(Da(o),null)}if(Da(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=g!==null,s=s!==null&&s.memoizedState!==null,d){g=o.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==E&&(g.flags|=2048)}return d!==s&&d&&(o.child.flags|=8192),lo(o,o.updateQueue),ui(o),null;case 4:return Ct(),s===null&&fS(o.stateNode.containerInfo),ui(o),null;case 10:return eo(o.type),ui(o),null;case 19:if(ht(Bi),E=o.memoizedState,E===null)return ui(o),null;if(g=(o.flags&128)!==0,w=E.rendering,w===null)if(g)kl(E,!1);else{if(yi!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=oo(s),w!==null){for(o.flags|=128,kl(E,!1),s=w.updateQueue,o.updateQueue=s,lo(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)lm(d,s),d=d.sibling;return dt(Bi,Bi.current&1|2),o.child}s=s.sibling}E.tail!==null&&Xt()>Dr&&(o.flags|=128,g=!0,kl(E,!1),o.lanes=4194304)}else{if(!g)if(s=oo(w),s!==null){if(o.flags|=128,g=!0,s=s.updateQueue,o.updateQueue=s,lo(o,s),kl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!Hn)return ui(o),null}else 2*Xt()-E.renderingStartTime>Dr&&d!==536870912&&(o.flags|=128,g=!0,kl(E,!1),o.lanes=4194304);E.isBackwards?(w.sibling=o.child,o.child=w):(s=E.last,s!==null?s.sibling=w:o.child=w,E.last=w)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=Xt(),o.sibling=null,s=Bi.current,dt(Bi,g?s&1|2:s&1),o):(ui(o),null);case 22:case 23:return Da(o),Sf(),g=o.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(d&536870912)!==0&&(o.flags&128)===0&&(ui(o),o.subtreeFlags&6&&(o.flags|=8192)):ui(o),d=o.updateQueue,d!==null&&lo(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048),s!==null&&ht(zs),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),eo(Gi),ui(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function $c(s,o){switch(um(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return eo(Gi),Ct(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Kt(o),null;case 13:if(Da(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Bc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ht(Bi),null;case 4:return Ct(),null;case 10:return eo(o.type),null;case 22:case 23:return Da(o),Sf(),s!==null&&ht(zs),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return eo(Gi),null;case 25:return null;default:return null}}function tu(s,o){switch(um(o),o.tag){case 3:eo(Gi),Ct();break;case 26:case 27:case 5:Kt(o);break;case 4:Ct();break;case 13:Da(o);break;case 19:ht(Bi);break;case 10:eo(o.type);break;case 22:case 23:Da(o),Sf(),s!==null&&ht(zs);break;case 24:eo(Gi)}}function Gl(s,o){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&s)===s){g=void 0;var w=d.create,G=d.inst;g=w(),G.destroy=g}d=d.next}while(d!==E)}}catch(J){bt(o,o.return,J)}}function ps(s,o,d){try{var g=o.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var w=E.next;g=w;do{if((g.tag&s)===s){var G=g.inst,J=G.destroy;if(J!==void 0){G.destroy=void 0,E=o;var mt=d,Ot=J;try{Ot()}catch(te){bt(E,mt,te)}}}g=g.next}while(g!==w)}}catch(te){bt(o,o.return,te)}}function jl(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{ny(o,d)}catch(g){bt(s,s.return,g)}}}function co(s,o,d){d.props=Aa(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){bt(s,o,g)}}function ql(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(E){bt(s,o,E)}}function wa(s,o){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(E){bt(s,o,E)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){bt(s,o,E)}else d.current=null}function eu(s){var o=s.type,d=s.memoizedProps,g=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break t;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(E){bt(s,s.return,E)}}function Of(s,o,d){try{var g=s.stateNode;kU(g,s.type,d,o),g[Ui]=o}catch(E){bt(s,s.return,E)}}function Nf(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lu(s.type)||s.tag===4}function il(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Nf(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lu(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rl(s,o,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Xy));else if(g!==4&&(g===27&&lu(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(rl(s,o,d),s=s.sibling;s!==null;)rl(s,o,d),s=s.sibling}function sl(s,o,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(g!==4&&(g===27&&lu(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(sl(s,o,d),s=s.sibling;s!==null;)sl(s,o,d),s=s.sibling}function al(s){var o=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,E=o.attributes;E.length;)o.removeAttributeNode(E[0]);Fr(o,g,d),o[Di]=s,o[Ui]=d}catch(w){bt(s,s.return,w)}}var Ra=!1,fi=!1,nu=!1,ms=typeof WeakSet=="function"?WeakSet:Set,ii=null;function Zi(s,o){if(s=s.containerInfo,pS=$y,s=em(s),af(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else t:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break t}var G=0,J=-1,mt=-1,Ot=0,te=0,re=s,Bt=null;e:for(;;){for(var Vt;re!==d||E!==0&&re.nodeType!==3||(J=G+E),re!==w||g!==0&&re.nodeType!==3||(mt=G+g),re.nodeType===3&&(G+=re.nodeValue.length),(Vt=re.firstChild)!==null;)Bt=re,re=Vt;for(;;){if(re===s)break e;if(Bt===d&&++Ot===E&&(J=G),Bt===w&&++te===g&&(mt=G),(Vt=re.nextSibling)!==null)break;re=Bt,Bt=re.parentNode}re=Vt}d=J===-1||mt===-1?null:{start:J,end:mt}}else d=null}d=d||{start:0,end:0}}else d=null;for(mS={focusedElem:s,selectionRange:d},$y=!1,ii=o;ii!==null;)if(o=ii,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,ii=s;else for(;ii!==null;){switch(o=ii,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,d=o,E=w.memoizedProps,w=w.memoizedState,g=d.stateNode;try{var on=Aa(d.type,E,d.elementType===d.type);s=g.getSnapshotBeforeUpdate(on,w),g.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){bt(d,d.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)yS(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":yS(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,ii=s;break}ii=o.return}}function uo(s,o,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Br(s,d),g&4&&Gl(5,d);break;case 1:if(Br(s,d),g&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(G){bt(d,d.return,G)}else{var E=Aa(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(E,o,s.__reactInternalSnapshotBeforeUpdate)}catch(G){bt(d,d.return,G)}}g&64&&jl(d),g&512&&ql(d,d.return);break;case 3:if(Br(s,d),g&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{ny(s,o)}catch(G){bt(d,d.return,G)}}break;case 27:o===null&&g&4&&al(d);case 26:case 5:Br(s,d),o===null&&g&4&&eu(d),g&512&&ql(d,d.return);break;case 12:Br(s,d);break;case 13:Br(s,d),g&4&&ol(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=_i.bind(null,d),ZU(s,d))));break;case 22:if(g=d.memoizedState!==null||Ra,!g){o=o!==null&&o.memoizedState!==null||fi,E=Ra;var w=fi;Ra=g,(fi=o)&&!w?Ca(s,d,(d.subtreeFlags&8772)!==0):Br(s,d),Ra=E,fi=w}break;case 30:break;default:Br(s,d)}}function Sn(s){var o=s.alternate;o!==null&&(s.alternate=null,Sn(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&qn(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var We=null,In=!1;function Gs(s,o,d){for(d=d.child;d!==null;)Xl(s,o,d),d=d.sibling}function Xl(s,o,d){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(Nt,d)}catch{}switch(d.tag){case 26:fi||wa(d,o),Gs(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:fi||wa(d,o);var g=We,E=In;lu(d.type)&&(We=d.stateNode,In=!1),Gs(s,o,d),Gm(d.stateNode),We=g,In=E;break;case 5:fi||wa(d,o);case 6:if(g=We,E=In,We=null,Gs(s,o,d),We=g,In=E,We!==null)if(In)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(d.stateNode)}catch(w){bt(d,o,w)}else try{We.removeChild(d.stateNode)}catch(w){bt(d,o,w)}break;case 18:We!==null&&(In?(s=We,pA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Qm(s)):pA(We,d.stateNode));break;case 4:g=We,E=In,We=d.stateNode.containerInfo,In=!0,Gs(s,o,d),We=g,In=E;break;case 0:case 11:case 14:case 15:fi||ps(2,d,o),fi||ps(4,d,o),Gs(s,o,d);break;case 1:fi||(wa(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"&&co(d,o,g)),Gs(s,o,d);break;case 21:Gs(s,o,d);break;case 22:fi=(g=fi)||d.memoizedState!==null,Gs(s,o,d),fi=g;break;default:Gs(s,o,d)}}function ol(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Qm(s)}catch(d){bt(o,o.return,d)}}function ld(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new ms),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new ms),o;default:throw Error(i(435,s.tag))}}function Yl(s,o){var d=ld(s);o.forEach(function(g){var E=an.bind(null,s,g);d.has(g)||(d.add(g),g.then(E,E))})}function sr(s,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g],w=s,G=o,J=G;t:for(;J!==null;){switch(J.tag){case 27:if(lu(J.type)){We=J.stateNode,In=!1;break t}break;case 5:We=J.stateNode,In=!1;break t;case 3:case 4:We=J.stateNode.containerInfo,In=!0;break t}J=J.return}if(We===null)throw Error(i(160));Xl(w,G,E),We=null,In=!1,w=E.alternate,w!==null&&(w.return=null),E.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)cd(o,s),o=o.sibling}var oa=null;function cd(s,o){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:sr(o,s),Ti(s),g&4&&(ps(3,s,s.return),Gl(3,s),ps(5,s,s.return));break;case 1:sr(o,s),Ti(s),g&512&&(fi||d===null||wa(d,d.return)),g&64&&Ra&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var E=oa;if(sr(o,s),Ti(s),g&512&&(fi||d===null||wa(d,d.return)),g&4){var w=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){t:{g=s.type,d=s.memoizedProps,E=E.ownerDocument||E;e:switch(g){case"title":w=E.getElementsByTagName("title")[0],(!w||w[Xr]||w[Di]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=E.createElement(g),E.head.insertBefore(w,E.querySelector("head > title"))),Fr(w,g,d),w[Di]=s,zt(w),g=w;break t;case"link":var G=SA("link","href",E).get(g+(d.href||""));if(G){for(var J=0;J<G.length;J++)if(w=G[J],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){G.splice(J,1);break e}}w=E.createElement(g),Fr(w,g,d),E.head.appendChild(w);break;case"meta":if(G=SA("meta","content",E).get(g+(d.content||""))){for(J=0;J<G.length;J++)if(w=G[J],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){G.splice(J,1);break e}}w=E.createElement(g),Fr(w,g,d),E.head.appendChild(w);break;default:throw Error(i(468,g))}w[Di]=s,zt(w),g=w}s.stateNode=g}else MA(E,s.type,s.stateNode);else s.stateNode=bA(E,g,s.memoizedProps);else w!==g?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,g===null?MA(E,s.type,s.stateNode):bA(E,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Of(s,s.memoizedProps,d.memoizedProps)}break;case 27:sr(o,s),Ti(s),g&512&&(fi||d===null||wa(d,d.return)),d!==null&&g&4&&Of(s,s.memoizedProps,d.memoizedProps);break;case 5:if(sr(o,s),Ti(s),g&512&&(fi||d===null||wa(d,d.return)),s.flags&32){E=s.stateNode;try{Or(E,"")}catch(Vt){bt(s,s.return,Vt)}}g&4&&s.stateNode!=null&&(E=s.memoizedProps,Of(s,E,d!==null?d.memoizedProps:E)),g&1024&&(nu=!0);break;case 6:if(sr(o,s),Ti(s),g&4){if(s.stateNode===null)throw Error(i(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Vt){bt(s,s.return,Vt)}}break;case 3:if(Ky=null,E=oa,oa=Wy(o.containerInfo),sr(o,s),oa=E,Ti(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Qm(o.containerInfo)}catch(Vt){bt(s,s.return,Vt)}nu&&(nu=!1,ll(s));break;case 4:g=oa,oa=Wy(s.stateNode.containerInfo),sr(o,s),Ti(s),oa=g;break;case 12:sr(o,s),Ti(s);break;case 13:sr(o,s),Ti(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($n=Xt()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Yl(s,g)));break;case 22:E=s.memoizedState!==null;var mt=d!==null&&d.memoizedState!==null,Ot=Ra,te=fi;if(Ra=Ot||E,fi=te||mt,sr(o,s),fi=te,Ra=Ot,Ti(s),g&8192)t:for(o=s.stateNode,o._visibility=E?o._visibility&-2:o._visibility|1,E&&(d===null||mt||Ra||fi||gs(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){mt=d=o;try{if(w=mt.stateNode,E)G=w.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{J=mt.stateNode;var re=mt.memoizedProps.style,Bt=re!=null&&re.hasOwnProperty("display")?re.display:null;J.style.display=Bt==null||typeof Bt=="boolean"?"":(""+Bt).trim()}}catch(Vt){bt(mt,mt.return,Vt)}}}else if(o.tag===6){if(d===null){mt=o;try{mt.stateNode.nodeValue=E?"":mt.memoizedProps}catch(Vt){bt(mt,mt.return,Vt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Yl(s,d))));break;case 19:sr(o,s),Ti(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Yl(s,g)));break;case 30:break;case 21:break;default:sr(o,s),Ti(s)}}function Ti(s){var o=s.flags;if(o&2){try{for(var d,g=s.return;g!==null;){if(Nf(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var E=d.stateNode,w=il(s);sl(s,w,E);break;case 5:var G=d.stateNode;d.flags&32&&(Or(G,""),d.flags&=-33);var J=il(s);sl(s,J,G);break;case 3:case 4:var mt=d.stateNode.containerInfo,Ot=il(s);rl(s,Ot,mt);break;default:throw Error(i(161))}}catch(te){bt(s,s.return,te)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function ll(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;ll(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Br(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)uo(s,o.alternate,o),o=o.sibling}function gs(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ps(4,o,o.return),gs(o);break;case 1:wa(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&co(o,o.return,d),gs(o);break;case 27:Gm(o.stateNode);case 26:case 5:wa(o,o.return),gs(o);break;case 22:o.memoizedState===null&&gs(o);break;case 30:gs(o);break;default:gs(o)}s=s.sibling}}function Ca(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,E=s,w=o,G=w.flags;switch(w.tag){case 0:case 11:case 15:Ca(E,w,d),Gl(4,w);break;case 1:if(Ca(E,w,d),g=w,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ot){bt(g,g.return,Ot)}if(g=w,E=g.updateQueue,E!==null){var J=g.stateNode;try{var mt=E.shared.hiddenCallbacks;if(mt!==null)for(E.shared.hiddenCallbacks=null,E=0;E<mt.length;E++)qc(mt[E],J)}catch(Ot){bt(g,g.return,Ot)}}d&&G&64&&jl(w),ql(w,w.return);break;case 27:al(w);case 26:case 5:Ca(E,w,d),d&&g===null&&G&4&&eu(w),ql(w,w.return);break;case 12:Ca(E,w,d);break;case 13:Ca(E,w,d),d&&G&4&&ol(E,w);break;case 22:w.memoizedState===null&&Ca(E,w,d),ql(w,w.return);break;case 30:break;default:Ca(E,w,d)}o=o.sibling}}function ud(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Hc(d))}function fd(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Hc(s))}function ri(s,o,d,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hd(s,o,d,g),o=o.sibling}function hd(s,o,d,g){var E=o.flags;switch(o.tag){case 0:case 11:case 15:ri(s,o,d,g),E&2048&&Gl(9,o);break;case 1:ri(s,o,d,g);break;case 3:ri(s,o,d,g),E&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Hc(s)));break;case 12:if(E&2048){ri(s,o,d,g),s=o.stateNode;try{var w=o.memoizedProps,G=w.id,J=w.onPostCommit;typeof J=="function"&&J(G,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(mt){bt(o,o.return,mt)}}else ri(s,o,d,g);break;case 13:ri(s,o,d,g);break;case 23:break;case 22:w=o.stateNode,G=o.alternate,o.memoizedState!==null?w._visibility&2?ri(s,o,d,g):la(s,o):w._visibility&2?ri(s,o,d,g):(w._visibility|=2,fo(s,o,d,g,(o.subtreeFlags&10256)!==0)),E&2048&&ud(G,o);break;case 24:ri(s,o,d,g),E&2048&&fd(o.alternate,o);break;default:ri(s,o,d,g)}}function fo(s,o,d,g,E){for(E=E&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,G=o,J=d,mt=g,Ot=G.flags;switch(G.tag){case 0:case 11:case 15:fo(w,G,J,mt,E),Gl(8,G);break;case 23:break;case 22:var te=G.stateNode;G.memoizedState!==null?te._visibility&2?fo(w,G,J,mt,E):la(w,G):(te._visibility|=2,fo(w,G,J,mt,E)),E&&Ot&2048&&ud(G.alternate,G);break;case 24:fo(w,G,J,mt,E),E&&Ot&2048&&fd(G.alternate,G);break;default:fo(w,G,J,mt,E)}o=o.sibling}}function la(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,g=o,E=g.flags;switch(g.tag){case 22:la(d,g),E&2048&&ud(g.alternate,g);break;case 24:la(d,g),E&2048&&fd(g.alternate,g);break;default:la(d,g)}o=o.sibling}}var vs=8192;function iu(s){if(s.subtreeFlags&vs)for(s=s.child;s!==null;)ky(s),s=s.sibling}function ky(s){switch(s.tag){case 26:iu(s),s.flags&vs&&s.memoizedState!==null&&lP(oa,s.memoizedState,s.memoizedProps);break;case 5:iu(s);break;case 3:case 4:var o=oa;oa=Wy(s.stateNode.containerInfo),iu(s),oa=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=vs,vs=16777216,iu(s),vs=o):iu(s));break;default:iu(s)}}function Gy(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function hi(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];ii=g,Na(g,s)}Gy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bm(s),s=s.sibling}function Bm(s){switch(s.tag){case 0:case 11:case 15:hi(s),s.flags&2048&&ps(9,s,s.return);break;case 3:hi(s);break;case 12:hi(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Oa(s)):hi(s);break;default:hi(s)}}function Oa(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];ii=g,Na(g,s)}Gy(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ps(8,o,o.return),Oa(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Oa(o));break;default:Oa(o)}s=s.sibling}}function Na(s,o){for(;ii!==null;){var d=ii;switch(d.tag){case 0:case 11:case 15:ps(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Hc(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,ii=g;else t:for(d=s;ii!==null;){g=ii;var E=g.sibling,w=g.return;if(Sn(g),g===d){ii=null;break t}if(E!==null){E.return=w,ii=E;break t}ii=w}}}var wi={getCacheForType:function(s){var o=Ai(Gi),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d}},Hm=typeof WeakMap=="function"?WeakMap:Map,Yn=0,hn=null,An=null,qe=0,yn=0,Mi=null,ys=!1,ru=!1,su=!1,js=0,yi=0,ca=0,La=0,Wl=0,qs=0,zn=0,Wn=null,Ze=null,Cn=!1,$n=0,Dr=1/0,Xs=null,_s=null,Ki=0,Ar=null,si=null,xs=0,ho=0,Lf=null,bs=null,Ua=0,Zl=null;function Ri(){if((Yn&2)!==0&&qe!==0)return qe&-qe;if(H.T!==null){var s=pn;return s!==0?s:oS()}return Tn()}function dd(){qs===0&&(qs=(qe&536870912)===0||Hn?Et():536870912);var s=ni.current;return s!==null&&(s.flags|=32),qs}function Hr(s,o,d){(s===hn&&(yn===2||yn===9)||s.cancelPendingCommit!==null)&&(ul(s,0),ua(s,qe,qs,!1)),ne(s,d),((Yn&2)===0||s!==hn)&&(s===hn&&((Yn&2)===0&&(La|=d),yi===4&&ua(s,qe,qs,!1)),dl(s))}function au(s,o,d){if((Yn&6)!==0)throw Error(i(327));var g=!d&&(o&124)===0&&(o&s.expiredLanes)===0||Oe(s,o),E=g?D(s,o):f(s,o,!0),w=g;do{if(E===0){ru&&!g&&ua(s,o,0,!1);break}else{if(d=s.current.alternate,w&&!cl(d)){E=f(s,o,!1),w=!1;continue}if(E===2){if(w=o,s.errorRecoveryDisabledLanes&w)var G=0;else G=s.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){o=G;t:{var J=s;E=Wn;var mt=J.current.memoizedState.isDehydrated;if(mt&&(ul(J,G).flags|=256),G=f(J,G,!1),G!==2){if(su&&!mt){J.errorRecoveryDisabledLanes|=w,La|=w,E=4;break t}w=Ze,Ze=E,w!==null&&(Ze===null?Ze=w:Ze.push.apply(Ze,w))}E=G}if(w=!1,E!==2)continue}}if(E===1){ul(s,0),ua(s,o,0,!0);break}t:{switch(g=s,w=E,w){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:ua(g,o,qs,!ys);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(E=$n+300-Xt(),10<E)){if(ua(g,o,qs,!ys),Je(g,0,!0)!==0)break t;g.timeoutHandle=hA(Uf.bind(null,g,d,Ze,Xs,Cn,o,qs,La,zn,ys,w,2,-0,0),E);break t}Uf(g,d,Ze,Xs,Cn,o,qs,La,zn,ys,w,0,-0,0)}}break}while(!0);dl(s)}function Uf(s,o,d,g,E,w,G,J,mt,Ot,te,re,Bt,Vt){if(s.timeoutHandle=-1,re=o.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Xm={stylesheets:null,count:0,unsuspend:oP},ky(o),re=cP(),re!==null)){s.cancelPendingCommit=re(me.bind(null,s,o,w,d,g,E,G,J,mt,te,1,Bt,Vt)),ua(s,w,G,!Ot);return}me(s,o,w,d,g,E,G,J,mt)}function cl(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var E=d[g],w=E.getSnapshot;E=E.value;try{if(!Wr(w(),E))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ua(s,o,d,g){o&=~Wl,o&=~La,s.suspendedLanes|=o,s.pingedLanes&=~o,g&&(s.warmLanes|=o),g=s.expirationTimes;for(var E=o;0<E;){var w=31-Me(E),G=1<<w;g[w]=-1,E&=~G}d!==0&&xe(s,d,o)}function Pa(){return(Yn&6)===0?(Fm(0),!1):!0}function Kl(){if(An!==null){if(yn===0)var s=An.return;else s=An,to=Yo=null,bm(s),Ul=null,Af=0,s=An;for(;s!==null;)tu(s.alternate,s),s=s.return;An=null}}function ul(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,jU(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Kl(),hn=s,An=d=Ii(s.current,null),qe=o,yn=0,Mi=null,ys=!1,ru=Oe(s,o),su=!1,zn=qs=Wl=La=ca=yi=0,Ze=Wn=null,Cn=!1,(o&8)!==0&&(o|=o&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=o;0<g;){var E=31-Me(g),w=1<<E;o|=s[E],g&=~w}return js=o,cf(),d}function pd(s,o){mn=null,H.H=Df,o===_f||o===ea?(o=gm(),yn=3):o===mm?(o=gm(),yn=4):yn=o===Vy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mi=o,An===null&&(yi=1,sd(s,hr(o,s.current)))}function ou(){var s=H.H;return H.H=Df,s===null?Df:s}function md(){var s=H.A;return H.A=wi,s}function c(){yi=4,ys||(qe&4194048)!==qe&&ni.current!==null||(ru=!0),(ca&134217727)===0&&(La&134217727)===0||hn===null||ua(hn,qe,qs,!1)}function f(s,o,d){var g=Yn;Yn|=2;var E=ou(),w=md();(hn!==s||qe!==o)&&(Xs=null,ul(s,o)),o=!1;var G=yi;t:do try{if(yn!==0&&An!==null){var J=An,mt=Mi;switch(yn){case 8:Kl(),G=6;break t;case 3:case 2:case 9:case 6:ni.current===null&&(o=!0);var Ot=yn;if(yn=0,Mi=null,yt(s,J,mt,Ot),d&&ru){G=0;break t}break;default:Ot=yn,yn=0,Mi=null,yt(s,J,mt,Ot)}}y(),G=yi;break}catch(te){pd(s,te)}while(!0);return o&&s.shellSuspendCounter++,to=Yo=null,Yn=g,H.H=E,H.A=w,An===null&&(hn=null,qe=0,cf()),G}function y(){for(;An!==null;)z(An)}function D(s,o){var d=Yn;Yn|=2;var g=ou(),E=md();hn!==s||qe!==o?(Xs=null,Dr=Xt()+500,ul(s,o)):ru=Oe(s,o);t:do try{if(yn!==0&&An!==null){o=An;var w=Mi;e:switch(yn){case 1:yn=0,Mi=null,yt(s,o,w,1);break;case 2:case 9:if(jh(w)){yn=0,Mi=null,it(o);break}o=function(){yn!==2&&yn!==9||hn!==s||(yn=7),dl(s)},w.then(o,o);break t;case 3:yn=7;break t;case 4:yn=5;break t;case 7:jh(w)?(yn=0,Mi=null,it(o)):(yn=0,Mi=null,yt(s,o,w,7));break;case 5:var G=null;switch(An.tag){case 26:G=An.memoizedState;case 5:case 27:var J=An;if(!G||EA(G)){yn=0,Mi=null;var mt=J.sibling;if(mt!==null)An=mt;else{var Ot=J.return;Ot!==null?(An=Ot,Tt(Ot)):An=null}break e}}yn=0,Mi=null,yt(s,o,w,5);break;case 6:yn=0,Mi=null,yt(s,o,w,6);break;case 8:Kl(),yi=6;break t;default:throw Error(i(462))}}C();break}catch(te){pd(s,te)}while(!0);return to=Yo=null,H.H=g,H.A=E,Yn=d,An!==null?0:(hn=null,qe=0,cf(),yi)}function C(){for(;An!==null&&!Wt();)z(An)}function z(s){var o=Vl(s.alternate,s,js);s.memoizedProps=s.pendingProps,o===null?Tt(s):An=o}function it(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=hs(d,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=hs(d,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:bm(o);default:tu(d,o),o=An=lm(o,js),o=Vl(d,o,js)}s.memoizedProps=s.pendingProps,o===null?Tt(s):An=o}function yt(s,o,d,g){to=Yo=null,bm(o),Ul=null,Af=0;var E=o.return;try{if(sS(s,E,o,d,qe)){yi=1,sd(s,hr(d,s.current)),An=null;return}}catch(w){if(E!==null)throw An=E,w;yi=1,sd(s,hr(d,s.current)),An=null;return}o.flags&32768?(Hn||g===1?s=!0:ru||(qe&536870912)!==0?s=!1:(ys=s=!0,(g===2||g===9||g===3||g===6)&&(g=ni.current,g!==null&&g.tag===13&&(g.flags|=16384))),$t(o,s)):Tt(o)}function Tt(s){var o=s;do{if((o.flags&32768)!==0){$t(o,ys);return}s=o.return;var d=zm(o.alternate,o,js);if(d!==null){An=d;return}if(o=o.sibling,o!==null){An=o;return}An=o=s}while(o!==null);yi===0&&(yi=5)}function $t(s,o){do{var d=$c(s.alternate,s);if(d!==null){d.flags&=32767,An=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){An=s;return}An=s=d}while(s!==null);yi=6,An=null}function me(s,o,d,g,E,w,G,J,mt){s.cancelPendingCommit=null;do fl();while(Ki!==0);if((Yn&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(w=o.lanes|o.childLanes,w|=Ph,Ee(s,d,w,G,J,mt),s===hn&&(An=hn=null,qe=0),si=o,Ar=s,xs=d,ho=w,Lf=E,bs=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Fn(ot,function(){return hl(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,E=k.p,k.p=2,G=Yn,Yn|=4;try{Zi(s,o,d)}finally{Yn=G,k.p=E,H.T=g}}Ki=1,Te(),Re(),dn()}}function Te(){if(Ki===1){Ki=0;var s=Ar,o=si,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var g=k.p;k.p=2;var E=Yn;Yn|=4;try{cd(o,s);var w=mS,G=em(s.containerInfo),J=w.focusedElem,mt=w.selectionRange;if(G!==J&&J&&J.ownerDocument&&tm(J.ownerDocument.documentElement,J)){if(mt!==null&&af(J)){var Ot=mt.start,te=mt.end;if(te===void 0&&(te=Ot),"selectionStart"in J)J.selectionStart=Ot,J.selectionEnd=Math.min(te,J.value.length);else{var re=J.ownerDocument||document,Bt=re&&re.defaultView||window;if(Bt.getSelection){var Vt=Bt.getSelection(),on=J.textContent.length,Qe=Math.min(mt.start,on),pi=mt.end===void 0?Qe:Math.min(mt.end,on);!Vt.extend&&Qe>pi&&(G=pi,pi=Qe,Qe=G);var At=$p(J,Qe),Mt=$p(J,pi);if(At&&Mt&&(Vt.rangeCount!==1||Vt.anchorNode!==At.node||Vt.anchorOffset!==At.offset||Vt.focusNode!==Mt.node||Vt.focusOffset!==Mt.offset)){var wt=re.createRange();wt.setStart(At.node,At.offset),Vt.removeAllRanges(),Qe>pi?(Vt.addRange(wt),Vt.extend(Mt.node,Mt.offset)):(wt.setEnd(Mt.node,Mt.offset),Vt.addRange(wt))}}}}for(re=[],Vt=J;Vt=Vt.parentNode;)Vt.nodeType===1&&re.push({element:Vt,left:Vt.scrollLeft,top:Vt.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<re.length;J++){var ie=re[J];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}$y=!!pS,mS=pS=null}finally{Yn=E,k.p=g,H.T=d}}s.current=o,Ki=2}}function Re(){if(Ki===2){Ki=0;var s=Ar,o=si,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var g=k.p;k.p=2;var E=Yn;Yn|=4;try{uo(s,o.alternate,o)}finally{Yn=E,k.p=g,H.T=d}}Ki=3}}function dn(){if(Ki===4||Ki===3){Ki=0,Ut();var s=Ar,o=si,d=xs,g=bs;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ki=5:(Ki=0,si=Ar=null,Ss(s,s.pendingLanes));var E=s.pendingLanes;if(E===0&&(_s=null),ci(d),o=o.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(Nt,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=H.T,E=k.p,k.p=2,H.T=null;try{for(var w=s.onRecoverableError,G=0;G<g.length;G++){var J=g[G];w(J.value,{componentStack:J.stack})}}finally{H.T=o,k.p=E}}(xs&3)!==0&&fl(),dl(s),E=s.pendingLanes,(d&4194090)!==0&&(E&42)!==0?s===Zl?Ua++:(Ua=0,Zl=s):Ua=0,Fm(0)}}function Ss(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Hc(o)))}function fl(s){return Te(),Re(),dn(),hl()}function hl(){if(Ki!==5)return!1;var s=Ar,o=ho;ho=0;var d=ci(xs),g=H.T,E=k.p;try{k.p=32>d?32:d,H.T=null,d=Lf,Lf=null;var w=Ar,G=xs;if(Ki=0,si=Ar=null,xs=0,(Yn&6)!==0)throw Error(i(331));var J=Yn;if(Yn|=4,Bm(w.current),hd(w,w.current,G,d),Yn=J,Fm(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(Nt,w)}catch{}return!0}finally{k.p=E,H.T=g,Ss(s,o)}}function Pt(s,o,d){o=hr(d,o),o=ad(s.stateNode,o,2),s=io(s,o,2),s!==null&&(ne(s,2),dl(s))}function bt(s,o,d){if(s.tag===3)Pt(s,s,d);else for(;o!==null;){if(o.tag===3){Pt(o,s,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(_s===null||!_s.has(g))){s=hr(d,s),d=Fy(2),g=io(o,d,2),g!==null&&(od(d,g,o,s),ne(g,2),dl(g));break}}o=o.return}}function kt(s,o,d){var g=s.pingCache;if(g===null){g=s.pingCache=new Hm;var E=new Set;g.set(o,E)}else E=g.get(o),E===void 0&&(E=new Set,g.set(o,E));E.has(d)||(su=!0,E.add(d),s=pe.bind(null,s,o,d),o.then(s,s))}function pe(s,o,d){var g=s.pingCache;g!==null&&g.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,hn===s&&(qe&d)===d&&(yi===4||yi===3&&(qe&62914560)===qe&&300>Xt()-$n?(Yn&2)===0&&ul(s,0):Wl|=d,zn===qe&&(zn=0)),dl(s)}function Fe(s,o){o===0&&(o=Gt()),s=Ja(s,o),s!==null&&(ne(s,o),dl(s))}function _i(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),Fe(s,d)}function an(s,o){var d=0;switch(s.tag){case 13:var g=s.stateNode,E=s.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(o),Fe(s,d)}function Fn(s,o){return ce(s,o)}var Fi=null,wn=null,Ia=!1,gd=!1,aS=!1,Pf=0;function dl(s){s!==wn&&s.next===null&&(wn===null?Fi=wn=s:wn=wn.next=s),gd=!0,Ia||(Ia=!0,PU())}function Fm(s,o){if(!aS&&gd){aS=!0;do for(var d=!1,g=Fi;g!==null;){if(s!==0){var E=g.pendingLanes;if(E===0)var w=0;else{var G=g.suspendedLanes,J=g.pingedLanes;w=(1<<31-Me(42|s)+1)-1,w&=E&~(G&~J),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,nA(g,w))}else w=qe,w=Je(g,g===hn?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||Oe(g,w)||(d=!0,nA(g,w));g=g.next}while(d);aS=!1}}function UU(){$D()}function $D(){gd=Ia=!1;var s=0;Pf!==0&&(GU()&&(s=Pf),Pf=0);for(var o=Xt(),d=null,g=Fi;g!==null;){var E=g.next,w=tA(g,o);w===0?(g.next=null,d===null?Fi=E:d.next=E,E===null&&(wn=d)):(d=g,(s!==0||(w&3)!==0)&&(gd=!0)),g=E}Fm(s)}function tA(s,o){for(var d=s.suspendedLanes,g=s.pingedLanes,E=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var G=31-Me(w),J=1<<G,mt=E[G];mt===-1?((J&d)===0||(J&g)!==0)&&(E[G]=Ke(J,o)):mt<=o&&(s.expiredLanes|=J),w&=~J}if(o=hn,d=qe,d=Je(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===o&&(yn===2||yn===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&et(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Oe(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(g!==null&&et(g),ci(d)){case 2:case 8:d=Zt;break;case 32:d=ot;break;case 268435456:d=Dt;break;default:d=ot}return g=eA.bind(null,s),d=ce(d,g),s.callbackPriority=o,s.callbackNode=d,o}return g!==null&&g!==null&&et(g),s.callbackPriority=2,s.callbackNode=null,2}function eA(s,o){if(Ki!==0&&Ki!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(fl()&&s.callbackNode!==d)return null;var g=qe;return g=Je(s,s===hn?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(au(s,g,o),tA(s,Xt()),s.callbackNode!=null&&s.callbackNode===d?eA.bind(null,s):null)}function nA(s,o){if(fl())return null;au(s,o,!0)}function PU(){qU(function(){(Yn&6)!==0?ce(ue,UU):$D()})}function oS(){return Pf===0&&(Pf=Et()),Pf}function iA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xu(""+s)}function rA(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function IU(s,o,d,g,E){if(o==="submit"&&d&&d.stateNode===E){var w=iA((E[Ui]||null).action),G=g.submitter;G&&(o=(o=G[Ui]||null)?iA(o.formAction):G.getAttribute("formAction"),o!==null&&(w=o,G=null));var J=new Ac("action","action",null,g,E);s.push({event:J,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Pf!==0){var mt=G?rA(E,G):new FormData(E);Lm(d,{pending:!0,data:mt,method:E.method,action:w},null,mt)}}else typeof w=="function"&&(J.preventDefault(),mt=G?rA(E,G):new FormData(E),Lm(d,{pending:!0,data:mt,method:E.method,action:w},w,mt))},currentTarget:E}]})}}for(var lS=0;lS<lf.length;lS++){var cS=lf[lS],zU=cS.toLowerCase(),BU=cS[0].toUpperCase()+cS.slice(1);er(zU,"on"+BU)}er(Lr,"onAnimationEnd"),er(rm,"onAnimationIteration"),er(Kr,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Jv,"onTransitionRun"),er(Ka,"onTransitionStart"),er(Uc,"onTransitionCancel"),er(Qa,"onTransitionEnd"),X("onMouseEnter",["mouseout","mouseover"]),X("onMouseLeave",["mouseout","mouseover"]),X("onPointerEnter",["pointerout","pointerover"]),X("onPointerLeave",["pointerout","pointerover"]),ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vm));function sA(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],E=g.event;g=g.listeners;t:{var w=void 0;if(o)for(var G=g.length-1;0<=G;G--){var J=g[G],mt=J.instance,Ot=J.currentTarget;if(J=J.listener,mt!==w&&E.isPropagationStopped())break t;w=J,E.currentTarget=Ot;try{w(E)}catch(te){Il(te)}E.currentTarget=null,w=mt}else for(G=0;G<g.length;G++){if(J=g[G],mt=J.instance,Ot=J.currentTarget,J=J.listener,mt!==w&&E.isPropagationStopped())break t;w=J,E.currentTarget=Ot;try{w(E)}catch(te){Il(te)}E.currentTarget=null,w=mt}}}}function Ln(s,o){var d=o[Sr];d===void 0&&(d=o[Sr]=new Set);var g=s+"__bubble";d.has(g)||(aA(o,s,2,!1),d.add(g))}function uS(s,o,d){var g=0;o&&(g|=4),aA(d,s,g,o)}var jy="_reactListening"+Math.random().toString(36).slice(2);function fS(s){if(!s[jy]){s[jy]=!0,qt.forEach(function(d){d!=="selectionchange"&&(HU.has(d)||uS(d,!1,s),uS(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[jy]||(o[jy]=!0,uS("selectionchange",!1,o))}}function aA(s,o,d,g){switch(CA(o)){case 2:var E=hP;break;case 8:E=dP;break;default:E=DS}d=E.bind(null,o,d,s),E=void 0,!Wu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(E=!0),g?E!==void 0?s.addEventListener(o,d,{capture:!0,passive:E}):s.addEventListener(o,d,!0):E!==void 0?s.addEventListener(o,d,{passive:E}):s.addEventListener(o,d,!1)}function hS(s,o,d,g,E){var w=g;if((o&1)===0&&(o&2)===0&&g!==null)t:for(;;){if(g===null)return;var G=g.tag;if(G===3||G===4){var J=g.stateNode.containerInfo;if(J===E)break;if(G===4)for(G=g.return;G!==null;){var mt=G.tag;if((mt===3||mt===4)&&G.stateNode.containerInfo===E)return;G=G.return}for(;J!==null;){if(G=q(J),G===null)return;if(mt=G.tag,mt===5||mt===6||mt===26||mt===27){g=w=G;continue t}J=J.parentNode}}g=g.return}Vp(function(){var Ot=w,te=Sh(d),re=[];t:{var Bt=Uh.get(s);if(Bt!==void 0){var Vt=Ac,on=s;switch(s){case"keypress":if(Po(d)===0)break t;case"keydown":case"keyup":Vt=Xp;break;case"focusin":on="focus",Vt=Eh;break;case"focusout":on="blur",Vt=Eh;break;case"beforeblur":case"afterblur":Vt=Eh;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Vt=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Vt=Wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Vt=Wp;break;case Lr:case rm:case Kr:Vt=zv;break;case Qa:Vt=Xa;break;case"scroll":case"scrollend":Vt=Uv;break;case"wheel":Vt=Zb;break;case"copy":case"cut":case"paste":Vt=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Vt=Ah;break;case"toggle":case"beforetoggle":Vt=zo}var Qe=(o&4)!==0,pi=!Qe&&(s==="scroll"||s==="scrollend"),At=Qe?Bt!==null?Bt+"Capture":null:Bt;Qe=[];for(var Mt=Ot,wt;Mt!==null;){var ie=Mt;if(wt=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||wt===null||At===null||(ie=Mc(Mt,At),ie!=null&&Qe.push(km(Mt,ie,wt))),pi)break;Mt=Mt.return}0<Qe.length&&(Bt=new Vt(Bt,on,null,d,te),re.push({event:Bt,listeners:Qe}))}}if((o&7)===0){t:{if(Bt=s==="mouseover"||s==="pointerover",Vt=s==="mouseout"||s==="pointerout",Bt&&d!==bh&&(on=d.relatedTarget||d.fromElement)&&(q(on)||on[Pi]))break t;if((Vt||Bt)&&(Bt=te.window===te?te:(Bt=te.ownerDocument)?Bt.defaultView||Bt.parentWindow:window,Vt?(on=d.relatedTarget||d.toElement,Vt=Ot,on=on?q(on):null,on!==null&&(pi=a(on),Qe=on.tag,on!==pi||Qe!==5&&Qe!==27&&Qe!==6)&&(on=null)):(Vt=null,on=Ot),Vt!==on)){if(Qe=jp,ie="onMouseLeave",At="onMouseEnter",Mt="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Ah,ie="onPointerLeave",At="onPointerEnter",Mt="pointer"),pi=Vt==null?Bt:_t(Vt),wt=on==null?Bt:_t(on),Bt=new Qe(ie,Mt+"leave",Vt,d,te),Bt.target=pi,Bt.relatedTarget=wt,ie=null,q(te)===Ot&&(Qe=new Qe(At,Mt+"enter",on,d,te),Qe.target=wt,Qe.relatedTarget=pi,ie=Qe),pi=ie,Vt&&on)e:{for(Qe=Vt,At=on,Mt=0,wt=Qe;wt;wt=vd(wt))Mt++;for(wt=0,ie=At;ie;ie=vd(ie))wt++;for(;0<Mt-wt;)Qe=vd(Qe),Mt--;for(;0<wt-Mt;)At=vd(At),wt--;for(;Mt--;){if(Qe===At||At!==null&&Qe===At.alternate)break e;Qe=vd(Qe),At=vd(At)}Qe=null}else Qe=null;Vt!==null&&oA(re,Bt,Vt,Qe,!1),on!==null&&pi!==null&&oA(re,pi,on,Qe,!0)}}t:{if(Bt=Ot?_t(Ot):window,Vt=Bt.nodeName&&Bt.nodeName.toLowerCase(),Vt==="select"||Vt==="input"&&Bt.type==="file")var Ue=wh;else if(Jp(Bt))if(Rh)Ue=Fo;else{Ue=Zv;var On=Kb}else Vt=Bt.nodeName,!Vt||Vt.toLowerCase()!=="input"||Bt.type!=="checkbox"&&Bt.type!=="radio"?Ot&&xh(Ot.elementType)&&(Ue=wh):Ue=sf;if(Ue&&(Ue=Ue(s,Ot))){Yr(re,Ue,d,te);break t}On&&On(s,Bt,Ot),s==="focusout"&&Ot&&Bt.type==="number"&&Ot.memoizedProps.value!=null&&vi(Bt,"number",Bt.value)}switch(On=Ot?_t(Ot):window,s){case"focusin":(Jp(On)||On.contentEditable==="true")&&(Wa=On,Oh=Ot,of=null);break;case"focusout":of=Oh=Wa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,im(re,d,te);break;case"selectionchange":if(nm)break;case"keydown":case"keyup":im(re,d,te)}var Ge;if(Ju)t:{switch(s){case"compositionstart":var $e="onCompositionStart";break t;case"compositionend":$e="onCompositionEnd";break t;case"compositionupdate":$e="onCompositionUpdate";break t}$e=void 0}else Ho?ef(s,d)&&($e="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(tf&&d.locale!=="ko"&&(Ho||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ho&&(Ge=Gp()):(ja=te,kp="value"in ja?ja.value:ja.textContent,Ho=!0)),On=qy(Ot,$e),0<On.length&&($e=new Dh($e,s,null,d,te),re.push({event:$e,listeners:On}),Ge?$e.data=Ge:(Ge=Kp(d),Ge!==null&&($e.data=Ge)))),(Ge=$u?nf(s,d):Qp(s,d))&&($e=qy(Ot,"onBeforeInput"),0<$e.length&&(On=new Dh("onBeforeInput","beforeinput",null,d,te),re.push({event:On,listeners:$e}),On.data=Ge)),IU(re,s,Ot,d,te)}sA(re,o)})}function km(s,o,d){return{instance:s,listener:o,currentTarget:d}}function qy(s,o){for(var d=o+"Capture",g=[];s!==null;){var E=s,w=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||w===null||(E=Mc(s,d),E!=null&&g.unshift(km(s,E,w)),E=Mc(s,o),E!=null&&g.push(km(s,E,w))),s.tag===3)return g;s=s.return}return[]}function vd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function oA(s,o,d,g,E){for(var w=o._reactName,G=[];d!==null&&d!==g;){var J=d,mt=J.alternate,Ot=J.stateNode;if(J=J.tag,mt!==null&&mt===g)break;J!==5&&J!==26&&J!==27||Ot===null||(mt=Ot,E?(Ot=Mc(d,w),Ot!=null&&G.unshift(km(d,Ot,mt))):E||(Ot=Mc(d,w),Ot!=null&&G.push(km(d,Ot,mt)))),d=d.return}G.length!==0&&s.push({event:o,listeners:G})}var FU=/\r\n?/g,VU=/\u0000|\uFFFD/g;function lA(s){return(typeof s=="string"?s:""+s).replace(FU,`
`).replace(VU,"")}function cA(s,o){return o=lA(o),lA(s)===o}function Xy(){}function di(s,o,d,g,E,w){switch(d){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||Or(s,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&Or(s,""+g);break;case"className":Yt(s,"class",g);break;case"tabIndex":Yt(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Yt(s,d,g);break;case"style":qu(s,g,w);break;case"data":if(o!=="object"){Yt(s,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Xu(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(o!=="input"&&di(s,o,"name",E.name,E,null),di(s,o,"formEncType",E.formEncType,E,null),di(s,o,"formMethod",E.formMethod,E,null),di(s,o,"formTarget",E.formTarget,E,null)):(di(s,o,"encType",E.encType,E,null),di(s,o,"method",E.method,E,null),di(s,o,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Xu(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Xy);break;case"onScroll":g!=null&&Ln("scroll",s);break;case"onScrollEnd":g!=null&&Ln("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=Xu(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":Ln("beforetoggle",s),Ln("toggle",s),Rt(s,"popover",g);break;case"xlinkActuate":Jt(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Jt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Jt(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Jt(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Jt(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Jt(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Rt(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Hp.get(d)||d,Rt(s,d,g))}}function dS(s,o,d,g,E,w){switch(d){case"style":qu(s,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"children":typeof g=="string"?Or(s,g):(typeof g=="number"||typeof g=="bigint")&&Or(s,""+g);break;case"onScroll":g!=null&&Ln("scroll",s);break;case"onScrollEnd":g!=null&&Ln("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Xy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!he.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),o=d.slice(2,E?d.length-7:void 0),w=s[Ui]||null,w=w!=null?w[d]:null,typeof w=="function"&&s.removeEventListener(o,w,E),typeof g=="function")){typeof w!="function"&&w!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,g,E);break t}d in s?s[d]=g:g===!0?s.setAttribute(d,""):Rt(s,d,g)}}}function Fr(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ln("error",s),Ln("load",s);var g=!1,E=!1,w;for(w in d)if(d.hasOwnProperty(w)){var G=d[w];if(G!=null)switch(w){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:di(s,o,w,G,d,null)}}E&&di(s,o,"srcSet",d.srcSet,d,null),g&&di(s,o,"src",d.src,d,null);return;case"input":Ln("invalid",s);var J=w=G=E=null,mt=null,Ot=null;for(g in d)if(d.hasOwnProperty(g)){var te=d[g];if(te!=null)switch(g){case"name":E=te;break;case"type":G=te;break;case"checked":mt=te;break;case"defaultChecked":Ot=te;break;case"value":w=te;break;case"defaultValue":J=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:di(s,o,g,te,d,null)}}vn(s,w,J,mt,Ot,G,E,!1),Kn(s);return;case"select":Ln("invalid",s),g=G=w=null;for(E in d)if(d.hasOwnProperty(E)&&(J=d[E],J!=null))switch(E){case"value":w=J;break;case"defaultValue":G=J;break;case"multiple":g=J;default:di(s,o,E,J,d,null)}o=w,d=G,s.multiple=!!g,o!=null?Un(s,!!g,o,!1):d!=null&&Un(s,!!g,d,!0);return;case"textarea":Ln("invalid",s),w=E=g=null;for(G in d)if(d.hasOwnProperty(G)&&(J=d[G],J!=null))switch(G){case"value":g=J;break;case"defaultValue":E=J;break;case"children":w=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(91));break;default:di(s,o,G,J,d,null)}tr(s,g,E,w),Kn(s);return;case"option":for(mt in d)if(d.hasOwnProperty(mt)&&(g=d[mt],g!=null))switch(mt){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:di(s,o,mt,g,d,null)}return;case"dialog":Ln("beforetoggle",s),Ln("toggle",s),Ln("cancel",s),Ln("close",s);break;case"iframe":case"object":Ln("load",s);break;case"video":case"audio":for(g=0;g<Vm.length;g++)Ln(Vm[g],s);break;case"image":Ln("error",s),Ln("load",s);break;case"details":Ln("toggle",s);break;case"embed":case"source":case"link":Ln("error",s),Ln("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ot in d)if(d.hasOwnProperty(Ot)&&(g=d[Ot],g!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:di(s,o,Ot,g,d,null)}return;default:if(xh(o)){for(te in d)d.hasOwnProperty(te)&&(g=d[te],g!==void 0&&dS(s,o,te,g,d,void 0));return}}for(J in d)d.hasOwnProperty(J)&&(g=d[J],g!=null&&di(s,o,J,g,d,null))}function kU(s,o,d,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,w=null,G=null,J=null,mt=null,Ot=null,te=null;for(Vt in d){var re=d[Vt];if(d.hasOwnProperty(Vt)&&re!=null)switch(Vt){case"checked":break;case"value":break;case"defaultValue":mt=re;default:g.hasOwnProperty(Vt)||di(s,o,Vt,null,g,re)}}for(var Bt in g){var Vt=g[Bt];if(re=d[Bt],g.hasOwnProperty(Bt)&&(Vt!=null||re!=null))switch(Bt){case"type":w=Vt;break;case"name":E=Vt;break;case"checked":Ot=Vt;break;case"defaultChecked":te=Vt;break;case"value":G=Vt;break;case"defaultValue":J=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(i(137,o));break;default:Vt!==re&&di(s,o,Bt,Vt,g,re)}}bn(s,G,J,mt,Ot,te,w,E);return;case"select":Vt=G=J=Bt=null;for(w in d)if(mt=d[w],d.hasOwnProperty(w)&&mt!=null)switch(w){case"value":break;case"multiple":Vt=mt;default:g.hasOwnProperty(w)||di(s,o,w,null,g,mt)}for(E in g)if(w=g[E],mt=d[E],g.hasOwnProperty(E)&&(w!=null||mt!=null))switch(E){case"value":Bt=w;break;case"defaultValue":J=w;break;case"multiple":G=w;default:w!==mt&&di(s,o,E,w,g,mt)}o=J,d=G,g=Vt,Bt!=null?Un(s,!!d,Bt,!1):!!g!=!!d&&(o!=null?Un(s,!!d,o,!0):Un(s,!!d,d?[]:"",!1));return;case"textarea":Vt=Bt=null;for(J in d)if(E=d[J],d.hasOwnProperty(J)&&E!=null&&!g.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:di(s,o,J,null,g,E)}for(G in g)if(E=g[G],w=d[G],g.hasOwnProperty(G)&&(E!=null||w!=null))switch(G){case"value":Bt=E;break;case"defaultValue":Vt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==w&&di(s,o,G,E,g,w)}ei(s,Bt,Vt);return;case"option":for(var on in d)if(Bt=d[on],d.hasOwnProperty(on)&&Bt!=null&&!g.hasOwnProperty(on))switch(on){case"selected":s.selected=!1;break;default:di(s,o,on,null,g,Bt)}for(mt in g)if(Bt=g[mt],Vt=d[mt],g.hasOwnProperty(mt)&&Bt!==Vt&&(Bt!=null||Vt!=null))switch(mt){case"selected":s.selected=Bt&&typeof Bt!="function"&&typeof Bt!="symbol";break;default:di(s,o,mt,Bt,g,Vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in d)Bt=d[Qe],d.hasOwnProperty(Qe)&&Bt!=null&&!g.hasOwnProperty(Qe)&&di(s,o,Qe,null,g,Bt);for(Ot in g)if(Bt=g[Ot],Vt=d[Ot],g.hasOwnProperty(Ot)&&Bt!==Vt&&(Bt!=null||Vt!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(i(137,o));break;default:di(s,o,Ot,Bt,g,Vt)}return;default:if(xh(o)){for(var pi in d)Bt=d[pi],d.hasOwnProperty(pi)&&Bt!==void 0&&!g.hasOwnProperty(pi)&&dS(s,o,pi,void 0,g,Bt);for(te in g)Bt=g[te],Vt=d[te],!g.hasOwnProperty(te)||Bt===Vt||Bt===void 0&&Vt===void 0||dS(s,o,te,Bt,g,Vt);return}}for(var At in d)Bt=d[At],d.hasOwnProperty(At)&&Bt!=null&&!g.hasOwnProperty(At)&&di(s,o,At,null,g,Bt);for(re in g)Bt=g[re],Vt=d[re],!g.hasOwnProperty(re)||Bt===Vt||Bt==null&&Vt==null||di(s,o,re,Bt,g,Vt)}var pS=null,mS=null;function Yy(s){return s.nodeType===9?s:s.ownerDocument}function uA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fA(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function gS(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vS=null;function GU(){var s=window.event;return s&&s.type==="popstate"?s===vS?!1:(vS=s,!0):(vS=null,!1)}var hA=typeof setTimeout=="function"?setTimeout:void 0,jU=typeof clearTimeout=="function"?clearTimeout:void 0,dA=typeof Promise=="function"?Promise:void 0,qU=typeof queueMicrotask=="function"?queueMicrotask:typeof dA<"u"?function(s){return dA.resolve(null).then(s).catch(XU)}:hA;function XU(s){setTimeout(function(){throw s})}function lu(s){return s==="head"}function pA(s,o){var d=o,g=0,E=0;do{var w=d.nextSibling;if(s.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<g&&8>g){d=g;var G=s.ownerDocument;if(d&1&&Gm(G.documentElement),d&2&&Gm(G.body),d&4)for(d=G.head,Gm(d),G=d.firstChild;G;){var J=G.nextSibling,mt=G.nodeName;G[Xr]||mt==="SCRIPT"||mt==="STYLE"||mt==="LINK"&&G.rel.toLowerCase()==="stylesheet"||d.removeChild(G),G=J}}if(E===0){s.removeChild(w),Qm(o);return}E--}else d==="$"||d==="$?"||d==="$!"?E++:g=d.charCodeAt(0)-48;else g=0;d=w}while(d);Qm(o)}function yS(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":yS(d),qn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function YU(s,o,d,g){for(;s.nodeType===1;){var E=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Xr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==E.rel||s.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||s.getAttribute("title")!==(E.title==null?null:E.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(E.src==null?null:E.src)||s.getAttribute("type")!==(E.type==null?null:E.type)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=E.name==null?null:""+E.name;if(E.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=po(s.nextSibling),s===null)break}return null}function WU(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=po(s.nextSibling),s===null))return null;return s}function _S(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function ZU(s,o){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")o();else{var g=function(){o(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function po(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var xS=null;function mA(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}function gA(s,o,d){switch(o=Yy(d),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Gm(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);qn(s)}var za=new Map,vA=new Set;function Wy(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ql=k.d;k.d={f:KU,r:QU,D:JU,C:$U,L:tP,m:eP,X:iP,S:nP,M:rP};function KU(){var s=Ql.f(),o=Pa();return s||o}function QU(s){var o=rt(s);o!==null&&o.tag===5&&o.type==="form"?Ty(o):Ql.r(s)}var yd=typeof document>"u"?null:document;function yA(s,o,d){var g=yd;if(g&&typeof o=="string"&&o){var E=Xe(o);E='link[rel="'+s+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),vA.has(E)||(vA.add(E),s={rel:s,crossOrigin:d,href:o},g.querySelector(E)===null&&(o=g.createElement("link"),Fr(o,"link",s),zt(o),g.head.appendChild(o)))}}function JU(s){Ql.D(s),yA("dns-prefetch",s,null)}function $U(s,o){Ql.C(s,o),yA("preconnect",s,o)}function tP(s,o,d){Ql.L(s,o,d);var g=yd;if(g&&s&&o){var E='link[rel="preload"][as="'+Xe(o)+'"]';o==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+Xe(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+Xe(d.imageSizes)+'"]')):E+='[href="'+Xe(s)+'"]';var w=E;switch(o){case"style":w=_d(s);break;case"script":w=xd(s)}za.has(w)||(s=m({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),za.set(w,s),g.querySelector(E)!==null||o==="style"&&g.querySelector(jm(w))||o==="script"&&g.querySelector(qm(w))||(o=g.createElement("link"),Fr(o,"link",s),zt(o),g.head.appendChild(o)))}}function eP(s,o){Ql.m(s,o);var d=yd;if(d&&s){var g=o&&typeof o.as=="string"?o.as:"script",E='link[rel="modulepreload"][as="'+Xe(g)+'"][href="'+Xe(s)+'"]',w=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=xd(s)}if(!za.has(w)&&(s=m({rel:"modulepreload",href:s},o),za.set(w,s),d.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(qm(w)))return}g=d.createElement("link"),Fr(g,"link",s),zt(g),d.head.appendChild(g)}}}function nP(s,o,d){Ql.S(s,o,d);var g=yd;if(g&&s){var E=Lt(g).hoistableStyles,w=_d(s);o=o||"default";var G=E.get(w);if(!G){var J={loading:0,preload:null};if(G=g.querySelector(jm(w)))J.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},d),(d=za.get(w))&&bS(s,d);var mt=G=g.createElement("link");zt(mt),Fr(mt,"link",s),mt._p=new Promise(function(Ot,te){mt.onload=Ot,mt.onerror=te}),mt.addEventListener("load",function(){J.loading|=1}),mt.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Zy(G,o,g)}G={type:"stylesheet",instance:G,count:1,state:J},E.set(w,G)}}}function iP(s,o){Ql.X(s,o);var d=yd;if(d&&s){var g=Lt(d).hoistableScripts,E=xd(s),w=g.get(E);w||(w=d.querySelector(qm(E)),w||(s=m({src:s,async:!0},o),(o=za.get(E))&&SS(s,o),w=d.createElement("script"),zt(w),Fr(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(E,w))}}function rP(s,o){Ql.M(s,o);var d=yd;if(d&&s){var g=Lt(d).hoistableScripts,E=xd(s),w=g.get(E);w||(w=d.querySelector(qm(E)),w||(s=m({src:s,async:!0,type:"module"},o),(o=za.get(E))&&SS(s,o),w=d.createElement("script"),zt(w),Fr(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(E,w))}}function _A(s,o,d,g){var E=(E=lt.current)?Wy(E):null;if(!E)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=_d(d.href),d=Lt(E).hoistableStyles,g=d.get(o),g||(g={type:"style",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=_d(d.href);var w=Lt(E).hoistableStyles,G=w.get(s);if(G||(E=E.ownerDocument||E,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,G),(w=E.querySelector(jm(s)))&&!w._p&&(G.instance=w,G.state.loading=5),za.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},za.set(s,d),w||sP(E,s,d,G.state))),o&&g===null)throw Error(i(528,""));return G}if(o&&g!==null)throw Error(i(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=xd(d),d=Lt(E).hoistableScripts,g=d.get(o),g||(g={type:"script",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function _d(s){return'href="'+Xe(s)+'"'}function jm(s){return'link[rel="stylesheet"]['+s+"]"}function xA(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function sP(s,o,d,g){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=s.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),Fr(o,"link",d),zt(o),s.head.appendChild(o))}function xd(s){return'[src="'+Xe(s)+'"]'}function qm(s){return"script[async]"+s}function bA(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var g=s.querySelector('style[data-href~="'+Xe(d.href)+'"]');if(g)return o.instance=g,zt(g),g;var E=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),zt(g),Fr(g,"style",E),Zy(g,d.precedence,s),o.instance=g;case"stylesheet":E=_d(d.href);var w=s.querySelector(jm(E));if(w)return o.state.loading|=4,o.instance=w,zt(w),w;g=xA(d),(E=za.get(E))&&bS(g,E),w=(s.ownerDocument||s).createElement("link"),zt(w);var G=w;return G._p=new Promise(function(J,mt){G.onload=J,G.onerror=mt}),Fr(w,"link",g),o.state.loading|=4,Zy(w,d.precedence,s),o.instance=w;case"script":return w=xd(d.src),(E=s.querySelector(qm(w)))?(o.instance=E,zt(E),E):(g=d,(E=za.get(w))&&(g=m({},d),SS(g,E)),s=s.ownerDocument||s,E=s.createElement("script"),zt(E),Fr(E,"link",g),s.head.appendChild(E),o.instance=E);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,Zy(g,d.precedence,s));return o.instance}function Zy(s,o,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,w=E,G=0;G<g.length;G++){var J=g[G];if(J.dataset.precedence===o)w=J;else if(w!==E)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function bS(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function SS(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Ky=null;function SA(s,o,d){if(Ky===null){var g=new Map,E=Ky=new Map;E.set(d,g)}else E=Ky,g=E.get(d),g||(g=new Map,E.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),E=0;E<d.length;E++){var w=d[E];if(!(w[Xr]||w[Di]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var G=w.getAttribute(o)||"";G=s+G;var J=g.get(G);J?J.push(w):g.set(G,[w])}}return g}function MA(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function aP(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function EA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Xm=null;function oP(){}function lP(s,o,d){if(Xm===null)throw Error(i(475));var g=Xm;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var E=_d(d.href),w=s.querySelector(jm(E));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=Qy.bind(g),s.then(g,g)),o.state.loading|=4,o.instance=w,zt(w);return}w=s.ownerDocument||s,d=xA(d),(E=za.get(E))&&bS(d,E),w=w.createElement("link"),zt(w);var G=w;G._p=new Promise(function(J,mt){G.onload=J,G.onerror=mt}),Fr(w,"link",d),o.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(g.count++,o=Qy.bind(g),s.addEventListener("load",o),s.addEventListener("error",o))}}function cP(){if(Xm===null)throw Error(i(475));var s=Xm;return s.stylesheets&&s.count===0&&MS(s,s.stylesheets),0<s.count?function(o){var d=setTimeout(function(){if(s.stylesheets&&MS(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d)}}:null}function Qy(){if(this.count--,this.count===0){if(this.stylesheets)MS(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Jy=null;function MS(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Jy=new Map,o.forEach(uP,s),Jy=null,Qy.call(s))}function uP(s,o){if(!(o.state.loading&4)){var d=Jy.get(s);if(d)var g=d.get(null);else{d=new Map,Jy.set(s,d);for(var E=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<E.length;w++){var G=E[w];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(d.set(G.dataset.precedence,G),g=G)}g&&d.set(null,g)}E=o.instance,G=E.getAttribute("data-precedence"),w=d.get(G)||g,w===g&&d.set(null,E),d.set(G,E),this.count++,g=Qy.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),w?w.parentNode.insertBefore(E,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(E,s.firstChild)),o.state.loading|=4}}var Ym={$$typeof:R,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function fP(s,o,d,g,E,w,G,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.hiddenUpdates=jt(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=w,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function DA(s,o,d,g,E,w,G,J,mt,Ot,te,re){return s=new fP(s,o,d,G,J,mt,Ot,re),o=1,w===!0&&(o|=24),w=Qr(3,null,null,o),s.current=w,w.stateNode=s,o=Vh(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:g,isDehydrated:d,cache:o},vm(w),s}function AA(s){return s?(s=Go,s):Go}function TA(s,o,d,g,E,w){E=AA(E),g.context===null?g.context=E:g.pendingContext=E,g=Ea(o),g.payload={element:d},w=w===void 0?null:w,w!==null&&(g.callback=w),d=io(s,g,o),d!==null&&(Hr(d,s,o),Ll(d,s,o))}function wA(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function ES(s,o){wA(s,o),(s=s.alternate)&&wA(s,o)}function RA(s){if(s.tag===13){var o=Ja(s,67108864);o!==null&&Hr(o,s,67108864),ES(s,67108864)}}var $y=!0;function hP(s,o,d,g){var E=H.T;H.T=null;var w=k.p;try{k.p=2,DS(s,o,d,g)}finally{k.p=w,H.T=E}}function dP(s,o,d,g){var E=H.T;H.T=null;var w=k.p;try{k.p=8,DS(s,o,d,g)}finally{k.p=w,H.T=E}}function DS(s,o,d,g){if($y){var E=AS(g);if(E===null)hS(s,o,g,t0,d),OA(s,g);else if(mP(E,s,o,d,g))g.stopPropagation();else if(OA(s,g),o&4&&-1<pP.indexOf(s)){for(;E!==null;){var w=rt(E);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var G=_e(w.pendingLanes);if(G!==0){var J=w;for(J.pendingLanes|=2,J.entangledLanes|=2;G;){var mt=1<<31-Me(G);J.entanglements[1]|=mt,G&=~mt}dl(w),(Yn&6)===0&&(Dr=Xt()+500,Fm(0))}}break;case 13:J=Ja(w,2),J!==null&&Hr(J,w,2),Pa(),ES(w,2)}if(w=AS(g),w===null&&hS(s,o,g,t0,d),w===E)break;E=w}E!==null&&g.stopPropagation()}else hS(s,o,g,null,d)}}function AS(s){return s=Sh(s),TS(s)}var t0=null;function TS(s){if(t0=null,s=q(s),s!==null){var o=a(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=l(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return t0=s,null}function CA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case ue:return 2;case Zt:return 8;case ot:case Z:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var wS=!1,cu=null,uu=null,fu=null,Wm=new Map,Zm=new Map,hu=[],pP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OA(s,o){switch(s){case"focusin":case"focusout":cu=null;break;case"dragenter":case"dragleave":uu=null;break;case"mouseover":case"mouseout":fu=null;break;case"pointerover":case"pointerout":Wm.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(o.pointerId)}}function Km(s,o,d,g,E,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[E]},o!==null&&(o=rt(o),o!==null&&RA(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,E!==null&&o.indexOf(E)===-1&&o.push(E),s)}function mP(s,o,d,g,E){switch(o){case"focusin":return cu=Km(cu,s,o,d,g,E),!0;case"dragenter":return uu=Km(uu,s,o,d,g,E),!0;case"mouseover":return fu=Km(fu,s,o,d,g,E),!0;case"pointerover":var w=E.pointerId;return Wm.set(w,Km(Wm.get(w)||null,s,o,d,g,E)),!0;case"gotpointercapture":return w=E.pointerId,Zm.set(w,Km(Zm.get(w)||null,s,o,d,g,E)),!0}return!1}function NA(s){var o=q(s.target);if(o!==null){var d=a(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){s.blockedOn=o,br(s.priority,function(){if(d.tag===13){var g=Ri();g=Vn(g);var E=Ja(d,g);E!==null&&Hr(E,d,g),ES(d,g)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function e0(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=AS(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);bh=g,d.target.dispatchEvent(g),bh=null}else return o=rt(d),o!==null&&RA(o),s.blockedOn=d,!1;o.shift()}return!0}function LA(s,o,d){e0(s)&&d.delete(o)}function gP(){wS=!1,cu!==null&&e0(cu)&&(cu=null),uu!==null&&e0(uu)&&(uu=null),fu!==null&&e0(fu)&&(fu=null),Wm.forEach(LA),Zm.forEach(LA)}function n0(s,o){s.blockedOn===o&&(s.blockedOn=null,wS||(wS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gP)))}var i0=null;function UA(s){i0!==s&&(i0=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){i0===s&&(i0=null);for(var o=0;o<s.length;o+=3){var d=s[o],g=s[o+1],E=s[o+2];if(typeof g!="function"){if(TS(g||d)===null)continue;break}var w=rt(d);w!==null&&(s.splice(o,3),o-=3,Lm(w,{pending:!0,data:E,method:d.method,action:g},g,E))}}))}function Qm(s){function o(mt){return n0(mt,s)}cu!==null&&n0(cu,s),uu!==null&&n0(uu,s),fu!==null&&n0(fu,s),Wm.forEach(o),Zm.forEach(o);for(var d=0;d<hu.length;d++){var g=hu[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<hu.length&&(d=hu[0],d.blockedOn===null);)NA(d),d.blockedOn===null&&hu.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var E=d[g],w=d[g+1],G=E[Ui]||null;if(typeof w=="function")G||UA(d);else if(G){var J=null;if(w&&w.hasAttribute("formAction")){if(E=w,G=w[Ui]||null)J=G.formAction;else if(TS(E)!==null)continue}else J=G.action;typeof J=="function"?d[g+1]=J:(d.splice(g,3),g-=3),UA(d)}}}function RS(s){this._internalRoot=s}r0.prototype.render=RS.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var d=o.current,g=Ri();TA(d,g,s,o,null,null)},r0.prototype.unmount=RS.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;TA(s.current,2,null,s,null,null),Pa(),o[Pi]=null}};function r0(s){this._internalRoot=s}r0.prototype.unstable_scheduleHydration=function(s){if(s){var o=Tn();s={blockedOn:null,target:s,priority:o};for(var d=0;d<hu.length&&o!==0&&o<hu[d].priority;d++);hu.splice(d,0,s),d===0&&NA(s)}};var PA=t.version;if(PA!=="19.1.0")throw Error(i(527,PA,"19.1.0"));k.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var vP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s0.isDisabled&&s0.supportsFiber)try{Nt=s0.inject(vP),de=s0}catch{}}return $m.createRoot=function(s,o){if(!r(s))throw Error(i(299));var d=!1,g="",E=wf,w=rd,G=Hy,J=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(E=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(G=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(J=o.unstable_transitionCallbacks)),o=DA(s,1,!1,null,null,d,g,E,w,G,J,null),s[Pi]=o.current,fS(s),new RS(o)},$m.hydrateRoot=function(s,o,d){if(!r(s))throw Error(i(299));var g=!1,E="",w=wf,G=rd,J=Hy,mt=null,Ot=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(G=d.onCaughtError),d.onRecoverableError!==void 0&&(J=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(mt=d.unstable_transitionCallbacks),d.formState!==void 0&&(Ot=d.formState)),o=DA(s,1,!0,o,d??null,g,E,w,G,J,mt,Ot),o.context=AA(null),d=o.current,g=Ri(),g=Vn(g),E=Ea(g),E.callback=null,io(d,E,g),d=g,o.current.lanes=d,ne(o,d),dl(o),s[Pi]=o.current,fS(s),new r0(o)},$m.version="19.1.0",$m}var qA;function TP(){if(qA)return NS.exports;qA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),NS.exports=AP(),NS.exports}var wP=TP();function XA(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Vx(...n){return t=>{let e=!1;const i=n.map(r=>{const a=XA(r,t);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():XA(n[r],null)}}}}function yr(...n){return Y.useCallback(Vx(...n),n)}function sp(n){const t=RP(n),e=Y.forwardRef((i,r)=>{const{children:a,...l}=i,u=Y.Children.toArray(a),h=u.find(OP);if(h){const p=h.props.children,m=u.map(v=>v===h?Y.Children.count(p)>1?Y.Children.only(null):Y.isValidElement(p)?p.props.children:null:v);return W.jsx(t,{...l,ref:r,children:Y.isValidElement(p)?Y.cloneElement(p,void 0,m):null})}return W.jsx(t,{...l,ref:r,children:a})});return e.displayName=`${n}.Slot`,e}var kx=sp("Slot");function RP(n){const t=Y.forwardRef((e,i)=>{const{children:r,...a}=e;if(Y.isValidElement(r)){const l=LP(r),u=NP(a,r.props);return r.type!==Y.Fragment&&(u.ref=i?Vx(i,l):l),Y.cloneElement(r,u)}return Y.Children.count(r)>1?Y.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var z2=Symbol("radix.slottable");function CP(n){const t=({children:e})=>W.jsx(W.Fragment,{children:e});return t.displayName=`${n}.Slottable`,t.__radixId=z2,t}function OP(n){return Y.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===z2}function NP(n,t){const e={...t};for(const i in t){const r=n[i],a=t[i];/^on[A-Z]/.test(i)?r&&a?e[i]=(...u)=>{a(...u),r(...u)}:r&&(e[i]=r):i==="style"?e[i]={...r,...a}:i==="className"&&(e[i]=[r,a].filter(Boolean).join(" "))}return{...n,...e}}function LP(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function B2(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=B2(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function H2(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=B2(n))&&(i&&(i+=" "),i+=t);return i}const YA=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,WA=H2,F2=(n,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return WA(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:r,defaultVariants:a}=t,l=Object.keys(r).map(p=>{const m=e==null?void 0:e[p],v=a==null?void 0:a[p];if(m===null)return null;const _=YA(m)||YA(v);return r[p][_]}),u=e&&Object.entries(e).reduce((p,m)=>{let[v,_]=m;return _===void 0||(p[v]=_),p},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,m)=>{let{class:v,className:_,...b}=m;return Object.entries(b).every(S=>{let[A,M]=S;return Array.isArray(M)?M.includes({...a,...u}[A]):{...a,...u}[A]===M})?[...p,v,_]:p},[]);return WA(n,l,h,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),ZA=n=>{const t=PP(n);return t.charAt(0).toUpperCase()+t.slice(1)},V2=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),IP=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Y.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:l,...u},h)=>Y.createElement("svg",{ref:h,...zP,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:V2("lucide",r),...!a&&!IP(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,m])=>Y.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=(n,t)=>{const e=Y.forwardRef(({className:i,...r},a)=>Y.createElement(BP,{ref:a,iconNode:t,className:V2(`lucide-${UP(ZA(n))}`,`lucide-${n}`,i),...r}));return e.displayName=ZA(n),e};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],FP=ph("ellipsis",HP);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kP=ph("eye",VP);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],jP=ph("file-plus",GP);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],XP=ph("file-up",qP);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],WP=ph("panel-left",YP);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],KP=ph("trash-2",ZP);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],k2=ph("x",QP),_E="-",JP=n=>{const t=tI(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:l=>{const u=l.split(_E);return u[0]===""&&u.length!==1&&u.shift(),G2(u,t)||$P(l)},getConflictingClassGroupIds:(l,u)=>{const h=e[l]||[];return u&&i[l]?[...h,...i[l]]:h}}},G2=(n,t)=>{var l;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),r=i?G2(n.slice(1),i):void 0;if(r)return r;if(t.validators.length===0)return;const a=n.join(_E);return(l=t.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},KA=/^\[(.+)\]$/,$P=n=>{if(KA.test(n)){const t=KA.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},tI=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const r in e)xM(e[r],i,r,t);return i},xM=(n,t,e,i)=>{n.forEach(r=>{if(typeof r=="string"){const a=r===""?t:QA(t,r);a.classGroupId=e;return}if(typeof r=="function"){if(eI(r)){xM(r(i),t,e,i);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([a,l])=>{xM(l,QA(t,a),e,i)})})},QA=(n,t)=>{let e=n;return t.split(_E).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},eI=n=>n.isThemeGetter,nI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const r=(a,l)=>{e.set(a,l),t++,t>n&&(t=0,i=e,e=new Map)};return{get(a){let l=e.get(a);if(l!==void 0)return l;if((l=i.get(a))!==void 0)return r(a,l),l},set(a,l){e.has(a)?e.set(a,l):r(a,l)}}},bM="!",SM=":",iI=SM.length,rI=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=r=>{const a=[];let l=0,u=0,h=0,p;for(let S=0;S<r.length;S++){let A=r[S];if(l===0&&u===0){if(A===SM){a.push(r.slice(h,S)),h=S+iI;continue}if(A==="/"){p=S;continue}}A==="["?l++:A==="]"?l--:A==="("?u++:A===")"&&u--}const m=a.length===0?r:r.substring(h),v=sI(m),_=v!==m,b=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:b}};if(t){const r=t+SM,a=i;i=l=>l.startsWith(r)?a(l.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(e){const r=i;i=a=>e({className:a,parseClassName:r})}return i},sI=n=>n.endsWith(bM)?n.substring(0,n.length-1):n.startsWith(bM)?n.substring(1):n,aI=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let a=[];return i.forEach(l=>{l[0]==="["||t[l]?(r.push(...a.sort(),l),a=[]):a.push(l)}),r.push(...a.sort()),r}},oI=n=>({cache:nI(n.cacheSize),parseClassName:rI(n),sortModifiers:aI(n),...JP(n)}),lI=/\s+/,cI=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:a}=t,l=[],u=n.trim().split(lI);let h="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:v,modifiers:_,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:A}=e(m);if(v){h=m+(h.length>0?" "+h:h);continue}let M=!!A,x=i(M?S.substring(0,A):S);if(!x){if(!M){h=m+(h.length>0?" "+h:h);continue}if(x=i(S),!x){h=m+(h.length>0?" "+h:h);continue}M=!1}const T=a(_).join(":"),R=b?T+bM:T,O=R+x;if(l.includes(O))continue;l.push(O);const I=r(x,M);for(let P=0;P<I.length;++P){const B=I[P];l.push(R+B)}h=m+(h.length>0?" "+h:h)}return h};function uI(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=j2(t))&&(i&&(i+=" "),i+=e);return i}const j2=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=j2(n[i]))&&(e&&(e+=" "),e+=t);return e};function fI(n,...t){let e,i,r,a=l;function l(h){const p=t.reduce((m,v)=>v(m),n());return e=oI(p),i=e.cache.get,r=e.cache.set,a=u,u(h)}function u(h){const p=i(h);if(p)return p;const m=cI(h,e);return r(h,m),m}return function(){return a(uI.apply(null,arguments))}}const vr=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},q2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,X2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hI=/^\d+\/\d+$/,dI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bd=n=>hI.test(n),Rn=n=>!!n&&!Number.isNaN(Number(n)),pu=n=>!!n&&Number.isInteger(Number(n)),IS=n=>n.endsWith("%")&&Rn(n.slice(0,-1)),Jl=n=>dI.test(n),yI=()=>!0,_I=n=>pI.test(n)&&!mI.test(n),Y2=()=>!1,xI=n=>gI.test(n),bI=n=>vI.test(n),SI=n=>!Pe(n)&&!Ie(n),MI=n=>Dp(n,K2,Y2),Pe=n=>q2.test(n),If=n=>Dp(n,Q2,_I),zS=n=>Dp(n,wI,Rn),JA=n=>Dp(n,W2,Y2),EI=n=>Dp(n,Z2,bI),a0=n=>Dp(n,J2,xI),Ie=n=>X2.test(n),tg=n=>Ap(n,Q2),DI=n=>Ap(n,RI),$A=n=>Ap(n,W2),AI=n=>Ap(n,K2),TI=n=>Ap(n,Z2),o0=n=>Ap(n,J2,!0),Dp=(n,t,e)=>{const i=q2.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},Ap=(n,t,e=!1)=>{const i=X2.exec(n);return i?i[1]?t(i[1]):e:!1},W2=n=>n==="position"||n==="percentage",Z2=n=>n==="image"||n==="url",K2=n=>n==="length"||n==="size"||n==="bg-size",Q2=n=>n==="length",wI=n=>n==="number",RI=n=>n==="family-name",J2=n=>n==="shadow",CI=()=>{const n=vr("color"),t=vr("font"),e=vr("text"),i=vr("font-weight"),r=vr("tracking"),a=vr("leading"),l=vr("breakpoint"),u=vr("container"),h=vr("spacing"),p=vr("radius"),m=vr("shadow"),v=vr("inset-shadow"),_=vr("text-shadow"),b=vr("drop-shadow"),S=vr("blur"),A=vr("perspective"),M=vr("aspect"),x=vr("ease"),T=vr("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...O(),Ie,Pe],P=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],N=()=>[Ie,Pe,h],L=()=>[bd,"full","auto",...N()],U=()=>[pu,"none","subgrid",Ie,Pe],F=()=>["auto",{span:["full",pu,Ie,Pe]},pu,Ie,Pe],K=()=>[pu,"auto",Ie,Pe],tt=()=>["auto","min","max","fr",Ie,Pe],nt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],at=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...N()],k=()=>[bd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],V=()=>[n,Ie,Pe],Q=()=>[...O(),$A,JA,{position:[Ie,Pe]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],st=()=>["auto","cover","contain",AI,MI,{size:[Ie,Pe]}],ht=()=>[IS,tg,If],dt=()=>["","none","full",p,Ie,Pe],$=()=>["",Rn,tg,If],ft=()=>["solid","dashed","dotted","double"],lt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pt=()=>[Rn,IS,$A,JA],xt=()=>["","none",S,Ie,Pe],Ct=()=>["none",Rn,Ie,Pe],Ht=()=>["none",Rn,Ie,Pe],Kt=()=>[Rn,Ie,Pe],le=()=>[bd,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Jl],breakpoint:[Jl],color:[yI],container:[Jl],"drop-shadow":[Jl],ease:["in","out","in-out"],font:[SI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Jl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Jl],shadow:[Jl],spacing:["px",Rn],text:[Jl],"text-shadow":[Jl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bd,Pe,Ie,M]}],container:["container"],columns:[{columns:[Rn,Pe,Ie,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[pu,"auto",Ie,Pe]}],basis:[{basis:[bd,"full","auto",u,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Rn,bd,"auto","initial","none",Pe]}],grow:[{grow:["",Rn,Ie,Pe]}],shrink:[{shrink:["",Rn,Ie,Pe]}],order:[{order:[pu,"first","last","none",Ie,Pe]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":tt()}],"auto-rows":[{"auto-rows":tt()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...nt(),"normal"]}],"justify-items":[{"justify-items":[...at(),"normal"]}],"justify-self":[{"justify-self":["auto",...at()]}],"align-content":[{content:["normal",...nt()]}],"align-items":[{items:[...at(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...at(),{baseline:["","last"]}]}],"place-content":[{"place-content":nt()}],"place-items":[{"place-items":[...at(),"baseline"]}],"place-self":[{"place-self":["auto",...at()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[u,"screen",...k()]}],"min-w":[{"min-w":[u,"screen","none",...k()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...k()]}],h:[{h:["screen",...k()]}],"min-h":[{"min-h":["screen","none",...k()]}],"max-h":[{"max-h":["screen",...k()]}],"font-size":[{text:["base",e,tg,If]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ie,zS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",IS,Pe]}],"font-family":[{font:[DI,Pe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Ie,Pe]}],"line-clamp":[{"line-clamp":[Rn,"none",Ie,zS]}],leading:[{leading:[a,...N()]}],"list-image":[{"list-image":["none",Ie,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ft(),"wavy"]}],"text-decoration-thickness":[{decoration:[Rn,"from-font","auto",Ie,If]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Rn,"auto",Ie,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:st()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pu,Ie,Pe],radial:["",Ie,Pe],conic:[pu,Ie,Pe]},TI,EI]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:ht()}],"gradient-via-pos":[{via:ht()}],"gradient-to-pos":[{to:ht()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:dt()}],"rounded-s":[{"rounded-s":dt()}],"rounded-e":[{"rounded-e":dt()}],"rounded-t":[{"rounded-t":dt()}],"rounded-r":[{"rounded-r":dt()}],"rounded-b":[{"rounded-b":dt()}],"rounded-l":[{"rounded-l":dt()}],"rounded-ss":[{"rounded-ss":dt()}],"rounded-se":[{"rounded-se":dt()}],"rounded-ee":[{"rounded-ee":dt()}],"rounded-es":[{"rounded-es":dt()}],"rounded-tl":[{"rounded-tl":dt()}],"rounded-tr":[{"rounded-tr":dt()}],"rounded-br":[{"rounded-br":dt()}],"rounded-bl":[{"rounded-bl":dt()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ft(),"hidden","none"]}],"divide-style":[{divide:[...ft(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ft(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Rn,Ie,Pe]}],"outline-w":[{outline:["",Rn,tg,If]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",m,o0,a0]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",v,o0,a0]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Rn,If]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",_,o0,a0]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Rn,Ie,Pe]}],"mix-blend":[{"mix-blend":[...lt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":lt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Rn]}],"mask-image-linear-from-pos":[{"mask-linear-from":pt()}],"mask-image-linear-to-pos":[{"mask-linear-to":pt()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":pt()}],"mask-image-t-to-pos":[{"mask-t-to":pt()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":pt()}],"mask-image-r-to-pos":[{"mask-r-to":pt()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":pt()}],"mask-image-b-to-pos":[{"mask-b-to":pt()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":pt()}],"mask-image-l-to-pos":[{"mask-l-to":pt()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":pt()}],"mask-image-x-to-pos":[{"mask-x-to":pt()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":pt()}],"mask-image-y-to-pos":[{"mask-y-to":pt()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Ie,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":pt()}],"mask-image-radial-to-pos":[{"mask-radial-to":pt()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Rn]}],"mask-image-conic-from-pos":[{"mask-conic-from":pt()}],"mask-image-conic-to-pos":[{"mask-conic-to":pt()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:st()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Pe]}],filter:[{filter:["","none",Ie,Pe]}],blur:[{blur:xt()}],brightness:[{brightness:[Rn,Ie,Pe]}],contrast:[{contrast:[Rn,Ie,Pe]}],"drop-shadow":[{"drop-shadow":["","none",b,o0,a0]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Rn,Ie,Pe]}],"hue-rotate":[{"hue-rotate":[Rn,Ie,Pe]}],invert:[{invert:["",Rn,Ie,Pe]}],saturate:[{saturate:[Rn,Ie,Pe]}],sepia:[{sepia:["",Rn,Ie,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Pe]}],"backdrop-blur":[{"backdrop-blur":xt()}],"backdrop-brightness":[{"backdrop-brightness":[Rn,Ie,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[Rn,Ie,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Rn,Ie,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Rn,Ie,Pe]}],"backdrop-invert":[{"backdrop-invert":["",Rn,Ie,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[Rn,Ie,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[Rn,Ie,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Rn,Ie,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Rn,"initial",Ie,Pe]}],ease:[{ease:["linear","initial",x,Ie,Pe]}],delay:[{delay:[Rn,Ie,Pe]}],animate:[{animate:["none",T,Ie,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ie,Pe]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Ct()}],"rotate-x":[{"rotate-x":Ct()}],"rotate-y":[{"rotate-y":Ct()}],"rotate-z":[{"rotate-z":Ct()}],scale:[{scale:Ht()}],"scale-x":[{"scale-x":Ht()}],"scale-y":[{"scale-y":Ht()}],"scale-z":[{"scale-z":Ht()}],"scale-3d":["scale-3d"],skew:[{skew:Kt()}],"skew-x":[{"skew-x":Kt()}],"skew-y":[{"skew-y":Kt()}],transform:[{transform:[Ie,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Pe]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Rn,tg,If,zS]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},OI=fI(CI);function un(...n){return OI(H2(n))}const NI=F2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function tp({className:n,variant:t,size:e,asChild:i=!1,...r}){const a=i?kx:"button";return W.jsx(a,{"data-slot":"button",className:un(NI({variant:t,size:e,className:n})),...r})}function LI({className:n,type:t,...e}){return W.jsx("input",{type:t,"data-slot":"input",className:un("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...e})}var xE=I2();const UI=bc(xE);var PI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gi=PI.reduce((n,t)=>{const e=sp(`Primitive.${t}`),i=Y.forwardRef((r,a)=>{const{asChild:l,...u}=r,h=l?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),W.jsx(h,{...u,ref:a})});return i.displayName=`Primitive.${t}`,{...n,[t]:i}},{});function $2(n,t){n&&xE.flushSync(()=>n.dispatchEvent(t))}var II="Separator",tT="horizontal",zI=["horizontal","vertical"],tC=Y.forwardRef((n,t)=>{const{decorative:e,orientation:i=tT,...r}=n,a=BI(i)?i:tT,u=e?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return W.jsx(gi.div,{"data-orientation":a,...u,...r,ref:t})});tC.displayName=II;function BI(n){return zI.includes(n)}var HI=tC;function FI({className:n,orientation:t="horizontal",decorative:e=!0,...i}){return W.jsx(HI,{"data-slot":"separator-root",decorative:e,orientation:t,className:un("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...i})}function cn(n,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(n==null||n(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function VI(n,t){const e=Y.createContext(t),i=a=>{const{children:l,...u}=a,h=Y.useMemo(()=>u,Object.values(u));return W.jsx(e.Provider,{value:h,children:l})};i.displayName=n+"Provider";function r(a){const l=Y.useContext(e);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,r]}function Hu(n,t=[]){let e=[];function i(a,l){const u=Y.createContext(l),h=e.length;e=[...e,l];const p=v=>{var x;const{scope:_,children:b,...S}=v,A=((x=_==null?void 0:_[n])==null?void 0:x[h])||u,M=Y.useMemo(()=>S,Object.values(S));return W.jsx(A.Provider,{value:M,children:b})};p.displayName=a+"Provider";function m(v,_){var A;const b=((A=_==null?void 0:_[n])==null?void 0:A[h])||u,S=Y.useContext(b);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,m]}const r=()=>{const a=e.map(l=>Y.createContext(l));return function(u){const h=(u==null?void 0:u[n])||a;return Y.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return r.scopeName=n,[i,kI(r,...t)]}function kI(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const l=i.reduce((u,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...u,...v}},{});return Y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return e.scopeName=t.scopeName,e}var Lu=globalThis!=null&&globalThis.document?Y.useLayoutEffect:()=>{},GI=P2[" useId ".trim().toString()]||(()=>{}),jI=0;function Nu(n){const[t,e]=Y.useState(GI());return Lu(()=>{e(i=>i??String(jI++))},[n]),n||(t?`radix-${t}`:"")}var qI=P2[" useInsertionEffect ".trim().toString()]||Lu;function hv({prop:n,defaultProp:t,onChange:e=()=>{},caller:i}){const[r,a,l]=XI({defaultProp:t,onChange:e}),u=n!==void 0,h=u?n:r;{const m=Y.useRef(n!==void 0);Y.useEffect(()=>{const v=m.current;v!==u&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,i])}const p=Y.useCallback(m=>{var v;if(u){const _=YI(m)?m(n):m;_!==n&&((v=l.current)==null||v.call(l,_))}else a(m)},[u,n,a,l]);return[h,p]}function XI({defaultProp:n,onChange:t}){const[e,i]=Y.useState(n),r=Y.useRef(e),a=Y.useRef(t);return qI(()=>{a.current=t},[t]),Y.useEffect(()=>{var l;r.current!==e&&((l=a.current)==null||l.call(a,e),r.current=e)},[e,r]),[e,i,a]}function YI(n){return typeof n=="function"}function mc(n){const t=Y.useRef(n);return Y.useEffect(()=>{t.current=n}),Y.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}function WI(n,t=globalThis==null?void 0:globalThis.document){const e=mc(n);Y.useEffect(()=>{const i=r=>{r.key==="Escape"&&e(r)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[e,t])}var ZI="DismissableLayer",MM="dismissableLayer.update",KI="dismissableLayer.pointerDownOutside",QI="dismissableLayer.focusOutside",eT,eC=Y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gx=Y.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=n,p=Y.useContext(eC),[m,v]=Y.useState(null),_=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=Y.useState({}),S=yr(t,B=>v(B)),A=Array.from(p.layers),[M]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),x=A.indexOf(M),T=m?A.indexOf(m):-1,R=p.layersWithOutsidePointerEventsDisabled.size>0,O=T>=x,I=t4(B=>{const N=B.target,L=[...p.branches].some(U=>U.contains(N));!O||L||(r==null||r(B),l==null||l(B),B.defaultPrevented||u==null||u())},_),P=e4(B=>{const N=B.target;[...p.branches].some(U=>U.contains(N))||(a==null||a(B),l==null||l(B),B.defaultPrevented||u==null||u())},_);return WI(B=>{T===p.layers.size-1&&(i==null||i(B),!B.defaultPrevented&&u&&(B.preventDefault(),u()))},_),Y.useEffect(()=>{if(m)return e&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(eT=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),nT(),()=>{e&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=eT)}},[m,_,e,p]),Y.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),nT())},[m,p]),Y.useEffect(()=>{const B=()=>b({});return document.addEventListener(MM,B),()=>document.removeEventListener(MM,B)},[]),W.jsx(gi.div,{...h,ref:S,style:{pointerEvents:R?O?"auto":"none":void 0,...n.style},onFocusCapture:cn(n.onFocusCapture,P.onFocusCapture),onBlurCapture:cn(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:cn(n.onPointerDownCapture,I.onPointerDownCapture)})});Gx.displayName=ZI;var JI="DismissableLayerBranch",$I=Y.forwardRef((n,t)=>{const e=Y.useContext(eC),i=Y.useRef(null),r=yr(t,i);return Y.useEffect(()=>{const a=i.current;if(a)return e.branches.add(a),()=>{e.branches.delete(a)}},[e.branches]),W.jsx(gi.div,{...n,ref:r})});$I.displayName=JI;function t4(n,t=globalThis==null?void 0:globalThis.document){const e=mc(n),i=Y.useRef(!1),r=Y.useRef(()=>{});return Y.useEffect(()=>{const a=u=>{if(u.target&&!i.current){let h=function(){nC(KI,e,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=h,t.addEventListener("click",r.current,{once:!0})):h()}else t.removeEventListener("click",r.current);i.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function e4(n,t=globalThis==null?void 0:globalThis.document){const e=mc(n),i=Y.useRef(!1);return Y.useEffect(()=>{const r=a=>{a.target&&!i.current&&nC(QI,e,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function nT(){const n=new CustomEvent(MM);document.dispatchEvent(n)}function nC(n,t,e,{discrete:i}){const r=e.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(n,t,{once:!0}),i?$2(r,a):r.dispatchEvent(a)}var BS="focusScope.autoFocusOnMount",HS="focusScope.autoFocusOnUnmount",iT={bubbles:!1,cancelable:!0},n4="FocusScope",bE=Y.forwardRef((n,t)=>{const{loop:e=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...l}=n,[u,h]=Y.useState(null),p=mc(r),m=mc(a),v=Y.useRef(null),_=yr(t,A=>h(A)),b=Y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Y.useEffect(()=>{if(i){let A=function(R){if(b.paused||!u)return;const O=R.target;u.contains(O)?v.current=O:Du(v.current,{select:!0})},M=function(R){if(b.paused||!u)return;const O=R.relatedTarget;O!==null&&(u.contains(O)||Du(v.current,{select:!0}))},x=function(R){if(document.activeElement===document.body)for(const I of R)I.removedNodes.length>0&&Du(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",M);const T=new MutationObserver(x);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",M),T.disconnect()}}},[i,u,b.paused]),Y.useEffect(()=>{if(u){sT.add(b);const A=document.activeElement;if(!u.contains(A)){const x=new CustomEvent(BS,iT);u.addEventListener(BS,p),u.dispatchEvent(x),x.defaultPrevented||(i4(l4(iC(u)),{select:!0}),document.activeElement===A&&Du(u))}return()=>{u.removeEventListener(BS,p),setTimeout(()=>{const x=new CustomEvent(HS,iT);u.addEventListener(HS,m),u.dispatchEvent(x),x.defaultPrevented||Du(A??document.body,{select:!0}),u.removeEventListener(HS,m),sT.remove(b)},0)}}},[u,p,m,b]);const S=Y.useCallback(A=>{if(!e&&!i||b.paused)return;const M=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,x=document.activeElement;if(M&&x){const T=A.currentTarget,[R,O]=r4(T);R&&O?!A.shiftKey&&x===O?(A.preventDefault(),e&&Du(R,{select:!0})):A.shiftKey&&x===R&&(A.preventDefault(),e&&Du(O,{select:!0})):x===T&&A.preventDefault()}},[e,i,b.paused]);return W.jsx(gi.div,{tabIndex:-1,...l,ref:_,onKeyDown:S})});bE.displayName=n4;function i4(n,{select:t=!1}={}){const e=document.activeElement;for(const i of n)if(Du(i,{select:t}),document.activeElement!==e)return}function r4(n){const t=iC(n),e=rT(t,n),i=rT(t.reverse(),n);return[e,i]}function iC(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function rT(n,t){for(const e of n)if(!s4(e,{upTo:t}))return e}function s4(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function a4(n){return n instanceof HTMLInputElement&&"select"in n}function Du(n,{select:t=!1}={}){if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),n!==e&&a4(n)&&t&&n.select()}}var sT=o4();function o4(){let n=[];return{add(t){const e=n[0];t!==e&&(e==null||e.pause()),n=aT(n,t),n.unshift(t)},remove(t){var e;n=aT(n,t),(e=n[0])==null||e.resume()}}}function aT(n,t){const e=[...n],i=e.indexOf(t);return i!==-1&&e.splice(i,1),e}function l4(n){return n.filter(t=>t.tagName!=="A")}var c4="Portal",jx=Y.forwardRef((n,t)=>{var u;const{container:e,...i}=n,[r,a]=Y.useState(!1);Lu(()=>a(!0),[]);const l=e||r&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?UI.createPortal(W.jsx(gi.div,{...i,ref:t}),l):null});jx.displayName=c4;function u4(n,t){return Y.useReducer((e,i)=>t[e][i]??e,n)}var Oo=n=>{const{present:t,children:e}=n,i=f4(t),r=typeof e=="function"?e({present:i.isPresent}):Y.Children.only(e),a=yr(i.ref,h4(r));return typeof e=="function"||i.isPresent?Y.cloneElement(r,{ref:a}):null};Oo.displayName="Presence";function f4(n){const[t,e]=Y.useState(),i=Y.useRef(null),r=Y.useRef(n),a=Y.useRef("none"),l=n?"mounted":"unmounted",[u,h]=u4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Y.useEffect(()=>{const p=l0(i.current);a.current=u==="mounted"?p:"none"},[u]),Lu(()=>{const p=i.current,m=r.current;if(m!==n){const _=a.current,b=l0(p);n?h("MOUNT"):b==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(m&&_!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,h]),Lu(()=>{if(t){let p;const m=t.ownerDocument.defaultView??window,v=b=>{const A=l0(i.current).includes(b.animationName);if(b.target===t&&A&&(h("ANIMATION_END"),!r.current)){const M=t.style.animationFillMode;t.style.animationFillMode="forwards",p=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=M)})}},_=b=>{b.target===t&&(a.current=l0(i.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(p),t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:Y.useCallback(p=>{i.current=p?getComputedStyle(p):null,e(p)},[])}}function l0(n){return(n==null?void 0:n.animationName)||"none"}function h4(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var FS=0;function rC(){Y.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??oT()),document.body.insertAdjacentElement("beforeend",n[1]??oT()),FS++,()=>{FS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),FS--}},[])}function oT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var vl=function(){return vl=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},vl.apply(this,arguments)};function sC(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function d4(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return n.concat(a||Array.prototype.slice.call(t))}var x_="right-scroll-bar-position",b_="width-before-scroll-bar",p4="with-scroll-bars-hidden",m4="--removed-body-scroll-bar-size";function VS(n,t){return typeof n=="function"?n(t):n&&(n.current=t),n}function g4(n,t){var e=Y.useState(function(){return{value:n,callback:t,facade:{get current(){return e.value},set current(i){var r=e.value;r!==i&&(e.value=i,e.callback(i,r))}}}})[0];return e.callback=t,e.facade}var v4=typeof window<"u"?Y.useLayoutEffect:Y.useEffect,lT=new WeakMap;function y4(n,t){var e=g4(null,function(i){return n.forEach(function(r){return VS(r,i)})});return v4(function(){var i=lT.get(e);if(i){var r=new Set(i),a=new Set(n),l=e.current;r.forEach(function(u){a.has(u)||VS(u,null)}),a.forEach(function(u){r.has(u)||VS(u,l)})}lT.set(e,n)},[n]),e}function _4(n){return n}function x4(n,t){t===void 0&&(t=_4);var e=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:n},useMedium:function(a){var l=t(a,i);return e.push(l),function(){e=e.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(i=!0;e.length;){var l=e;e=[],l.forEach(a)}e={push:function(u){return a(u)},filter:function(){return e}}},assignMedium:function(a){i=!0;var l=[];if(e.length){var u=e;e=[],u.forEach(a),l=e}var h=function(){var m=l;l=[],m.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),e={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),e}}}};return r}function b4(n){n===void 0&&(n={});var t=x4(null);return t.options=vl({async:!0,ssr:!1},n),t}var aC=function(n){var t=n.sideCar,e=sC(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return Y.createElement(i,vl({},e))};aC.isSideCarExport=!0;function S4(n,t){return n.useMedium(t),aC}var oC=b4(),kS=function(){},qx=Y.forwardRef(function(n,t){var e=Y.useRef(null),i=Y.useState({onScrollCapture:kS,onWheelCapture:kS,onTouchMoveCapture:kS}),r=i[0],a=i[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,m=n.enabled,v=n.shards,_=n.sideCar,b=n.noIsolation,S=n.inert,A=n.allowPinchZoom,M=n.as,x=M===void 0?"div":M,T=n.gapMode,R=sC(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=_,I=y4([e,t]),P=vl(vl({},R),r);return Y.createElement(Y.Fragment,null,m&&Y.createElement(O,{sideCar:oC,removeScrollBar:p,shards:v,noIsolation:b,inert:S,setCallbacks:a,allowPinchZoom:!!A,lockRef:e,gapMode:T}),l?Y.cloneElement(Y.Children.only(u),vl(vl({},P),{ref:I})):Y.createElement(x,vl({},P,{className:h,ref:I}),u))});qx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qx.classNames={fullWidth:b_,zeroRight:x_};var M4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E4(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var t=M4();return t&&n.setAttribute("nonce",t),n}function D4(n,t){n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}function A4(n){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(n)}var T4=function(){var n=0,t=null;return{add:function(e){n==0&&(t=E4())&&(D4(t,e),A4(t)),n++},remove:function(){n--,!n&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w4=function(){var n=T4();return function(t,e){Y.useEffect(function(){return n.add(t),function(){n.remove()}},[t&&e])}},lC=function(){var n=w4(),t=function(e){var i=e.styles,r=e.dynamic;return n(i,r),null};return t},R4={left:0,top:0,right:0,gap:0},GS=function(n){return parseInt(n||"",10)||0},C4=function(n){var t=window.getComputedStyle(document.body),e=t[n==="padding"?"paddingLeft":"marginLeft"],i=t[n==="padding"?"paddingTop":"marginTop"],r=t[n==="padding"?"paddingRight":"marginRight"];return[GS(e),GS(i),GS(r)]},O4=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return R4;var t=C4(n),e=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-e+t[2]-t[0])}},N4=lC(),ep="data-scroll-locked",L4=function(n,t,e,i){var r=n.left,a=n.top,l=n.right,u=n.gap;return e===void 0&&(e="margin"),`
  .`.concat(p4,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(u,"px ").concat(i,`;
  }
  body[`).concat(ep,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),e==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(i,`;
    `),e==="padding"&&"padding-right: ".concat(u,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(x_,` {
    right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(b_,` {
    margin-right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(x_," .").concat(x_,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(b_," .").concat(b_,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ep,`] {
    `).concat(m4,": ").concat(u,`px;
  }
`)},cT=function(){var n=parseInt(document.body.getAttribute(ep)||"0",10);return isFinite(n)?n:0},U4=function(){Y.useEffect(function(){return document.body.setAttribute(ep,(cT()+1).toString()),function(){var n=cT()-1;n<=0?document.body.removeAttribute(ep):document.body.setAttribute(ep,n.toString())}},[])},P4=function(n){var t=n.noRelative,e=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;U4();var a=Y.useMemo(function(){return O4(r)},[r]);return Y.createElement(N4,{styles:L4(a,!t,r,e?"":"!important")})},EM=!1;if(typeof window<"u")try{var c0=Object.defineProperty({},"passive",{get:function(){return EM=!0,!0}});window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{EM=!1}var Sd=EM?{passive:!1}:!1,I4=function(n){return n.tagName==="TEXTAREA"},cC=function(n,t){if(!(n instanceof Element))return!1;var e=window.getComputedStyle(n);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!I4(n)&&e[t]==="visible")},z4=function(n){return cC(n,"overflowY")},B4=function(n){return cC(n,"overflowX")},uT=function(n,t){var e=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=uC(n,i);if(r){var a=fC(n,i),l=a[1],u=a[2];if(l>u)return!0}i=i.parentNode}while(i&&i!==e.body);return!1},H4=function(n){var t=n.scrollTop,e=n.scrollHeight,i=n.clientHeight;return[t,e,i]},F4=function(n){var t=n.scrollLeft,e=n.scrollWidth,i=n.clientWidth;return[t,e,i]},uC=function(n,t){return n==="v"?z4(t):B4(t)},fC=function(n,t){return n==="v"?H4(t):F4(t)},V4=function(n,t){return n==="h"&&t==="rtl"?-1:1},k4=function(n,t,e,i,r){var a=V4(n,window.getComputedStyle(t).direction),l=a*i,u=e.target,h=t.contains(u),p=!1,m=l>0,v=0,_=0;do{var b=fC(n,u),S=b[0],A=b[1],M=b[2],x=A-M-a*S;(S||x)&&uC(n,u)&&(v+=x,_+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(m&&Math.abs(v)<1||!m&&Math.abs(_)<1)&&(p=!0),p},u0=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},fT=function(n){return[n.deltaX,n.deltaY]},hT=function(n){return n&&"current"in n?n.current:n},G4=function(n,t){return n[0]===t[0]&&n[1]===t[1]},j4=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},q4=0,Md=[];function X4(n){var t=Y.useRef([]),e=Y.useRef([0,0]),i=Y.useRef(),r=Y.useState(q4++)[0],a=Y.useState(lC)[0],l=Y.useRef(n);Y.useEffect(function(){l.current=n},[n]),Y.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var A=d4([n.lockRef.current],(n.shards||[]).map(hT),!0).filter(Boolean);return A.forEach(function(M){return M.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),A.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var u=Y.useCallback(function(A,M){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!l.current.allowPinchZoom;var x=u0(A),T=e.current,R="deltaX"in A?A.deltaX:T[0]-x[0],O="deltaY"in A?A.deltaY:T[1]-x[1],I,P=A.target,B=Math.abs(R)>Math.abs(O)?"h":"v";if("touches"in A&&B==="h"&&P.type==="range")return!1;var N=uT(B,P);if(!N)return!0;if(N?I=B:(I=B==="v"?"h":"v",N=uT(B,P)),!N)return!1;if(!i.current&&"changedTouches"in A&&(R||O)&&(i.current=I),!I)return!0;var L=i.current||I;return k4(L,M,A,L==="h"?R:O)},[]),h=Y.useCallback(function(A){var M=A;if(!(!Md.length||Md[Md.length-1]!==a)){var x="deltaY"in M?fT(M):u0(M),T=t.current.filter(function(I){return I.name===M.type&&(I.target===M.target||M.target===I.shadowParent)&&G4(I.delta,x)})[0];if(T&&T.should){M.cancelable&&M.preventDefault();return}if(!T){var R=(l.current.shards||[]).map(hT).filter(Boolean).filter(function(I){return I.contains(M.target)}),O=R.length>0?u(M,R[0]):!l.current.noIsolation;O&&M.cancelable&&M.preventDefault()}}},[]),p=Y.useCallback(function(A,M,x,T){var R={name:A,delta:M,target:x,should:T,shadowParent:Y4(x)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(O){return O!==R})},1)},[]),m=Y.useCallback(function(A){e.current=u0(A),i.current=void 0},[]),v=Y.useCallback(function(A){p(A.type,fT(A),A.target,u(A,n.lockRef.current))},[]),_=Y.useCallback(function(A){p(A.type,u0(A),A.target,u(A,n.lockRef.current))},[]);Y.useEffect(function(){return Md.push(a),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",h,Sd),document.addEventListener("touchmove",h,Sd),document.addEventListener("touchstart",m,Sd),function(){Md=Md.filter(function(A){return A!==a}),document.removeEventListener("wheel",h,Sd),document.removeEventListener("touchmove",h,Sd),document.removeEventListener("touchstart",m,Sd)}},[]);var b=n.removeScrollBar,S=n.inert;return Y.createElement(Y.Fragment,null,S?Y.createElement(a,{styles:j4(r)}):null,b?Y.createElement(P4,{gapMode:n.gapMode}):null)}function Y4(n){for(var t=null;n!==null;)n instanceof ShadowRoot&&(t=n.host,n=n.host),n=n.parentNode;return t}const W4=S4(oC,X4);var SE=Y.forwardRef(function(n,t){return Y.createElement(qx,vl({},n,{ref:t,sideCar:W4}))});SE.classNames=qx.classNames;var Z4=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},Ed=new WeakMap,f0=new WeakMap,h0={},jS=0,hC=function(n){return n&&(n.host||hC(n.parentNode))},K4=function(n,t){return t.map(function(e){if(n.contains(e))return e;var i=hC(e);return i&&n.contains(i)?i:(console.error("aria-hidden",e,"in not contained inside",n,". Doing nothing"),null)}).filter(function(e){return!!e})},Q4=function(n,t,e,i){var r=K4(t,Array.isArray(n)?n:[n]);h0[e]||(h0[e]=new WeakMap);var a=h0[e],l=[],u=new Set,h=new Set(r),p=function(v){!v||u.has(v)||(u.add(v),p(v.parentNode))};r.forEach(p);var m=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(_){if(u.has(_))m(_);else try{var b=_.getAttribute(i),S=b!==null&&b!=="false",A=(Ed.get(_)||0)+1,M=(a.get(_)||0)+1;Ed.set(_,A),a.set(_,M),l.push(_),A===1&&S&&f0.set(_,!0),M===1&&_.setAttribute(e,"true"),S||_.setAttribute(i,"true")}catch(x){console.error("aria-hidden: cannot operate on ",_,x)}})};return m(t),u.clear(),jS++,function(){l.forEach(function(v){var _=Ed.get(v)-1,b=a.get(v)-1;Ed.set(v,_),a.set(v,b),_||(f0.has(v)||v.removeAttribute(i),f0.delete(v)),b||v.removeAttribute(e)}),jS--,jS||(Ed=new WeakMap,Ed=new WeakMap,f0=new WeakMap,h0={})}},dC=function(n,t,e){e===void 0&&(e="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=Z4(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),Q4(i,r,e,"aria-hidden")):function(){return null}},Xx="Dialog",[pC,OQ]=Hu(Xx),[J4,No]=pC(Xx),mC=n=>{const{__scopeDialog:t,children:e,open:i,defaultOpen:r,onOpenChange:a,modal:l=!0}=n,u=Y.useRef(null),h=Y.useRef(null),[p,m]=hv({prop:i,defaultProp:r??!1,onChange:a,caller:Xx});return W.jsx(J4,{scope:t,triggerRef:u,contentRef:h,contentId:Nu(),titleId:Nu(),descriptionId:Nu(),open:p,onOpenChange:m,onOpenToggle:Y.useCallback(()=>m(v=>!v),[m]),modal:l,children:e})};mC.displayName=Xx;var gC="DialogTrigger",$4=Y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=No(gC,e),a=yr(t,r.triggerRef);return W.jsx(gi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":DE(r.open),...i,ref:a,onClick:cn(n.onClick,r.onOpenToggle)})});$4.displayName=gC;var ME="DialogPortal",[tz,vC]=pC(ME,{forceMount:void 0}),yC=n=>{const{__scopeDialog:t,forceMount:e,children:i,container:r}=n,a=No(ME,t);return W.jsx(tz,{scope:t,forceMount:e,children:Y.Children.map(i,l=>W.jsx(Oo,{present:e||a.open,children:W.jsx(jx,{asChild:!0,container:r,children:l})}))})};yC.displayName=ME;var I_="DialogOverlay",_C=Y.forwardRef((n,t)=>{const e=vC(I_,n.__scopeDialog),{forceMount:i=e.forceMount,...r}=n,a=No(I_,n.__scopeDialog);return a.modal?W.jsx(Oo,{present:i||a.open,children:W.jsx(nz,{...r,ref:t})}):null});_C.displayName=I_;var ez=sp("DialogOverlay.RemoveScroll"),nz=Y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=No(I_,e);return W.jsx(SE,{as:ez,allowPinchZoom:!0,shards:[r.contentRef],children:W.jsx(gi.div,{"data-state":DE(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),oh="DialogContent",xC=Y.forwardRef((n,t)=>{const e=vC(oh,n.__scopeDialog),{forceMount:i=e.forceMount,...r}=n,a=No(oh,n.__scopeDialog);return W.jsx(Oo,{present:i||a.open,children:a.modal?W.jsx(iz,{...r,ref:t}):W.jsx(rz,{...r,ref:t})})});xC.displayName=oh;var iz=Y.forwardRef((n,t)=>{const e=No(oh,n.__scopeDialog),i=Y.useRef(null),r=yr(t,e.contentRef,i);return Y.useEffect(()=>{const a=i.current;if(a)return dC(a)},[]),W.jsx(bC,{...n,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cn(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=e.triggerRef.current)==null||l.focus()}),onPointerDownOutside:cn(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:cn(n.onFocusOutside,a=>a.preventDefault())})}),rz=Y.forwardRef((n,t)=>{const e=No(oh,n.__scopeDialog),i=Y.useRef(!1),r=Y.useRef(!1);return W.jsx(bC,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(i.current||(u=e.triggerRef.current)==null||u.focus(),a.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:a=>{var h,p;(h=n.onInteractOutside)==null||h.call(n,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=a.target;((p=e.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),bC=Y.forwardRef((n,t)=>{const{__scopeDialog:e,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:a,...l}=n,u=No(oh,e),h=Y.useRef(null),p=yr(t,h);return rC(),W.jsxs(W.Fragment,{children:[W.jsx(bE,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:a,children:W.jsx(Gx,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":DE(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),W.jsxs(W.Fragment,{children:[W.jsx(sz,{titleId:u.titleId}),W.jsx(oz,{contentRef:h,descriptionId:u.descriptionId})]})]})}),EE="DialogTitle",SC=Y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=No(EE,e);return W.jsx(gi.h2,{id:r.titleId,...i,ref:t})});SC.displayName=EE;var MC="DialogDescription",EC=Y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=No(MC,e);return W.jsx(gi.p,{id:r.descriptionId,...i,ref:t})});EC.displayName=MC;var DC="DialogClose",AC=Y.forwardRef((n,t)=>{const{__scopeDialog:e,...i}=n,r=No(DC,e);return W.jsx(gi.button,{type:"button",...i,ref:t,onClick:cn(n.onClick,()=>r.onOpenChange(!1))})});AC.displayName=DC;function DE(n){return n?"open":"closed"}var TC="DialogTitleWarning",[NQ,wC]=VI(TC,{contentName:oh,titleName:EE,docsSlug:"dialog"}),sz=({titleId:n})=>{const t=wC(TC),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return Y.useEffect(()=>{n&&(document.getElementById(n)||console.error(e))},[e,n]),null},az="DialogDescriptionWarning",oz=({contentRef:n,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wC(az).contentName}}.`;return Y.useEffect(()=>{var a;const r=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(i))},[i,n,t]),null},RC=mC,CC=yC,OC=_C,NC=xC,LC=SC,UC=EC,PC=AC;function lz({...n}){return W.jsx(RC,{"data-slot":"sheet",...n})}function cz({...n}){return W.jsx(CC,{"data-slot":"sheet-portal",...n})}function uz({className:n,...t}){return W.jsx(OC,{"data-slot":"sheet-overlay",className:un("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...t})}function fz({className:n,children:t,side:e="right",...i}){return W.jsxs(cz,{children:[W.jsx(uz,{}),W.jsxs(NC,{"data-slot":"sheet-content",className:un("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",e==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",e==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",e==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",e==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...i,children:[t,W.jsxs(PC,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[W.jsx(k2,{className:"size-4"}),W.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function hz({className:n,...t}){return W.jsx("div",{"data-slot":"sheet-header",className:un("flex flex-col gap-1.5 p-4",n),...t})}function dz({className:n,...t}){return W.jsx(LC,{"data-slot":"sheet-title",className:un("text-foreground font-semibold",n),...t})}function pz({className:n,...t}){return W.jsx(UC,{"data-slot":"sheet-description",className:un("text-muted-foreground text-sm",n),...t})}const mz=["top","right","bottom","left"],Uu=Math.min,pa=Math.max,z_=Math.round,d0=Math.floor,xl=n=>({x:n,y:n}),gz={left:"right",right:"left",bottom:"top",top:"bottom"},vz={start:"end",end:"start"};function DM(n,t,e){return pa(n,Uu(t,e))}function gc(n,t){return typeof n=="function"?n(t):n}function vc(n){return n.split("-")[0]}function Tp(n){return n.split("-")[1]}function AE(n){return n==="x"?"y":"x"}function TE(n){return n==="y"?"height":"width"}function Pu(n){return["top","bottom"].includes(vc(n))?"y":"x"}function wE(n){return AE(Pu(n))}function yz(n,t,e){e===void 0&&(e=!1);const i=Tp(n),r=wE(n),a=TE(r);let l=r==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=B_(l)),[l,B_(l)]}function _z(n){const t=B_(n);return[AM(n),t,AM(t)]}function AM(n){return n.replace(/start|end/g,t=>vz[t])}function xz(n,t,e){const i=["left","right"],r=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return e?t?r:i:t?i:r;case"left":case"right":return t?a:l;default:return[]}}function bz(n,t,e,i){const r=Tp(n);let a=xz(vc(n),e==="start",i);return r&&(a=a.map(l=>l+"-"+r),t&&(a=a.concat(a.map(AM)))),a}function B_(n){return n.replace(/left|right|bottom|top/g,t=>gz[t])}function Sz(n){return{top:0,right:0,bottom:0,left:0,...n}}function IC(n){return typeof n!="number"?Sz(n):{top:n,right:n,bottom:n,left:n}}function H_(n){const{x:t,y:e,width:i,height:r}=n;return{width:i,height:r,top:e,left:t,right:t+i,bottom:e+r,x:t,y:e}}function dT(n,t,e){let{reference:i,floating:r}=n;const a=Pu(t),l=wE(t),u=TE(l),h=vc(t),p=a==="y",m=i.x+i.width/2-r.width/2,v=i.y+i.height/2-r.height/2,_=i[u]/2-r[u]/2;let b;switch(h){case"top":b={x:m,y:i.y-r.height};break;case"bottom":b={x:m,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:v};break;case"left":b={x:i.x-r.width,y:v};break;default:b={x:i.x,y:i.y}}switch(Tp(t)){case"start":b[l]-=_*(e&&p?-1:1);break;case"end":b[l]+=_*(e&&p?-1:1);break}return b}const Mz=async(n,t,e)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:l}=e,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:n,floating:t,strategy:r}),{x:m,y:v}=dT(p,i,h),_=i,b={},S=0;for(let A=0;A<u.length;A++){const{name:M,fn:x}=u[A],{x:T,y:R,data:O,reset:I}=await x({x:m,y:v,initialPlacement:i,placement:_,strategy:r,middlewareData:b,rects:p,platform:l,elements:{reference:n,floating:t}});m=T??m,v=R??v,b={...b,[M]:{...b[M],...O}},I&&S<=50&&(S++,typeof I=="object"&&(I.placement&&(_=I.placement),I.rects&&(p=I.rects===!0?await l.getElementRects({reference:n,floating:t,strategy:r}):I.rects),{x:m,y:v}=dT(p,_,h)),A=-1)}return{x:m,y:v,placement:_,strategy:r,middlewareData:b}};async function Vg(n,t){var e;t===void 0&&(t={});const{x:i,y:r,platform:a,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:_=!1,padding:b=0}=gc(t,n),S=IC(b),M=u[_?v==="floating"?"reference":"floating":v],x=H_(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(M)))==null||e?M:M.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:h})),T=v==="floating"?{x:i,y:r,width:l.floating.width,height:l.floating.height}:l.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),O=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},I=H_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:R,strategy:h}):T);return{top:(x.top-I.top+S.top)/O.y,bottom:(I.bottom-x.bottom+S.bottom)/O.y,left:(x.left-I.left+S.left)/O.x,right:(I.right-x.right+S.right)/O.x}}const Ez=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:r,rects:a,platform:l,elements:u,middlewareData:h}=t,{element:p,padding:m=0}=gc(n,t)||{};if(p==null)return{};const v=IC(m),_={x:e,y:i},b=wE(r),S=TE(b),A=await l.getDimensions(p),M=b==="y",x=M?"top":"left",T=M?"bottom":"right",R=M?"clientHeight":"clientWidth",O=a.reference[S]+a.reference[b]-_[b]-a.floating[S],I=_[b]-a.reference[b],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let B=P?P[R]:0;(!B||!await(l.isElement==null?void 0:l.isElement(P)))&&(B=u.floating[R]||a.floating[S]);const N=O/2-I/2,L=B/2-A[S]/2-1,U=Uu(v[x],L),F=Uu(v[T],L),K=U,tt=B-A[S]-F,nt=B/2-A[S]/2+N,at=DM(K,nt,tt),H=!h.arrow&&Tp(r)!=null&&nt!==at&&a.reference[S]/2-(nt<K?U:F)-A[S]/2<0,k=H?nt<K?nt-K:nt-tt:0;return{[b]:_[b]+k,data:{[b]:at,centerOffset:nt-at-k,...H&&{alignmentOffset:k}},reset:H}}}),Dz=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:r,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:A=!0,...M}=gc(n,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const x=vc(r),T=Pu(u),R=vc(u)===u,O=await(h.isRTL==null?void 0:h.isRTL(p.floating)),I=_||(R||!A?[B_(u)]:_z(u)),P=S!=="none";!_&&P&&I.push(...bz(u,A,S,O));const B=[u,...I],N=await Vg(t,M),L=[];let U=((i=a.flip)==null?void 0:i.overflows)||[];if(m&&L.push(N[x]),v){const nt=yz(r,l,O);L.push(N[nt[0]],N[nt[1]])}if(U=[...U,{placement:r,overflows:L}],!L.every(nt=>nt<=0)){var F,K;const nt=(((F=a.flip)==null?void 0:F.index)||0)+1,at=B[nt];if(at)return{data:{index:nt,overflows:U},reset:{placement:at}};let H=(K=U.filter(k=>k.overflows[0]<=0).sort((k,V)=>k.overflows[1]-V.overflows[1])[0])==null?void 0:K.placement;if(!H)switch(b){case"bestFit":{var tt;const k=(tt=U.filter(V=>{if(P){const Q=Pu(V.placement);return Q===T||Q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Q=>Q>0).reduce((Q,j)=>Q+j,0)]).sort((V,Q)=>V[1]-Q[1])[0])==null?void 0:tt[0];k&&(H=k);break}case"initialPlacement":H=u;break}if(r!==H)return{reset:{placement:H}}}return{}}}};function pT(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function mT(n){return mz.some(t=>n[t]>=0)}const Az=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:i="referenceHidden",...r}=gc(n,t);switch(i){case"referenceHidden":{const a=await Vg(t,{...r,elementContext:"reference"}),l=pT(a,e.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:mT(l)}}}case"escaped":{const a=await Vg(t,{...r,altBoundary:!0}),l=pT(a,e.floating);return{data:{escapedOffsets:l,escaped:mT(l)}}}default:return{}}}}};async function Tz(n,t){const{placement:e,platform:i,elements:r}=n,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),l=vc(e),u=Tp(e),h=Pu(e)==="y",p=["left","top"].includes(l)?-1:1,m=a&&h?-1:1,v=gc(t,n);let{mainAxis:_,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),h?{x:b*m,y:_*p}:{x:_*p,y:b*m}}const wz=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:r,y:a,placement:l,middlewareData:u}=t,h=await Tz(t,n);return l===((e=u.offset)==null?void 0:e.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:r+h.x,y:a+h.y,data:{...h,placement:l}}}}},Rz=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:r}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:M=>{let{x,y:T}=M;return{x,y:T}}},...h}=gc(n,t),p={x:e,y:i},m=await Vg(t,h),v=Pu(vc(r)),_=AE(v);let b=p[_],S=p[v];if(a){const M=_==="y"?"top":"left",x=_==="y"?"bottom":"right",T=b+m[M],R=b-m[x];b=DM(T,b,R)}if(l){const M=v==="y"?"top":"left",x=v==="y"?"bottom":"right",T=S+m[M],R=S-m[x];S=DM(T,S,R)}const A=u.fn({...t,[_]:b,[v]:S});return{...A,data:{x:A.x-e,y:A.y-i,enabled:{[_]:a,[v]:l}}}}}},Cz=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:i,placement:r,rects:a,middlewareData:l}=t,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=gc(n,t),m={x:e,y:i},v=Pu(r),_=AE(v);let b=m[_],S=m[v];const A=gc(u,t),M=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const R=_==="y"?"height":"width",O=a.reference[_]-a.floating[R]+M.mainAxis,I=a.reference[_]+a.reference[R]-M.mainAxis;b<O?b=O:b>I&&(b=I)}if(p){var x,T;const R=_==="y"?"width":"height",O=["top","left"].includes(vc(r)),I=a.reference[v]-a.floating[R]+(O&&((x=l.offset)==null?void 0:x[v])||0)+(O?0:M.crossAxis),P=a.reference[v]+a.reference[R]+(O?0:((T=l.offset)==null?void 0:T[v])||0)-(O?M.crossAxis:0);S<I?S=I:S>P&&(S=P)}return{[_]:b,[v]:S}}}},Oz=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:r,rects:a,platform:l,elements:u}=t,{apply:h=()=>{},...p}=gc(n,t),m=await Vg(t,p),v=vc(r),_=Tp(r),b=Pu(r)==="y",{width:S,height:A}=a.floating;let M,x;v==="top"||v==="bottom"?(M=v,x=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(x=v,M=_==="end"?"top":"bottom");const T=A-m.top-m.bottom,R=S-m.left-m.right,O=Uu(A-m[M],T),I=Uu(S-m[x],R),P=!t.middlewareData.shift;let B=O,N=I;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(N=R),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(B=T),P&&!_){const U=pa(m.left,0),F=pa(m.right,0),K=pa(m.top,0),tt=pa(m.bottom,0);b?N=S-2*(U!==0||F!==0?U+F:pa(m.left,m.right)):B=A-2*(K!==0||tt!==0?K+tt:pa(m.top,m.bottom))}await h({...t,availableWidth:N,availableHeight:B});const L=await l.getDimensions(u.floating);return S!==L.width||A!==L.height?{reset:{rects:!0}}:{}}}};function Yx(){return typeof window<"u"}function wp(n){return zC(n)?(n.nodeName||"").toLowerCase():"#document"}function ma(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Al(n){var t;return(t=(zC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function zC(n){return Yx()?n instanceof Node||n instanceof ma(n).Node:!1}function wo(n){return Yx()?n instanceof Element||n instanceof ma(n).Element:!1}function Ml(n){return Yx()?n instanceof HTMLElement||n instanceof ma(n).HTMLElement:!1}function gT(n){return!Yx()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ma(n).ShadowRoot}function dv(n){const{overflow:t,overflowX:e,overflowY:i,display:r}=Ro(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!["inline","contents"].includes(r)}function Nz(n){return["table","td","th"].includes(wp(n))}function Wx(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function RE(n){const t=CE(),e=wo(n)?Ro(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(e.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(e.contain||"").includes(i))}function Lz(n){let t=Iu(n);for(;Ml(t)&&!ap(t);){if(RE(t))return t;if(Wx(t))return null;t=Iu(t)}return null}function CE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ap(n){return["html","body","#document"].includes(wp(n))}function Ro(n){return ma(n).getComputedStyle(n)}function Zx(n){return wo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Iu(n){if(wp(n)==="html")return n;const t=n.assignedSlot||n.parentNode||gT(n)&&n.host||Al(n);return gT(t)?t.host:t}function BC(n){const t=Iu(n);return ap(t)?n.ownerDocument?n.ownerDocument.body:n.body:Ml(t)&&dv(t)?t:BC(t)}function kg(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=BC(n),a=r===((i=n.ownerDocument)==null?void 0:i.body),l=ma(r);if(a){const u=TM(l);return t.concat(l,l.visualViewport||[],dv(r)?r:[],u&&e?kg(u):[])}return t.concat(r,kg(r,[],e))}function TM(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function HC(n){const t=Ro(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Ml(n),a=r?n.offsetWidth:e,l=r?n.offsetHeight:i,u=z_(e)!==a||z_(i)!==l;return u&&(e=a,i=l),{width:e,height:i,$:u}}function OE(n){return wo(n)?n:n.contextElement}function np(n){const t=OE(n);if(!Ml(t))return xl(1);const e=t.getBoundingClientRect(),{width:i,height:r,$:a}=HC(t);let l=(a?z_(e.width):e.width)/i,u=(a?z_(e.height):e.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Uz=xl(0);function FC(n){const t=ma(n);return!CE()||!t.visualViewport?Uz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pz(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==ma(n)?!1:t}function lh(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=n.getBoundingClientRect(),a=OE(n);let l=xl(1);t&&(i?wo(i)&&(l=np(i)):l=np(n));const u=Pz(a,e,i)?FC(a):xl(0);let h=(r.left+u.x)/l.x,p=(r.top+u.y)/l.y,m=r.width/l.x,v=r.height/l.y;if(a){const _=ma(a),b=i&&wo(i)?ma(i):i;let S=_,A=TM(S);for(;A&&i&&b!==S;){const M=np(A),x=A.getBoundingClientRect(),T=Ro(A),R=x.left+(A.clientLeft+parseFloat(T.paddingLeft))*M.x,O=x.top+(A.clientTop+parseFloat(T.paddingTop))*M.y;h*=M.x,p*=M.y,m*=M.x,v*=M.y,h+=R,p+=O,S=ma(A),A=TM(S)}}return H_({width:m,height:v,x:h,y:p})}function NE(n,t){const e=Zx(n).scrollLeft;return t?t.left+e:lh(Al(n)).left+e}function VC(n,t,e){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),r=i.left+t.scrollLeft-(e?0:NE(n,i)),a=i.top+t.scrollTop;return{x:r,y:a}}function Iz(n){let{elements:t,rect:e,offsetParent:i,strategy:r}=n;const a=r==="fixed",l=Al(i),u=t?Wx(t.floating):!1;if(i===l||u&&a)return e;let h={scrollLeft:0,scrollTop:0},p=xl(1);const m=xl(0),v=Ml(i);if((v||!v&&!a)&&((wp(i)!=="body"||dv(l))&&(h=Zx(i)),Ml(i))){const b=lh(i);p=np(i),m.x=b.x+i.clientLeft,m.y=b.y+i.clientTop}const _=l&&!v&&!a?VC(l,h,!0):xl(0);return{width:e.width*p.x,height:e.height*p.y,x:e.x*p.x-h.scrollLeft*p.x+m.x+_.x,y:e.y*p.y-h.scrollTop*p.y+m.y+_.y}}function zz(n){return Array.from(n.getClientRects())}function Bz(n){const t=Al(n),e=Zx(n),i=n.ownerDocument.body,r=pa(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=pa(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-e.scrollLeft+NE(n);const u=-e.scrollTop;return Ro(i).direction==="rtl"&&(l+=pa(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:l,y:u}}function Hz(n,t){const e=ma(n),i=Al(n),r=e.visualViewport;let a=i.clientWidth,l=i.clientHeight,u=0,h=0;if(r){a=r.width,l=r.height;const p=CE();(!p||p&&t==="fixed")&&(u=r.offsetLeft,h=r.offsetTop)}return{width:a,height:l,x:u,y:h}}function Fz(n,t){const e=lh(n,!0,t==="fixed"),i=e.top+n.clientTop,r=e.left+n.clientLeft,a=Ml(n)?np(n):xl(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,h=r*a.x,p=i*a.y;return{width:l,height:u,x:h,y:p}}function vT(n,t,e){let i;if(t==="viewport")i=Hz(n,e);else if(t==="document")i=Bz(Al(n));else if(wo(t))i=Fz(t,e);else{const r=FC(n);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return H_(i)}function kC(n,t){const e=Iu(n);return e===t||!wo(e)||ap(e)?!1:Ro(e).position==="fixed"||kC(e,t)}function Vz(n,t){const e=t.get(n);if(e)return e;let i=kg(n,[],!1).filter(u=>wo(u)&&wp(u)!=="body"),r=null;const a=Ro(n).position==="fixed";let l=a?Iu(n):n;for(;wo(l)&&!ap(l);){const u=Ro(l),h=RE(l);!h&&u.position==="fixed"&&(r=null),(a?!h&&!r:!h&&u.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||dv(l)&&!h&&kC(n,l))?i=i.filter(m=>m!==l):r=u,l=Iu(l)}return t.set(n,i),i}function kz(n){let{element:t,boundary:e,rootBoundary:i,strategy:r}=n;const l=[...e==="clippingAncestors"?Wx(t)?[]:Vz(t,this._c):[].concat(e),i],u=l[0],h=l.reduce((p,m)=>{const v=vT(t,m,r);return p.top=pa(v.top,p.top),p.right=Uu(v.right,p.right),p.bottom=Uu(v.bottom,p.bottom),p.left=pa(v.left,p.left),p},vT(t,u,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Gz(n){const{width:t,height:e}=HC(n);return{width:t,height:e}}function jz(n,t,e){const i=Ml(t),r=Al(t),a=e==="fixed",l=lh(n,!0,a,t);let u={scrollLeft:0,scrollTop:0};const h=xl(0);if(i||!i&&!a)if((wp(t)!=="body"||dv(r))&&(u=Zx(t)),i){const _=lh(t,!0,a,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else r&&(h.x=NE(r));const p=r&&!i&&!a?VC(r,u):xl(0),m=l.left+u.scrollLeft-h.x-p.x,v=l.top+u.scrollTop-h.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function qS(n){return Ro(n).position==="static"}function yT(n,t){if(!Ml(n)||Ro(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Al(n)===e&&(e=e.ownerDocument.body),e}function GC(n,t){const e=ma(n);if(Wx(n))return e;if(!Ml(n)){let r=Iu(n);for(;r&&!ap(r);){if(wo(r)&&!qS(r))return r;r=Iu(r)}return e}let i=yT(n,t);for(;i&&Nz(i)&&qS(i);)i=yT(i,t);return i&&ap(i)&&qS(i)&&!RE(i)?e:i||Lz(n)||e}const qz=async function(n){const t=this.getOffsetParent||GC,e=this.getDimensions,i=await e(n.floating);return{reference:jz(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Xz(n){return Ro(n).direction==="rtl"}const Yz={convertOffsetParentRelativeRectToViewportRelativeRect:Iz,getDocumentElement:Al,getClippingRect:kz,getOffsetParent:GC,getElementRects:qz,getClientRects:zz,getDimensions:Gz,getScale:np,isElement:wo,isRTL:Xz};function jC(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function Wz(n,t){let e=null,i;const r=Al(n);function a(){var u;clearTimeout(i),(u=e)==null||u.disconnect(),e=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=n.getBoundingClientRect(),{left:m,top:v,width:_,height:b}=p;if(u||t(),!_||!b)return;const S=d0(v),A=d0(r.clientWidth-(m+_)),M=d0(r.clientHeight-(v+b)),x=d0(m),R={rootMargin:-S+"px "+-A+"px "+-M+"px "+-x+"px",threshold:pa(0,Uu(1,h))||1};let O=!0;function I(P){const B=P[0].intersectionRatio;if(B!==h){if(!O)return l();B?l(!1,B):i=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!jC(p,n.getBoundingClientRect())&&l(),O=!1}try{e=new IntersectionObserver(I,{...R,root:r.ownerDocument})}catch{e=new IntersectionObserver(I,R)}e.observe(n)}return l(!0),a}function Zz(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,p=OE(n),m=r||a?[...p?kg(p):[],...kg(t)]:[];m.forEach(x=>{r&&x.addEventListener("scroll",e,{passive:!0}),a&&x.addEventListener("resize",e)});const v=p&&u?Wz(p,e):null;let _=-1,b=null;l&&(b=new ResizeObserver(x=>{let[T]=x;T&&T.target===p&&b&&(b.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var R;(R=b)==null||R.observe(t)})),e()}),p&&!h&&b.observe(p),b.observe(t));let S,A=h?lh(n):null;h&&M();function M(){const x=lh(n);A&&!jC(A,x)&&e(),A=x,S=requestAnimationFrame(M)}return e(),()=>{var x;m.forEach(T=>{r&&T.removeEventListener("scroll",e),a&&T.removeEventListener("resize",e)}),v==null||v(),(x=b)==null||x.disconnect(),b=null,h&&cancelAnimationFrame(S)}}const Kz=wz,Qz=Rz,Jz=Dz,$z=Oz,tB=Az,_T=Ez,eB=Cz,nB=(n,t,e)=>{const i=new Map,r={platform:Yz,...e},a={...r.platform,_c:i};return Mz(n,t,{...r,platform:a})};var S_=typeof document<"u"?Y.useLayoutEffect:Y.useEffect;function F_(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,i,r;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(i=e;i--!==0;)if(!F_(n[i],t[i]))return!1;return!0}if(r=Object.keys(n),e=r.length,e!==Object.keys(t).length)return!1;for(i=e;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=e;i--!==0;){const a=r[i];if(!(a==="_owner"&&n.$$typeof)&&!F_(n[a],t[a]))return!1}return!0}return n!==n&&t!==t}function qC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function xT(n,t){const e=qC(n);return Math.round(t*e)/e}function XS(n){const t=Y.useRef(n);return S_(()=>{t.current=n}),t}function iB(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[m,v]=Y.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[_,b]=Y.useState(i);F_(_,i)||b(i);const[S,A]=Y.useState(null),[M,x]=Y.useState(null),T=Y.useCallback(V=>{V!==P.current&&(P.current=V,A(V))},[]),R=Y.useCallback(V=>{V!==B.current&&(B.current=V,x(V))},[]),O=a||S,I=l||M,P=Y.useRef(null),B=Y.useRef(null),N=Y.useRef(m),L=h!=null,U=XS(h),F=XS(r),K=XS(p),tt=Y.useCallback(()=>{if(!P.current||!B.current)return;const V={placement:t,strategy:e,middleware:_};F.current&&(V.platform=F.current),nB(P.current,B.current,V).then(Q=>{const j={...Q,isPositioned:K.current!==!1};nt.current&&!F_(N.current,j)&&(N.current=j,xE.flushSync(()=>{v(j)}))})},[_,t,e,F,K]);S_(()=>{p===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,v(V=>({...V,isPositioned:!1})))},[p]);const nt=Y.useRef(!1);S_(()=>(nt.current=!0,()=>{nt.current=!1}),[]),S_(()=>{if(O&&(P.current=O),I&&(B.current=I),O&&I){if(U.current)return U.current(O,I,tt);tt()}},[O,I,tt,U,L]);const at=Y.useMemo(()=>({reference:P,floating:B,setReference:T,setFloating:R}),[T,R]),H=Y.useMemo(()=>({reference:O,floating:I}),[O,I]),k=Y.useMemo(()=>{const V={position:e,left:0,top:0};if(!H.floating)return V;const Q=xT(H.floating,m.x),j=xT(H.floating,m.y);return u?{...V,transform:"translate("+Q+"px, "+j+"px)",...qC(H.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:Q,top:j}},[e,u,H.floating,m.x,m.y]);return Y.useMemo(()=>({...m,update:tt,refs:at,elements:H,floatingStyles:k}),[m,tt,at,H,k])}const rB=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:i,padding:r}=typeof n=="function"?n(e):n;return i&&t(i)?i.current!=null?_T({element:i.current,padding:r}).fn(e):{}:i?_T({element:i,padding:r}).fn(e):{}}}},sB=(n,t)=>({...Kz(n),options:[n,t]}),aB=(n,t)=>({...Qz(n),options:[n,t]}),oB=(n,t)=>({...eB(n),options:[n,t]}),lB=(n,t)=>({...Jz(n),options:[n,t]}),cB=(n,t)=>({...$z(n),options:[n,t]}),uB=(n,t)=>({...tB(n),options:[n,t]}),fB=(n,t)=>({...rB(n),options:[n,t]});var hB="Arrow",XC=Y.forwardRef((n,t)=>{const{children:e,width:i=10,height:r=5,...a}=n;return W.jsx(gi.svg,{...a,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:W.jsx("polygon",{points:"0,0 30,0 15,10"})})});XC.displayName=hB;var dB=XC;function pB(n){const[t,e]=Y.useState(void 0);return Lu(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;e({width:l,height:u})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else e(void 0)},[n]),t}var LE="Popper",[YC,Kx]=Hu(LE),[mB,WC]=YC(LE),ZC=n=>{const{__scopePopper:t,children:e}=n,[i,r]=Y.useState(null);return W.jsx(mB,{scope:t,anchor:i,onAnchorChange:r,children:e})};ZC.displayName=LE;var KC="PopperAnchor",QC=Y.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...r}=n,a=WC(KC,e),l=Y.useRef(null),u=yr(t,l);return Y.useEffect(()=>{a.onAnchorChange((i==null?void 0:i.current)||l.current)}),i?null:W.jsx(gi.div,{...r,ref:u})});QC.displayName=KC;var UE="PopperContent",[gB,vB]=YC(UE),JC=Y.forwardRef((n,t)=>{var pt,xt,Ct,Ht,Kt,le;const{__scopePopper:e,side:i="bottom",sideOffset:r=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:S,...A}=n,M=WC(UE,e),[x,T]=Y.useState(null),R=yr(t,ce=>T(ce)),[O,I]=Y.useState(null),P=pB(O),B=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,L=i+(a!=="center"?"-"+a:""),U=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(p)?p:[p],K=F.length>0,tt={padding:U,boundary:F.filter(_B),altBoundary:K},{refs:nt,floatingStyles:at,placement:H,isPositioned:k,middlewareData:V}=iB({strategy:"fixed",placement:L,whileElementsMounted:(...ce)=>Zz(...ce,{animationFrame:b==="always"}),elements:{reference:M.anchor},middleware:[sB({mainAxis:r+N,alignmentAxis:l}),h&&aB({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?oB():void 0,...tt}),h&&lB({...tt}),cB({...tt,apply:({elements:ce,rects:et,availableWidth:Wt,availableHeight:Ut})=>{const{width:Xt,height:It}=et.reference,ue=ce.floating.style;ue.setProperty("--radix-popper-available-width",`${Wt}px`),ue.setProperty("--radix-popper-available-height",`${Ut}px`),ue.setProperty("--radix-popper-anchor-width",`${Xt}px`),ue.setProperty("--radix-popper-anchor-height",`${It}px`)}}),O&&fB({element:O,padding:u}),xB({arrowWidth:B,arrowHeight:N}),_&&uB({strategy:"referenceHidden",...tt})]}),[Q,j]=e3(H),st=mc(S);Lu(()=>{k&&(st==null||st())},[k,st]);const ht=(pt=V.arrow)==null?void 0:pt.x,dt=(xt=V.arrow)==null?void 0:xt.y,$=((Ct=V.arrow)==null?void 0:Ct.centerOffset)!==0,[ft,lt]=Y.useState();return Lu(()=>{x&&lt(window.getComputedStyle(x).zIndex)},[x]),W.jsx("div",{ref:nt.setFloating,"data-radix-popper-content-wrapper":"",style:{...at,transform:k?at.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ft,"--radix-popper-transform-origin":[(Ht=V.transformOrigin)==null?void 0:Ht.x,(Kt=V.transformOrigin)==null?void 0:Kt.y].join(" "),...((le=V.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:W.jsx(gB,{scope:e,placedSide:Q,onArrowChange:I,arrowX:ht,arrowY:dt,shouldHideArrow:$,children:W.jsx(gi.div,{"data-side":Q,"data-align":j,...A,ref:R,style:{...A.style,animation:k?void 0:"none"}})})})});JC.displayName=UE;var $C="PopperArrow",yB={top:"bottom",right:"left",bottom:"top",left:"right"},t3=Y.forwardRef(function(t,e){const{__scopePopper:i,...r}=t,a=vB($C,i),l=yB[a.placedSide];return W.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:W.jsx(dB,{...r,ref:e,style:{...r.style,display:"block"}})})});t3.displayName=$C;function _B(n){return n!==null}var xB=n=>({name:"transformOrigin",options:n,fn(t){var M,x,T;const{placement:e,rects:i,middlewareData:r}=t,l=((M=r.arrow)==null?void 0:M.centerOffset)!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,m]=e3(e),v={start:"0%",center:"50%",end:"100%"}[m],_=(((x=r.arrow)==null?void 0:x.x)??0)+u/2,b=(((T=r.arrow)==null?void 0:T.y)??0)+h/2;let S="",A="";return p==="bottom"?(S=l?v:`${_}px`,A=`${-h}px`):p==="top"?(S=l?v:`${_}px`,A=`${i.floating.height+h}px`):p==="right"?(S=`${-h}px`,A=l?v:`${b}px`):p==="left"&&(S=`${i.floating.width+h}px`,A=l?v:`${b}px`),{data:{x:S,y:A}}}});function e3(n){const[t,e="center"]=n.split("-");return[t,e]}var n3=ZC,i3=QC,r3=JC,s3=t3,bB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SB="VisuallyHidden",a3=Y.forwardRef((n,t)=>W.jsx(gi.span,{...n,ref:t,style:{...bB,...n.style}}));a3.displayName=SB;var MB=a3,[Qx,LQ]=Hu("Tooltip",[Kx]),Jx=Kx(),o3="TooltipProvider",EB=700,wM="tooltip.open",[DB,PE]=Qx(o3),l3=n=>{const{__scopeTooltip:t,delayDuration:e=EB,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:a}=n,l=Y.useRef(!0),u=Y.useRef(!1),h=Y.useRef(0);return Y.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),W.jsx(DB,{scope:t,isOpenDelayedRef:l,delayDuration:e,onOpen:Y.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:Y.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:u,onPointerInTransitChange:Y.useCallback(p=>{u.current=p},[]),disableHoverableContent:r,children:a})};l3.displayName=o3;var Gg="Tooltip",[AB,pv]=Qx(Gg),c3=n=>{const{__scopeTooltip:t,children:e,open:i,defaultOpen:r,onOpenChange:a,disableHoverableContent:l,delayDuration:u}=n,h=PE(Gg,n.__scopeTooltip),p=Jx(t),[m,v]=Y.useState(null),_=Nu(),b=Y.useRef(0),S=l??h.disableHoverableContent,A=u??h.delayDuration,M=Y.useRef(!1),[x,T]=hv({prop:i,defaultProp:r??!1,onChange:B=>{B?(h.onOpen(),document.dispatchEvent(new CustomEvent(wM))):h.onClose(),a==null||a(B)},caller:Gg}),R=Y.useMemo(()=>x?M.current?"delayed-open":"instant-open":"closed",[x]),O=Y.useCallback(()=>{window.clearTimeout(b.current),b.current=0,M.current=!1,T(!0)},[T]),I=Y.useCallback(()=>{window.clearTimeout(b.current),b.current=0,T(!1)},[T]),P=Y.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{M.current=!0,T(!0),b.current=0},A)},[A,T]);return Y.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),W.jsx(n3,{...p,children:W.jsx(AB,{scope:t,contentId:_,open:x,stateAttribute:R,trigger:m,onTriggerChange:v,onTriggerEnter:Y.useCallback(()=>{h.isOpenDelayedRef.current?P():O()},[h.isOpenDelayedRef,P,O]),onTriggerLeave:Y.useCallback(()=>{S?I():(window.clearTimeout(b.current),b.current=0)},[I,S]),onOpen:O,onClose:I,disableHoverableContent:S,children:e})})};c3.displayName=Gg;var RM="TooltipTrigger",u3=Y.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,r=pv(RM,e),a=PE(RM,e),l=Jx(e),u=Y.useRef(null),h=yr(t,u,r.onTriggerChange),p=Y.useRef(!1),m=Y.useRef(!1),v=Y.useCallback(()=>p.current=!1,[]);return Y.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),W.jsx(i3,{asChild:!0,...l,children:W.jsx(gi.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:h,onPointerMove:cn(n.onPointerMove,_=>{_.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:cn(n.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:cn(n.onPointerDown,()=>{r.open&&r.onClose(),p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:cn(n.onFocus,()=>{p.current||r.onOpen()}),onBlur:cn(n.onBlur,r.onClose),onClick:cn(n.onClick,r.onClose)})})});u3.displayName=RM;var IE="TooltipPortal",[TB,wB]=Qx(IE,{forceMount:void 0}),f3=n=>{const{__scopeTooltip:t,forceMount:e,children:i,container:r}=n,a=pv(IE,t);return W.jsx(TB,{scope:t,forceMount:e,children:W.jsx(Oo,{present:e||a.open,children:W.jsx(jx,{asChild:!0,container:r,children:i})})})};f3.displayName=IE;var op="TooltipContent",h3=Y.forwardRef((n,t)=>{const e=wB(op,n.__scopeTooltip),{forceMount:i=e.forceMount,side:r="top",...a}=n,l=pv(op,n.__scopeTooltip);return W.jsx(Oo,{present:i||l.open,children:l.disableHoverableContent?W.jsx(d3,{side:r,...a,ref:t}):W.jsx(RB,{side:r,...a,ref:t})})}),RB=Y.forwardRef((n,t)=>{const e=pv(op,n.__scopeTooltip),i=PE(op,n.__scopeTooltip),r=Y.useRef(null),a=yr(t,r),[l,u]=Y.useState(null),{trigger:h,onClose:p}=e,m=r.current,{onPointerInTransitChange:v}=i,_=Y.useCallback(()=>{u(null),v(!1)},[v]),b=Y.useCallback((S,A)=>{const M=S.currentTarget,x={x:S.clientX,y:S.clientY},T=LB(x,M.getBoundingClientRect()),R=UB(x,T),O=PB(A.getBoundingClientRect()),I=zB([...R,...O]);u(I),v(!0)},[v]);return Y.useEffect(()=>()=>_(),[_]),Y.useEffect(()=>{if(h&&m){const S=M=>b(M,m),A=M=>b(M,h);return h.addEventListener("pointerleave",S),m.addEventListener("pointerleave",A),()=>{h.removeEventListener("pointerleave",S),m.removeEventListener("pointerleave",A)}}},[h,m,b,_]),Y.useEffect(()=>{if(l){const S=A=>{const M=A.target,x={x:A.clientX,y:A.clientY},T=(h==null?void 0:h.contains(M))||(m==null?void 0:m.contains(M)),R=!IB(x,l);T?_():R&&(_(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[h,m,l,p,_]),W.jsx(d3,{...n,ref:a})}),[CB,OB]=Qx(Gg,{isInside:!1}),NB=CP("TooltipContent"),d3=Y.forwardRef((n,t)=>{const{__scopeTooltip:e,children:i,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=n,h=pv(op,e),p=Jx(e),{onClose:m}=h;return Y.useEffect(()=>(document.addEventListener(wM,m),()=>document.removeEventListener(wM,m)),[m]),Y.useEffect(()=>{if(h.trigger){const v=_=>{const b=_.target;b!=null&&b.contains(h.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[h.trigger,m]),W.jsx(Gx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:W.jsxs(r3,{"data-state":h.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[W.jsx(NB,{children:i}),W.jsx(CB,{scope:e,isInside:!0,children:W.jsx(MB,{id:h.contentId,role:"tooltip",children:r||i})})]})})});h3.displayName=op;var p3="TooltipArrow",m3=Y.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,r=Jx(e);return OB(p3,e).isInside?null:W.jsx(s3,{...r,...i,ref:t})});m3.displayName=p3;function LB(n,t){const e=Math.abs(t.top-n.y),i=Math.abs(t.bottom-n.y),r=Math.abs(t.right-n.x),a=Math.abs(t.left-n.x);switch(Math.min(e,i,r,a)){case a:return"left";case r:return"right";case e:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function UB(n,t,e=5){const i=[];switch(t){case"top":i.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":i.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":i.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":i.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return i}function PB(n){const{top:t,right:e,bottom:i,left:r}=n;return[{x:r,y:t},{x:e,y:t},{x:e,y:i},{x:r,y:i}]}function IB(n,t){const{x:e,y:i}=n;let r=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a],h=t[l],p=u.x,m=u.y,v=h.x,_=h.y;m>i!=_>i&&e<(v-p)*(i-m)/(_-m)+p&&(r=!r)}return r}function zB(n){const t=n.slice();return t.sort((e,i)=>e.x<i.x?-1:e.x>i.x?1:e.y<i.y?-1:e.y>i.y?1:0),BB(t)}function BB(n){if(n.length<=1)return n.slice();const t=[];for(let i=0;i<n.length;i++){const r=n[i];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(r.y-l.y)>=(a.y-l.y)*(r.x-l.x))t.pop();else break}t.push(r)}t.pop();const e=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(r.y-l.y)>=(a.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var HB=l3,FB=c3,VB=u3,kB=f3,GB=h3,jB=m3;function g3({delayDuration:n=0,...t}){return W.jsx(HB,{"data-slot":"tooltip-provider",delayDuration:n,...t})}function qB({...n}){return W.jsx(g3,{children:W.jsx(FB,{"data-slot":"tooltip",...n})})}function XB({...n}){return W.jsx(VB,{"data-slot":"tooltip-trigger",...n})}function YB({className:n,sideOffset:t=0,children:e,...i}){return W.jsx(kB,{children:W.jsxs(GB,{"data-slot":"tooltip-content",sideOffset:t,className:un("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...i,children:[e,W.jsx(jB,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const YS=768;function WB(){const[n,t]=Y.useState(void 0);return Y.useEffect(()=>{const e=window.matchMedia(`(max-width: ${YS-1}px)`),i=()=>{t(window.innerWidth<YS)};return e.addEventListener("change",i),t(window.innerWidth<YS),()=>e.removeEventListener("change",i)},[]),!!n}const ZB="sidebar_state",KB=60*60*24*7,QB="20rem",JB="18rem",$B="3rem",t5="b",v3=Y.createContext(null);function zE(){const n=Y.useContext(v3);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function e5({defaultOpen:n=!0,open:t,onOpenChange:e,className:i,style:r,children:a,...l}){const u=WB(),[h,p]=Y.useState(!1),[m,v]=Y.useState(n),_=t??m,b=Y.useCallback(x=>{const T=typeof x=="function"?x(_):x;e?e(T):v(T),document.cookie=`${ZB}=${T}; path=/; max-age=${KB}`},[e,_]),S=Y.useCallback(()=>u?p(x=>!x):b(x=>!x),[u,b,p]);Y.useEffect(()=>{const x=T=>{T.key===t5&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),S())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[S]);const A=_?"expanded":"collapsed",M=Y.useMemo(()=>({state:A,open:_,setOpen:b,isMobile:u,openMobile:h,setOpenMobile:p,toggleSidebar:S}),[A,_,b,u,h,p,S]);return W.jsx(v3.Provider,{value:M,children:W.jsx(g3,{delayDuration:0,children:W.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":QB,"--sidebar-width-icon":$B,...r},className:un("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...l,children:a})})})}function n5({side:n="left",variant:t="sidebar",collapsible:e="offcanvas",className:i,children:r,...a}){const{isMobile:l,state:u,openMobile:h,setOpenMobile:p}=zE();return e==="none"?W.jsx("div",{"data-slot":"sidebar",className:un("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",i),...a,children:r}):l?W.jsx(lz,{open:h,onOpenChange:p,...a,children:W.jsxs(fz,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":JB},side:n,children:[W.jsxs(hz,{className:"sr-only",children:[W.jsx(dz,{children:"Sidebar"}),W.jsx(pz,{children:"Displays the mobile sidebar."})]}),W.jsx("div",{className:"flex h-full w-full flex-col",children:r})]})}):W.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?e:"","data-variant":t,"data-side":n,"data-slot":"sidebar",children:[W.jsx("div",{"data-slot":"sidebar-gap",className:un("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),W.jsx("div",{"data-slot":"sidebar-container",className:un("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...a,children:W.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:r})})]})}function i5({className:n,onClick:t,...e}){const{toggleSidebar:i}=zE();return W.jsxs(tp,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:un("size-7",n),onClick:r=>{t==null||t(r),i()},...e,children:[W.jsx(WP,{}),W.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function r5({className:n,...t}){return W.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:un("flex flex-col gap-2 p-2",n),...t})}function s5({className:n,...t}){return W.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:un("flex flex-col gap-2 p-2",n),...t})}function a5({className:n,...t}){return W.jsx(FI,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:un("bg-sidebar-border mx-2 w-auto",n),...t})}function o5({className:n,...t}){return W.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:un("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...t})}function WS({className:n,...t}){return W.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:un("relative flex w-full min-w-0 flex-col p-2",n),...t})}function bT({className:n,asChild:t=!1,...e}){const i=t?kx:"div";return W.jsx(i,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:un("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...e})}function ST({className:n,...t}){return W.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:un("w-full text-sm",n),...t})}function MT({className:n,...t}){return W.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:un("flex w-full min-w-0 flex-col gap-1",n),...t})}function l5({className:n,...t}){return W.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:un("group/menu-item relative",n),...t})}const c5=F2("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function u5({asChild:n=!1,isActive:t=!1,variant:e="default",size:i="default",tooltip:r,className:a,...l}){const u=n?kx:"button",{isMobile:h,state:p}=zE(),m=W.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":t,className:un(c5({variant:e,size:i}),a),...l});return r?(typeof r=="string"&&(r={children:r}),W.jsxs(qB,{children:[W.jsx(XB,{asChild:!0,children:m}),W.jsx(YB,{side:"right",align:"center",hidden:p!=="collapsed"||h,...r})]})):m}function f5({className:n,asChild:t=!1,showOnHover:e=!1,...i}){const r=t?kx:"button";return W.jsx(r,{"data-slot":"sidebar-menu-action","data-sidebar":"menu-action",className:un("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 md:after:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e&&"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",n),...i})}var M_={exports:{}},h5=M_.exports,ET;function d5(){return ET||(ET=1,function(n,t){(function(e,i){n.exports=i()})(h5,function(){var e=1e3,i=6e4,r=36e5,a="millisecond",l="second",u="minute",h="hour",p="day",m="week",v="month",_="quarter",b="year",S="date",A="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(nt){var at=["th","st","nd","rd"],H=nt%100;return"["+nt+(at[(H-20)%10]||at[H]||at[0])+"]"}},R=function(nt,at,H){var k=String(nt);return!k||k.length>=at?nt:""+Array(at+1-k.length).join(H)+nt},O={s:R,z:function(nt){var at=-nt.utcOffset(),H=Math.abs(at),k=Math.floor(H/60),V=H%60;return(at<=0?"+":"-")+R(k,2,"0")+":"+R(V,2,"0")},m:function nt(at,H){if(at.date()<H.date())return-nt(H,at);var k=12*(H.year()-at.year())+(H.month()-at.month()),V=at.clone().add(k,v),Q=H-V<0,j=at.clone().add(k+(Q?-1:1),v);return+(-(k+(H-V)/(Q?V-j:j-V))||0)},a:function(nt){return nt<0?Math.ceil(nt)||0:Math.floor(nt)},p:function(nt){return{M:v,y:b,w:m,d:p,D:S,h,m:u,s:l,ms:a,Q:_}[nt]||String(nt||"").toLowerCase().replace(/s$/,"")},u:function(nt){return nt===void 0}},I="en",P={};P[I]=T;var B="$isDayjsObject",N=function(nt){return nt instanceof K||!(!nt||!nt[B])},L=function nt(at,H,k){var V;if(!at)return I;if(typeof at=="string"){var Q=at.toLowerCase();P[Q]&&(V=Q),H&&(P[Q]=H,V=Q);var j=at.split("-");if(!V&&j.length>1)return nt(j[0])}else{var st=at.name;P[st]=at,V=st}return!k&&V&&(I=V),V||!k&&I},U=function(nt,at){if(N(nt))return nt.clone();var H=typeof at=="object"?at:{};return H.date=nt,H.args=arguments,new K(H)},F=O;F.l=L,F.i=N,F.w=function(nt,at){return U(nt,{locale:at.$L,utc:at.$u,x:at.$x,$offset:at.$offset})};var K=function(){function nt(H){this.$L=L(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[B]=!0}var at=nt.prototype;return at.parse=function(H){this.$d=function(k){var V=k.date,Q=k.utc;if(V===null)return new Date(NaN);if(F.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var j=V.match(M);if(j){var st=j[2]-1||0,ht=(j[7]||"0").substring(0,3);return Q?new Date(Date.UTC(j[1],st,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ht)):new Date(j[1],st,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ht)}}return new Date(V)}(H),this.init()},at.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},at.$utils=function(){return F},at.isValid=function(){return this.$d.toString()!==A},at.isSame=function(H,k){var V=U(H);return this.startOf(k)<=V&&V<=this.endOf(k)},at.isAfter=function(H,k){return U(H)<this.startOf(k)},at.isBefore=function(H,k){return this.endOf(k)<U(H)},at.$g=function(H,k,V){return F.u(H)?this[k]:this.set(V,H)},at.unix=function(){return Math.floor(this.valueOf()/1e3)},at.valueOf=function(){return this.$d.getTime()},at.startOf=function(H,k){var V=this,Q=!!F.u(k)||k,j=F.p(H),st=function(Ct,Ht){var Kt=F.w(V.$u?Date.UTC(V.$y,Ht,Ct):new Date(V.$y,Ht,Ct),V);return Q?Kt:Kt.endOf(p)},ht=function(Ct,Ht){return F.w(V.toDate()[Ct].apply(V.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(Ht)),V)},dt=this.$W,$=this.$M,ft=this.$D,lt="set"+(this.$u?"UTC":"");switch(j){case b:return Q?st(1,0):st(31,11);case v:return Q?st(1,$):st(0,$+1);case m:var pt=this.$locale().weekStart||0,xt=(dt<pt?dt+7:dt)-pt;return st(Q?ft-xt:ft+(6-xt),$);case p:case S:return ht(lt+"Hours",0);case h:return ht(lt+"Minutes",1);case u:return ht(lt+"Seconds",2);case l:return ht(lt+"Milliseconds",3);default:return this.clone()}},at.endOf=function(H){return this.startOf(H,!1)},at.$set=function(H,k){var V,Q=F.p(H),j="set"+(this.$u?"UTC":""),st=(V={},V[p]=j+"Date",V[S]=j+"Date",V[v]=j+"Month",V[b]=j+"FullYear",V[h]=j+"Hours",V[u]=j+"Minutes",V[l]=j+"Seconds",V[a]=j+"Milliseconds",V)[Q],ht=Q===p?this.$D+(k-this.$W):k;if(Q===v||Q===b){var dt=this.clone().set(S,1);dt.$d[st](ht),dt.init(),this.$d=dt.set(S,Math.min(this.$D,dt.daysInMonth())).$d}else st&&this.$d[st](ht);return this.init(),this},at.set=function(H,k){return this.clone().$set(H,k)},at.get=function(H){return this[F.p(H)]()},at.add=function(H,k){var V,Q=this;H=Number(H);var j=F.p(k),st=function($){var ft=U(Q);return F.w(ft.date(ft.date()+Math.round($*H)),Q)};if(j===v)return this.set(v,this.$M+H);if(j===b)return this.set(b,this.$y+H);if(j===p)return st(1);if(j===m)return st(7);var ht=(V={},V[u]=i,V[h]=r,V[l]=e,V)[j]||1,dt=this.$d.getTime()+H*ht;return F.w(dt,this)},at.subtract=function(H,k){return this.add(-1*H,k)},at.format=function(H){var k=this,V=this.$locale();if(!this.isValid())return V.invalidDate||A;var Q=H||"YYYY-MM-DDTHH:mm:ssZ",j=F.z(this),st=this.$H,ht=this.$m,dt=this.$M,$=V.weekdays,ft=V.months,lt=V.meridiem,pt=function(Ht,Kt,le,ce){return Ht&&(Ht[Kt]||Ht(k,Q))||le[Kt].slice(0,ce)},xt=function(Ht){return F.s(st%12||12,Ht,"0")},Ct=lt||function(Ht,Kt,le){var ce=Ht<12?"AM":"PM";return le?ce.toLowerCase():ce};return Q.replace(x,function(Ht,Kt){return Kt||function(le){switch(le){case"YY":return String(k.$y).slice(-2);case"YYYY":return F.s(k.$y,4,"0");case"M":return dt+1;case"MM":return F.s(dt+1,2,"0");case"MMM":return pt(V.monthsShort,dt,ft,3);case"MMMM":return pt(ft,dt);case"D":return k.$D;case"DD":return F.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return pt(V.weekdaysMin,k.$W,$,2);case"ddd":return pt(V.weekdaysShort,k.$W,$,3);case"dddd":return $[k.$W];case"H":return String(st);case"HH":return F.s(st,2,"0");case"h":return xt(1);case"hh":return xt(2);case"a":return Ct(st,ht,!0);case"A":return Ct(st,ht,!1);case"m":return String(ht);case"mm":return F.s(ht,2,"0");case"s":return String(k.$s);case"ss":return F.s(k.$s,2,"0");case"SSS":return F.s(k.$ms,3,"0");case"Z":return j}return null}(Ht)||j.replace(":","")})},at.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},at.diff=function(H,k,V){var Q,j=this,st=F.p(k),ht=U(H),dt=(ht.utcOffset()-this.utcOffset())*i,$=this-ht,ft=function(){return F.m(j,ht)};switch(st){case b:Q=ft()/12;break;case v:Q=ft();break;case _:Q=ft()/3;break;case m:Q=($-dt)/6048e5;break;case p:Q=($-dt)/864e5;break;case h:Q=$/r;break;case u:Q=$/i;break;case l:Q=$/e;break;default:Q=$}return V?Q:F.a(Q)},at.daysInMonth=function(){return this.endOf(v).$D},at.$locale=function(){return P[this.$L]},at.locale=function(H,k){if(!H)return this.$L;var V=this.clone(),Q=L(H,k,!0);return Q&&(V.$L=Q),V},at.clone=function(){return F.w(this.$d,this)},at.toDate=function(){return new Date(this.valueOf())},at.toJSON=function(){return this.isValid()?this.toISOString():null},at.toISOString=function(){return this.$d.toISOString()},at.toString=function(){return this.$d.toUTCString()},nt}(),tt=K.prototype;return U.prototype=tt,[["$ms",a],["$s",l],["$m",u],["$H",h],["$W",p],["$M",v],["$y",b],["$D",S]].forEach(function(nt){tt[nt[1]]=function(at){return this.$g(at,nt[0],nt[1])}}),U.extend=function(nt,at){return nt.$i||(nt(at,K,U),nt.$i=!0),U},U.locale=L,U.isDayjs=N,U.unix=function(nt){return U(1e3*nt)},U.en=P[I],U.Ls=P,U.p={},U})}(M_)),M_.exports}var p5=d5();const BE=bc(p5);var E_={exports:{}},m5=E_.exports,DT;function g5(){return DT||(DT=1,function(n,t){(function(e,i){n.exports=i()})(m5,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,a=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,h={},p=function(M){return(M=+M)+(M>68?1900:2e3)},m=function(M){return function(x){this[M]=+x}},v=[/[+-]\d\d:?(\d\d)?|Z/,function(M){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var T=x.match(/([+-]|\d\d)/g),R=60*T[1]+(+T[2]||0);return R===0?0:T[0]==="+"?-R:R}(M)}],_=function(M){var x=h[M];return x&&(x.indexOf?x:x.s.concat(x.f))},b=function(M,x){var T,R=h.meridiem;if(R){for(var O=1;O<=24;O+=1)if(M.indexOf(R(O,0,x))>-1){T=O>12;break}}else T=M===(x?"pm":"PM");return T},S={A:[u,function(M){this.afternoon=b(M,!1)}],a:[u,function(M){this.afternoon=b(M,!0)}],Q:[r,function(M){this.month=3*(M-1)+1}],S:[r,function(M){this.milliseconds=100*+M}],SS:[a,function(M){this.milliseconds=10*+M}],SSS:[/\d{3}/,function(M){this.milliseconds=+M}],s:[l,m("seconds")],ss:[l,m("seconds")],m:[l,m("minutes")],mm:[l,m("minutes")],H:[l,m("hours")],h:[l,m("hours")],HH:[l,m("hours")],hh:[l,m("hours")],D:[l,m("day")],DD:[a,m("day")],Do:[u,function(M){var x=h.ordinal,T=M.match(/\d+/);if(this.day=T[0],x)for(var R=1;R<=31;R+=1)x(R).replace(/\[|\]/g,"")===M&&(this.day=R)}],w:[l,m("week")],ww:[a,m("week")],M:[l,m("month")],MM:[a,m("month")],MMM:[u,function(M){var x=_("months"),T=(_("monthsShort")||x.map(function(R){return R.slice(0,3)})).indexOf(M)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[u,function(M){var x=_("months").indexOf(M)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,m("year")],YY:[a,function(M){this.year=p(M)}],YYYY:[/\d{4}/,m("year")],Z:v,ZZ:v};function A(M){var x,T;x=M,T=h&&h.formats;for(var R=(M=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(U,F,K){var tt=K&&K.toUpperCase();return F||T[K]||e[K]||T[tt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(nt,at,H){return at||H.slice(1)})})).match(i),O=R.length,I=0;I<O;I+=1){var P=R[I],B=S[P],N=B&&B[0],L=B&&B[1];R[I]=L?{regex:N,parser:L}:P.replace(/^\[|\]$/g,"")}return function(U){for(var F={},K=0,tt=0;K<O;K+=1){var nt=R[K];if(typeof nt=="string")tt+=nt.length;else{var at=nt.regex,H=nt.parser,k=U.slice(tt),V=at.exec(k)[0];H.call(F,V),U=U.replace(V,"")}}return function(Q){var j=Q.afternoon;if(j!==void 0){var st=Q.hours;j?st<12&&(Q.hours+=12):st===12&&(Q.hours=0),delete Q.afternoon}}(F),F}}return function(M,x,T){T.p.customParseFormat=!0,M&&M.parseTwoDigitYear&&(p=M.parseTwoDigitYear);var R=x.prototype,O=R.parse;R.parse=function(I){var P=I.date,B=I.utc,N=I.args;this.$u=B;var L=N[1];if(typeof L=="string"){var U=N[2]===!0,F=N[3]===!0,K=U||F,tt=N[2];F&&(tt=N[2]),h=this.$locale(),!U&&tt&&(h=T.Ls[tt]),this.$d=function(k,V,Q,j){try{if(["x","X"].indexOf(V)>-1)return new Date((V==="X"?1e3:1)*k);var st=A(V)(k),ht=st.year,dt=st.month,$=st.day,ft=st.hours,lt=st.minutes,pt=st.seconds,xt=st.milliseconds,Ct=st.zone,Ht=st.week,Kt=new Date,le=$||(ht||dt?1:Kt.getDate()),ce=ht||Kt.getFullYear(),et=0;ht&&!dt||(et=dt>0?dt-1:Kt.getMonth());var Wt,Ut=ft||0,Xt=lt||0,It=pt||0,ue=xt||0;return Ct?new Date(Date.UTC(ce,et,le,Ut,Xt,It,ue+60*Ct.offset*1e3)):Q?new Date(Date.UTC(ce,et,le,Ut,Xt,It,ue)):(Wt=new Date(ce,et,le,Ut,Xt,It,ue),Ht&&(Wt=j(Wt).week(Ht).toDate()),Wt)}catch{return new Date("")}}(P,L,B,T),this.init(),tt&&tt!==!0&&(this.$L=this.locale(tt).$L),K&&P!=this.format(L)&&(this.$d=new Date("")),h={}}else if(L instanceof Array)for(var nt=L.length,at=1;at<=nt;at+=1){N[1]=L[at-1];var H=T.apply(this,N);if(H.isValid()){this.$d=H.$d,this.$L=H.$L,this.init();break}at===nt&&(this.$d=new Date(""))}else O.call(this,I)}}})}(E_)),E_.exports}var v5=g5();const y5=bc(v5);BE.extend(y5);const _5=n=>BE(n,"DD.MM.YYYY HH:mm:ss").toDate(),gl=n=>BE(n).format("DD.MM.YYYY"),D_=n=>new Date(n),A_=n=>n.toISOString(),y3=JSON.parse(`[{"mcc":"0742","group":{"type":"AS","description":"Сільськогосподарські послуги"},"shortDescription":"Ветеринарні послуги","fullDescription":"Ветеринарні послуги"},{"mcc":"0743","group":{"type":"AS","description":"Сільськогосподарські послуги"},"shortDescription":"Виноробники","fullDescription":"Виноробники"},{"mcc":"0744","group":{"type":"AS","description":"Сільськогосподарські послуги"},"shortDescription":"Виробники шампанського","fullDescription":"Виробники шампанського"},{"mcc":"0763","group":{"type":"AS","description":"Сільськогосподарські послуги"},"shortDescription":"Сільскогосподарські кооперативи","fullDescription":"Сільскогосподарські кооперативи"},{"mcc":"0780","group":{"type":"AS","description":"Сільськогосподарські послуги"},"shortDescription":"Садівництво. Ландшафтний дизайн","fullDescription":"Послуги садівництва та ландшафтного дизайну"},{"mcc":"1520","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Будівництво. Підрядники","fullDescription":"Генеральні підрядники - житлове та комерційне будівництво"},{"mcc":"1711","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Кондиціонери. Встановлення","fullDescription":"Генеральні підрядники з вентиляції, теплопостачання та водопроводу"},{"mcc":"1731","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Електрики","fullDescription":"Підрядники по електриці"},{"mcc":"1740","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Будівники. Облицювання","fullDescription":"Ізоляція, мозаїка, штукатурні роботи, кам'яна кладка, облицювання плиткою, кахлем"},{"mcc":"1750","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Столярні роботи","fullDescription":"Столярні роботи"},{"mcc":"1761","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Будівники. Облицювання","fullDescription":"Покрівельні і сайдингові роботи, обробка листового металу"},{"mcc":"1771","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Будівництво. Бетон","fullDescription":"Підрядчики бетонних робіт"},{"mcc":"1799","group":{"type":"CS","description":"Послуги за контрактом"},"shortDescription":"Спеціалізовані підрядники","fullDescription":"Спеціалізовані підрядники"},{"mcc":"2741","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Друкарська справа","fullDescription":"Різні видавництва / друкарська справа"},{"mcc":"2744","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Друкарська справа","fullDescription":"Різні видавництва / друкарська справа"},{"mcc":"2791","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Набір текстів та друк","fullDescription":"Набір текстів, виготовлення друкованих форм та пов'язані послуги"},{"mcc":"2842","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Спеціалізоване прибирання","fullDescription":"Санітарна обробка, полірування і спеціалізована підготовка"},{"mcc":"3000","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Сполучені авіалінії (США)"},{"mcc":"3001","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Американські авіалінії (США)"},{"mcc":"3002","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Панамериканські світові авіалінії (США)"},{"mcc":"3003","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Eurofly"},{"mcc":"3004","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Драгон Ейрлайнз"},{"mcc":"3005","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"British Airways"},{"mcc":"3006","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Японські авіалінії"},{"mcc":"3007","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ер Франс"},{"mcc":"3008","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Люфтганза"},{"mcc":"3009","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Канада"},{"mcc":"3010","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"KLM (Королівські Голландські Авіалінії)"},{"mcc":"3011","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аерофлот - Російські авіалінії"},{"mcc":"3012","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Квантас"},{"mcc":"3013","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аліталія"},{"mcc":"3014","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії Саудівської Аравії"},{"mcc":"3015","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Швейцарські Міжнародні авіалінії"},{"mcc":"3016","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Скандинавська система авіаліній"},{"mcc":"3017","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Південноафриканські авіалінії"},{"mcc":"3018","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Varig (Бразилія)"},{"mcc":"3019","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії, авіакомпанії"},{"mcc":"3020","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Індія"},{"mcc":"3021","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Алжир"},{"mcc":"3022","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Філіппінські авіалінії"},{"mcc":"3023","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Мексиканська Авіація"},{"mcc":"3024","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Пакистанські міжнародні авіалінії"},{"mcc":"3025","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Air New Zealand Limited International"},{"mcc":"3026","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Еміратські авіалінії"},{"mcc":"3027","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Союз повітряного транспорту"},{"mcc":"3028","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Мальта"},{"mcc":"3029","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"SN Брюссельські авіалінії"},{"mcc":"3030","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аргентинські авіалінії"},{"mcc":"3031","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Олімпійські авіалінії"},{"mcc":"3032","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ель Аль"},{"mcc":"3033","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ansett Airlines"},{"mcc":"3034","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Etihad Airways"},{"mcc":"3035","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Tap (Португалія)"},{"mcc":"3036","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"VASP (Бразилія)"},{"mcc":"3037","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"EgyptAir"},{"mcc":"3038","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Kuwait Airways"},{"mcc":"3039","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Avianca"},{"mcc":"3040","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Gulf Air (Бахрейн)"},{"mcc":"3041","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Балкано-Болгарські авіалінії"},{"mcc":"3042","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Finnair"},{"mcc":"3043","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Aer Lingus (Ірландія)"},{"mcc":"3044","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Ланка"},{"mcc":"3045","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Нігерійські авіалінії"},{"mcc":"3046","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Cruzeiro do Sul (Brazil)"},{"mcc":"3047","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Турецькі авіалінії"},{"mcc":"3048","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Royal Air Maroc"},{"mcc":"3049","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Туніс Ейр"},{"mcc":"3050","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Icelandair"},{"mcc":"3051","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Австрійські авіалінії"},{"mcc":"3052","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії LATAM Chile Airlines"},{"mcc":"3053","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"AVIACO (Іспанія)"},{"mcc":"3054","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"LADECO (Чилі)"},{"mcc":"3055","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"LAB (Болівія)"},{"mcc":"3056","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Реактивні авіалінії (Індія)"},{"mcc":"3057","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Virgin America"},{"mcc":"3058","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Дельта Ейрлайнз"},{"mcc":"3059","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"DBA Ейрлайнз"},{"mcc":"3060","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Північно-Західні авіалінії (США)"},{"mcc":"3061","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Континентальні авіалінії"},{"mcc":"3062","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Hapag-Lloyd Express"},{"mcc":"3063","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"U.S. Airways"},{"mcc":"3064","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Adria Airways"},{"mcc":"3065","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Інтер"},{"mcc":"3066","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Південно-західні авіалінії (США)"},{"mcc":"3067","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Vanguard Airlines (США)"},{"mcc":"3068","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Астана"},{"mcc":"3069","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Сан Кантрі Ейрлайнз"},{"mcc":"3070","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Pacific Southwest Airlines"},{"mcc":"3071","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Брітіш Колумбія (Канада)"},{"mcc":"3072","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Себу Пасіфік (Філіппіни)"},{"mcc":"3073","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Каліфорнія"},{"mcc":"3074","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3075","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Сінгапурські авіалінії"},{"mcc":"3076","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Aeromexico"},{"mcc":"3077","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Тайські міжнародні авіалінії"},{"mcc":"3078","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Китайські авіалінії"},{"mcc":"3079","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Jetstar Airways (Австралія)"},{"mcc":"3080","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3081","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Nordair (Канада)"},{"mcc":"3082","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Корейські авіалінії"},{"mcc":"3083","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Африка"},{"mcc":"3084","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Eva Airways (Тайвань)"},{"mcc":"3085","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Мідвест Експрес Ейрлайнз"},{"mcc":"3086","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Carnival Airlines (США)"},{"mcc":"3087","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Метро Ейрлайнз"},{"mcc":"3088","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Хорватія Ейр"},{"mcc":"3089","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Трансаеро (Росія)"},{"mcc":"3090","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Uni Airways (Тайвань)"},{"mcc":"3091","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3092","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Мідвей Ейрлайнз (США)"},{"mcc":"3093","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3094","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Замбійські авіалінії"},{"mcc":"3095","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3096","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Зімбабве"},{"mcc":"3097","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Spanair"},{"mcc":"3098","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Азіана Ейрлайнз"},{"mcc":"3099","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Cathay Pacific (Гонконг)"},{"mcc":"3100","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Система малайзійських авіаліній"},{"mcc":"3101","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3102","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Іберія (Іспанія)"},{"mcc":"3103","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Garuda (Індонезія)"},{"mcc":"3104","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3105","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3106","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Braathens S.A.F.E. (Норвегія)"},{"mcc":"3107","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3108","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3109","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3110","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3111","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"British Midland Airways"},{"mcc":"3112","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Навітряний острів"},{"mcc":"3113","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3114","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3115","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3116","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3117","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Венесуельська міжнародна авіація"},{"mcc":"3118","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Міжнародний аеропорт Валлі"},{"mcc":"3119","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3120","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3121","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3122","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3123","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3124","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3125","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Tan Airlines"},{"mcc":"3126","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Talair (Папуа-Нова Гвінея)"},{"mcc":"3127","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"TACA International"},{"mcc":"3128","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3129","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Суринам Ейрвейс"},{"mcc":"3130","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Sunworld International Airways"},{"mcc":"3131","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"VLM Airlines (Бельгія)"},{"mcc":"3132","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Фронтир Ейрлайнз"},{"mcc":"3133","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Санбелт Ейрлайнз"},{"mcc":"3134","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3135","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Суданські авіалінії"},{"mcc":"3136","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії Катару"},{"mcc":"3137","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Singleton"},{"mcc":"3138","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Сіммонс Ейрлайнз (США)"},{"mcc":"3139","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3140","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3141","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3142","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3143","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Мальовничі авіалінії (США)"},{"mcc":"3144","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Virgin Atlantic (США)"},{"mcc":"3145","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії Сан-Хуана"},{"mcc":"3146","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Luxair (Люксембург)"},{"mcc":"3147","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3148","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Літораль (Франція)"},{"mcc":"3149","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3150","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3151","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Заїр"},{"mcc":"3152","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3153","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3154","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Принсвілл"},{"mcc":"3155","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3156","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінія GO FLY"},{"mcc":"3157","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3158","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3159","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Провінстаун-Бостон Ейрвейс"},{"mcc":"3160","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3161","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"All Nippon Airways (Японія)"},{"mcc":"3162","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3163","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3164","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Norontair (Канада)"},{"mcc":"3165","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3166","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3167","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аеро Континент (Перу)"},{"mcc":"3168","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3169","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3170","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Гора Кука"},{"mcc":"3171","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Канадські авіалінії"},{"mcc":"3172","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Національні авіалінії (США)"},{"mcc":"3173","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3174","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"JetBlue Airways (США)"},{"mcc":"3175","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Мідл Іст Ейр (Ліван)"},{"mcc":"3176","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Metroflight airlines (США)"},{"mcc":"3177","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"AirTran Airways (США)"},{"mcc":"3178","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Меса Ейр (США)"},{"mcc":"3179","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3180","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії Westjet (Канада)"},{"mcc":"3181","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Малєв Угорські Авіалінії"},{"mcc":"3182","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Польські авіалінії LOT"},{"mcc":"3183","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіаційні служби Оману"},{"mcc":"3184","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"LIAT (Антигуа и Барбуда)"},{"mcc":"3185","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"LAV (Венесуела)"},{"mcc":"3186","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"LAP (Парагвай)"},{"mcc":"3187","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Avianca Costa Rica"},{"mcc":"3188","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Virgin Express (Бельгія)"},{"mcc":"3189","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3190","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Югослав Ейр (Сербія)"},{"mcc":"3191","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Острівні авіалінії (США)"},{"mcc":"3192","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Іран Ейр"},{"mcc":"3193","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Індійські авіалінії"},{"mcc":"3194","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3195","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3196","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Гавайські авіалінії"},{"mcc":"3197","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії Лейк-Гавасу-Сіті"},{"mcc":"3198","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3199","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Військові авіаційні служби"},{"mcc":"3200","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Гайанські авіалінії"},{"mcc":"3201","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3202","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3203","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Голден Пасифік Ейрлайнз (США)"},{"mcc":"3204","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Експрес \\"Вільні авіалінії\\" (Кенія)"},{"mcc":"3205","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3206","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Китайські східні авіалінії"},{"mcc":"3207","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3208","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3209","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3210","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3211","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Норвезький повітряний шаттл"},{"mcc":"3212","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Домініканська авіація"},{"mcc":"3213","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Braathens Regional Airlines (Швеція)"},{"mcc":"3214","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3215","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Дан-Ейр (Великобританія)"},{"mcc":"3216","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Великий регіональний аеропорт Камберленда"},{"mcc":"3217","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"CSA Чехословацькі авіалінії"},{"mcc":"3218","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Crown Airways (США)"},{"mcc":"3219","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Панамська авіаційна компанія"},{"mcc":"3220","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Компанія Faucett (Перу)"},{"mcc":"3221","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Еквадорський військовий повітряний транспорт"},{"mcc":"3222","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Command Airways (США)"},{"mcc":"3223","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Comair (Південна Африка)"},{"mcc":"3224","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3225","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3226","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Skyways Express (Швеція)"},{"mcc":"3227","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3228","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Кайман Ейрвейз"},{"mcc":"3229","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Еквадорське товариство повітряного транспорту"},{"mcc":"3230","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3231","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аеросервіс Гондурасу"},{"mcc":"3232","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3233","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Капітол Ейр"},{"mcc":"3234","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Карибські авіалінії / Вест-Індські авіалінії"},{"mcc":"3235","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Броквей Ейр"},{"mcc":"3236","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Арабія Ейрлайнз (Об'єднані Арабські Емірати)"},{"mcc":"3237","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3238","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Беміджі Ейрлайнз (США)"},{"mcc":"3239","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Бар-Харбор Ейрлайнз (США)"},{"mcc":"3240","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Bahamasair (Багамські острови)"},{"mcc":"3241","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіанка (Гватемала)"},{"mcc":"3242","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авенса (Венесуела)"},{"mcc":"3243","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Австрійські авіалінії"},{"mcc":"3244","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3245","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"EasyJet (Великобританія)"},{"mcc":"3246","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ryanair"},{"mcc":"3247","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Гол Ейрлайнз (Бразилія)"},{"mcc":"3248","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Тем Ейрлайнз (Бразилія)"},{"mcc":"3249","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3250","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3251","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Алоха Ейрлайнз (США)"},{"mcc":"3252","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"ALM Антильські авіалінії"},{"mcc":"3253","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Західноамериканські авіалінії"},{"mcc":"3254","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії Трампа"},{"mcc":"3255","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3256","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії Аляски"},{"mcc":"3257","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3258","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3259","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Американ Транс Ейр"},{"mcc":"3260","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Спіріт Ейрлайнз (США)"},{"mcc":"3261","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Чайна"},{"mcc":"3262","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Reno Air, Inc. / Американські авіалінії"},{"mcc":"3263","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Aserca Airlines / Aero Servicio Carabobo (Венесуела)"},{"mcc":"3264","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3265","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3266","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Сейшели"},{"mcc":"3267","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Панама Інтернешнл"},{"mcc":"3268","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3269","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3270","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3271","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3272","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3273","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3274","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3275","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3276","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3277","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3278","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3279","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3280","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Ямайка"},{"mcc":"3281","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Джибуті"},{"mcc":"3282","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Джибуті"},{"mcc":"3283","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3284","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аеро Вірґінські Острови"},{"mcc":"3285","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аеро Перу"},{"mcc":"3286","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Аеро Нікарагуенс"},{"mcc":"3287","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Aero Coach Aviation"},{"mcc":"3288","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3289","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3290","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії"},{"mcc":"3291","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"\\"Аріана\\" Афганські авіалінії"},{"mcc":"3292","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Кіпрські авіалінії"},{"mcc":"3293","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Еквадорська авіація"},{"mcc":"3294","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ефіопські авіалінії"},{"mcc":"3295","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Кенія Ейрвейз"},{"mcc":"3296","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Берлін"},{"mcc":"3297","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"TAROM / Повітряний транспорт Румунії"},{"mcc":"3298","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Ейр Маврикій"},{"mcc":"3299","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Wideroes Flyveselskap (Норвеґія)"},{"mcc":"3300","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Азул Ейрлайнз (Бразилія)"},{"mcc":"3301","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Візз Ейр (Угорщина)"},{"mcc":"3302","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Флайбі Ейр (Великобританія)"},{"mcc":"3351","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Афілійований прокат автомобілів"},{"mcc":"3352","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"American Intl\\""},{"mcc":"3353","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Брукс Прокат автомобілів"},{"mcc":"3354","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Екшн Автопрокат"},{"mcc":"3355","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3356","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3357","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Прокат автомобілів, компанія \\"Hertz\\""},{"mcc":"3358","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3359","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Прокат автомобілів, компанія \\"Payless Car\\""},{"mcc":"3360","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Прокат автомобілів, компанія \\"Snappy\\""},{"mcc":"3361","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів в аеропортах"},{"mcc":"3362","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Altra\\""},{"mcc":"3363","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3364","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентство \\"Rent-a-car\\""},{"mcc":"3365","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3366","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Бюджет\\""},{"mcc":"3367","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3368","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Rent-a-wreck\\" (для свят)"},{"mcc":"3369","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3370","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Компанія \\"Rent-a-wreck\\""},{"mcc":"3371","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3372","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3373","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3374","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3375","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3376","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Ajax\\""},{"mcc":"3377","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3378","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3379","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3380","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3381","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Europ Car\\""},{"mcc":"3382","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3383","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3384","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3385","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Tropical Rent-a-car\\""},{"mcc":"3386","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Showcase Rental Cars\\""},{"mcc":"3387","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Alamo Rent-a-car\\""},{"mcc":"3388","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3389","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Avis\\""},{"mcc":"3390","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Dollar\\""},{"mcc":"3391","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Europe By Car\\""},{"mcc":"3392","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3393","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"National Car Rental\\""},{"mcc":"3394","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Kemwell Group\\""},{"mcc":"3395","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Thrifty\\""},{"mcc":"3396","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Tilden\\""},{"mcc":"3397","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3398","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Econo-car\\""},{"mcc":"3399","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Amerex\\""},{"mcc":"3400","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Auto Host Cost Car Rentals"},{"mcc":"3401","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3402","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3403","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3404","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3405","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Enterprise\\""},{"mcc":"3406","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3407","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3408","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3409","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"General Rent-a-car\\""},{"mcc":"3410","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3411","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3412","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів, компанія \\"A-1\\""},{"mcc":"3413","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3414","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Godfrey Natl\\""},{"mcc":"3415","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3416","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3417","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3418","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3419","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Alpha\\""},{"mcc":"3420","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Ansa\\""},{"mcc":"3421","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Allstae\\""},{"mcc":"3422","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3423","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Avcar\\""},{"mcc":"3424","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3425","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Automate\\""},{"mcc":"3426","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3427","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Avon\\""},{"mcc":"3428","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Carey\\""},{"mcc":"3429","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Insurance\\""},{"mcc":"3430","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Major\\""},{"mcc":"3431","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Replacement\\""},{"mcc":"3432","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Reserve\\""},{"mcc":"3433","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Ugly Duckling\\""},{"mcc":"3434","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"USA Rent-a-car\\""},{"mcc":"3435","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Value Rent-a-car\\""},{"mcc":"3436","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Autohansa\\""},{"mcc":"3437","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Cite Rent-a-car\\""},{"mcc":"3438","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Interent\\""},{"mcc":"3439","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Milleville\\""},{"mcc":"3440","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Оренда автомобілів, компанія \\"Via Route Rent-a-Car\\""},{"mcc":"3441","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"3501","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Holiday\\""},{"mcc":"3502","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Best Western Hotels & Resorts"},{"mcc":"3503","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Шератон\\""},{"mcc":"3504","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Hilton\\""},{"mcc":"3505","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Forte\\""},{"mcc":"3506","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Golden Tulip\\""},{"mcc":"3507","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Friendship\\""},{"mcc":"3508","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Quality\\""},{"mcc":"3509","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Marriott\\""},{"mcc":"3510","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Days\\""},{"mcc":"3511","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Arabella\\""},{"mcc":"3512","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Inter-continental\\""},{"mcc":"3513","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Westin\\""},{"mcc":"3514","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"AmeriSuites\\""},{"mcc":"3515","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Rodeway\\""},{"mcc":"3516","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"La Quinta Motor\\""},{"mcc":"3517","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Americana\\""},{"mcc":"3518","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sol\\""},{"mcc":"3519","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Міжнародні готелі Пульмана"},{"mcc":"3520","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Meridien\\""},{"mcc":"3521","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Forte Crest\\""},{"mcc":"3522","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Tokyo\\""},{"mcc":"3523","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Peninsula\\""},{"mcc":"3524","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Welcomgroup\\""},{"mcc":"3525","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Dunfey\\""},{"mcc":"3526","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Prince\\""},{"mcc":"3527","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Downtowner-passport\\""},{"mcc":"3528","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Red Lion\\""},{"mcc":"3529","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Canadian Pacific\\""},{"mcc":"3530","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Renaissance\\""},{"mcc":"3531","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Astir\\""},{"mcc":"3532","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sun Route\\""},{"mcc":"3533","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Ibis\\""},{"mcc":"3534","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Southern Pacific\\""},{"mcc":"3535","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Hilton International\\""},{"mcc":"3536","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Amfac\\""},{"mcc":"3537","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"ANA\\""},{"mcc":"3538","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Concorde\\""},{"mcc":"3539","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Summerfield Suites\\""},{"mcc":"3540","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Iberotel\\""},{"mcc":"3541","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Okura\\""},{"mcc":"3542","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Royal\\""},{"mcc":"3543","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Four Seasons\\""},{"mcc":"3544","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Ciga\\""},{"mcc":"3545","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Shangri-La\\""},{"mcc":"3546","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Sierra\\""},{"mcc":"3547","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Breakers Resort\\""},{"mcc":"3548","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Melia International\\""},{"mcc":"3549","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Auberge Des Governeurs\\""},{"mcc":"3550","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Regal 8\\""},{"mcc":"3551","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Міраж\\" і казино"},{"mcc":"3552","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Coast\\""},{"mcc":"3553","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Park International\\""},{"mcc":"3554","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Pinehurst\\""},{"mcc":"3555","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Острів скарбів\\" і казино"},{"mcc":"3556","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Barton Creek\\""},{"mcc":"3557","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Manhattan East Suite\\""},{"mcc":"3558","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Jolly\\""},{"mcc":"3559","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Candleood Suites\\""},{"mcc":"3560","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Алладін\\" і казино"},{"mcc":"3561","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Золотий самородок\\" і казино"},{"mcc":"3562","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Comfort\\""},{"mcc":"3563","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Мотелі \\"Journey’s End\\""},{"mcc":"3564","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Сем Таун\\" і казино"},{"mcc":"3565","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Relax\\""},{"mcc":"3566","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Garden Place\\""},{"mcc":"3567","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Soho Grand\\""},{"mcc":"3568","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Ladbroke\\""},{"mcc":"3569","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Tribeca Grand\\""},{"mcc":"3570","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Grand Met Forum\\""},{"mcc":"3571","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Grand Wailea\\""},{"mcc":"3572","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Miyako\\""},{"mcc":"3573","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sandman\\""},{"mcc":"3574","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Venture\\""},{"mcc":"3575","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Vagabond\\""},{"mcc":"3576","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"La Quinta\\""},{"mcc":"3577","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Mandarin Oriental\\""},{"mcc":"3578","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Frankenmuth Bavarian\\""},{"mcc":"3579","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Меркурій\\""},{"mcc":"3580","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Del Coronado\\""},{"mcc":"3581","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Delta\\""},{"mcc":"3582","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Каліфорнія\\" і казино"},{"mcc":"3583","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Radisson Blue\\""},{"mcc":"3584","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Міжнародний готель \\"Принцеса\\""},{"mcc":"3585","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі Угорщини"},{"mcc":"3586","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sokos\\""},{"mcc":"3587","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі міста Дорал"},{"mcc":"3588","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі Гельмслі"},{"mcc":"3589","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Гольф-курорт Дорал"},{"mcc":"3590","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Fairmont\\""},{"mcc":"3591","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sonesta\\""},{"mcc":"3592","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Omni\\""},{"mcc":"3593","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Cunard\\""},{"mcc":"3594","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Arizona Biltmore\\""},{"mcc":"3595","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Hospitality International\\""},{"mcc":"3596","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Wynn Las Vegas\\""},{"mcc":"3597","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Ріверсайд\\" і казино"},{"mcc":"3598","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Regent\\""},{"mcc":"3599","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі Паннонії"},{"mcc":"3600","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Saddlebrook\\""},{"mcc":"3601","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"TradeWinds Island\\""},{"mcc":"3602","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Нью-Йоркський готель \\"Хадсон\\""},{"mcc":"3603","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Noah's Ark\\""},{"mcc":"3604","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Hilton Garden\\""},{"mcc":"3605","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Jurys\\""},{"mcc":"3606","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Джефферсон\\""},{"mcc":"3607","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Fontainebleau\\""},{"mcc":"3608","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Gaylord Opryland\\""},{"mcc":"3609","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Gaylord Palms\\""},{"mcc":"3610","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Gaylord Texan\\""},{"mcc":"3611","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"C'mon\\""},{"mcc":"3612","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Movenpick\\""},{"mcc":"3613","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Microtel\\""},{"mcc":"3614","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"AmericInn\\""},{"mcc":"3615","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Travelodge Hotels\\""},{"mcc":"3616","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Hermitage\\""},{"mcc":"3617","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"America’s Best Value Inn"},{"mcc":"3618","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорти \\"Великий вовк\\""},{"mcc":"3619","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Aloft\\""},{"mcc":"3620","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Binions Horseshoe Club\\" і казино"},{"mcc":"3621","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Extended Stay"},{"mcc":"3622","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Merlin\\" (Перт)"},{"mcc":"3623","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Dorint\\""},{"mcc":"3624","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Леді Удача\\" і казино"},{"mcc":"3625","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Universal\\""},{"mcc":"3626","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Принц\\" / Готелі \\"Studio Plus\\""},{"mcc":"3627","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Extended Stay America"},{"mcc":"3628","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Екскалібур\\" і казино"},{"mcc":"3629","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Dan\\""},{"mcc":"3630","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Extended Stay Deluxe"},{"mcc":"3631","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sleep\\""},{"mcc":"3632","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Фінікійський\\""},{"mcc":"3633","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Rank\\""},{"mcc":"3634","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорти \\"Swissôtel\\""},{"mcc":"3635","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Reso\\""},{"mcc":"3636","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sarova\\""},{"mcc":"3637","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Ramada\\""},{"mcc":"3638","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Говард Джонсон\\""},{"mcc":"3639","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Mount Charlotte\\""},{"mcc":"3640","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Hyatt\\" (Міжнародні)"},{"mcc":"3641","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Sofitel\\""},{"mcc":"3642","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Novotel Sieh (Accor)\\""},{"mcc":"3643","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Steigenberger\\""},{"mcc":"3644","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Econo-Travel Motor\\""},{"mcc":"3645","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Queens Moat Houses"},{"mcc":"3646","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Swallow\\""},{"mcc":"3647","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"HUSA\\""},{"mcc":"3648","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"De Vere\\""},{"mcc":"3649","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Radisson\\""},{"mcc":"3650","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Red Roof\\""},{"mcc":"3651","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Лондонський готель \\"Імперський\\""},{"mcc":"3652","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Embassy\\" від \\"Hilton\\""},{"mcc":"3653","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Penta\\""},{"mcc":"3654","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Loews\\""},{"mcc":"3655","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Scandic\\""},{"mcc":"3656","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Сара\\""},{"mcc":"3657","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Oberoi\\""},{"mcc":"3658","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"New Otani\\""},{"mcc":"3659","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Taj\\""},{"mcc":"3660","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Knights\\""},{"mcc":"3661","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Metropole\\" і СПА"},{"mcc":"3662","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Circus Circus\\" і казино"},{"mcc":"3663","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"El Presidente\\""},{"mcc":"3664","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Flag\\""},{"mcc":"3665","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Hampton\\" від \\"Hilton\\""},{"mcc":"3666","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Stakis\\""},{"mcc":"3667","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Luxor\\" і казино"},{"mcc":"3668","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі, курорти \\"Maritim\\" і казино"},{"mcc":"3669","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Ельдорадо\\" і казино"},{"mcc":"3670","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Аркада\\""},{"mcc":"3671","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Arctia\\""},{"mcc":"3672","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Campanile\\""},{"mcc":"3673","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Ibusz\\""},{"mcc":"3674","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Rantasipi\\""},{"mcc":"3675","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Cedok\\""},{"mcc":"3676","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Monte Carlo\\" і казино"},{"mcc":"3677","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Climat De France\\""},{"mcc":"3678","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Cumulus\\""},{"mcc":"3679","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Срібна спадщина\\" і казино"},{"mcc":"3680","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Othan\\""},{"mcc":"3681","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Adams Mark\\""},{"mcc":"3682","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Сахара\\" і казино"},{"mcc":"3683","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Бредбері\\""},{"mcc":"3684","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Budget Host\\""},{"mcc":"3685","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Budgetel\\""},{"mcc":"3686","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Suisse Chalet\\""},{"mcc":"3687","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Clarion\\""},{"mcc":"3688","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Compri Hotel Bucks County"},{"mcc":"3689","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Консорт\\""},{"mcc":"3690","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Courtyard\\" від \\"Marriott\\""},{"mcc":"3691","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Dillon\\""},{"mcc":"3692","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"DoubleTree\\" від \\"Hilton\\""},{"mcc":"3693","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Drury Hotels\\""},{"mcc":"3694","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Economy Inns Of America\\""},{"mcc":"3695","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Embassy\\" від \\"Hilton\\""},{"mcc":"3696","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Excel Inn\\""},{"mcc":"3697","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Fairfield\\" від \\"Marriott\\""},{"mcc":"3698","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Хартлі\\""},{"mcc":"3699","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Мотелі \\"Midway Motor Lodge\\""},{"mcc":"3700","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Мотелі \\"6\\""},{"mcc":"3701","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"La Mansion Del Rio"},{"mcc":"3702","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Реєстр\\""},{"mcc":"3703","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Residence Inn\\" від \\"Marriott\\""},{"mcc":"3704","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Royce\\""},{"mcc":"3705","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Sandman\\""},{"mcc":"3706","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Shilo\\""},{"mcc":"3707","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Shoneys\\""},{"mcc":"3708","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Virgin River\\" і казино"},{"mcc":"3709","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Мотелі \\"Super 8\\""},{"mcc":"3710","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Ritz-Carlton\\""},{"mcc":"3711","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Flag\\" (Австралія)"},{"mcc":"3712","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Buffalo Bills\\" і казино"},{"mcc":"3713","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Quality Pacific\\""},{"mcc":"3714","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Four Seasons\\" (Австралія)"},{"mcc":"3715","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Fairfield\\""},{"mcc":"3716","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Carlton\\""},{"mcc":"3717","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"City Lodge\\""},{"mcc":"3718","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Karos\\""},{"mcc":"3719","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Protea\\" від \\"Marriott\\""},{"mcc":"3720","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Southern Sun\\""},{"mcc":"3721","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Conrad\\""},{"mcc":"3722","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Wyndham\\""},{"mcc":"3723","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Rica\\""},{"mcc":"3724","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Inter Nor\\""},{"mcc":"3725","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Sea Pines\\""},{"mcc":"3726","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Rio\\""},{"mcc":"3727","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Broadmoor\\""},{"mcc":"3728","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Ballys\\" і казино"},{"mcc":"3729","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Самородок\\" і казино"},{"mcc":"3730","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"MGM Grand\\""},{"mcc":"3731","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Harrah\\" і казино"},{"mcc":"3732","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Opryland\\""},{"mcc":"3733","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Boca Raton\\" і клуб"},{"mcc":"3734","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Harvey Bristol\\""},{"mcc":"3735","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Masters Economy\\""},{"mcc":"3736","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Colorado Belle\\" і казино"},{"mcc":"3737","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Рів’єра\\" і казино"},{"mcc":"3738","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Tropicana\\" і казино"},{"mcc":"3739","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Woodside\\""},{"mcc":"3740","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Towneplace\\""},{"mcc":"3741","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Millennium Times Square\\" (Нью-Йорк)"},{"mcc":"3742","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Club Med\\""},{"mcc":"3743","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Biltmore\\" і апартаменти \\"Biltmore\\" в Атланті"},{"mcc":"3744","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Carefree\\""},{"mcc":"3745","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"St. Regis\\""},{"mcc":"3746","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"The Eliot\\""},{"mcc":"3747","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Клубна корпорація / Клубні курорти"},{"mcc":"3748","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Wellesley\\""},{"mcc":"3749","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі міста Беверлі Хіллс"},{"mcc":"3750","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Crowne Plaza\\""},{"mcc":"3751","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Homewood\\" від \\"Hilton\\""},{"mcc":"3752","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"The Peabody\\" в місті Мемфіс (США)"},{"mcc":"3753","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Greenbriar\\""},{"mcc":"3754","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Плантація \\"Amelia Island\\""},{"mcc":"3755","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі міста Гомстед"},{"mcc":"3756","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"South Seas Island\\""},{"mcc":"3757","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Canyon Ranch\\""},{"mcc":"3758","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"The Kahala\\""},{"mcc":"3759","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Orchid At Mauna Lani\\""},{"mcc":"3760","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Halekulani\\" / Парк Waikiki"},{"mcc":"3761","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Примадонна\\" і казино"},{"mcc":"3762","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Віскі Піта\\" і казино"},{"mcc":"3763","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Виноробня та курорт Шато Елан"},{"mcc":"3764","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Beau Rivage\\" і казино"},{"mcc":"3765","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі, курорти \\"Bellagio\\" і казино"},{"mcc":"3766","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Fremont\\" і казино"},{"mcc":"3767","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі, пивоварня \\"Main Street Station\\" і казино"},{"mcc":"3768","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Срібна зірка\\" і казино"},{"mcc":"3769","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Стратосфера\\" і казино"},{"mcc":"3770","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Springhill\\""},{"mcc":"3771","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Цезар\\" і казино"},{"mcc":"3772","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Nemacolin Woodlands\\""},{"mcc":"3773","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі, курорти \\"Venetian\\" і казино"},{"mcc":"3774","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"New York-New York\\" і казино"},{"mcc":"3775","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Sands\\""},{"mcc":"3776","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Nevele Grande\\" і заміський клуб"},{"mcc":"3777","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Mandalay Bay\\""},{"mcc":"3778","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Four Points\\""},{"mcc":"3779","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"W\\""},{"mcc":"3780","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Діснейленд\\""},{"mcc":"3781","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Patricia Grand\\""},{"mcc":"3782","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Rosen\\""},{"mcc":"3783","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Міський та заміський курорт і конференц-центр"},{"mcc":"3784","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"First Hospitality\\""},{"mcc":"3785","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Outrigger\\""},{"mcc":"3786","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Ohana\\" на Гаваях"},{"mcc":"3787","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курортний люкс та вілли \\"Caribe Royale Orlando\\""},{"mcc":"3788","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Ala Moana\\" від \\"Mantra\\""},{"mcc":"3789","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Smugglers Notch\\""},{"mcc":"3790","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Raffles\\""},{"mcc":"3791","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Staybridge\\""},{"mcc":"3792","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Claridge\\" і казино"},{"mcc":"3793","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Фламінго\\""},{"mcc":"3794","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі, курорти \\"Grand\\" і казино"},{"mcc":"3795","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Paris Las Vegas\\" і казино"},{"mcc":"3796","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Peppermill\\" і казино"},{"mcc":"3797","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"The Atlantic\\" і казино"},{"mcc":"3798","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Embassy Vacation\\""},{"mcc":"3799","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Hale Koa\\""},{"mcc":"3800","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти міста Гомстед"},{"mcc":"3801","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Wilderness\\""},{"mcc":"3802","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Палац\\""},{"mcc":"3803","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Гольф-курорт \\"Вігвам\\" і СПА"},{"mcc":"3804","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Заміський клуб \\"Дипломат\\" і СПА"},{"mcc":"3805","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"The Atlantic\\""},{"mcc":"3806","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Princeville\\""},{"mcc":"3807","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Елемент\\""},{"mcc":"3808","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курортні готелі \\"LXR\\""},{"mcc":"3809","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Settle\\""},{"mcc":"3810","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"La Costa\\""},{"mcc":"3811","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Premier Travel\\""},{"mcc":"3812","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Hyatt\\""},{"mcc":"3813","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Indigo\\""},{"mcc":"3814","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Рузвельт\\" (Нью-Йорк)"},{"mcc":"3815","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Сімейні апартаменти \\"Nickelodeon\\" від \\"Holiday\\""},{"mcc":"3816","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Home2\\" від \\"Hilton\\""},{"mcc":"3817","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Affinia\\""},{"mcc":"3818","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Mainstay\\""},{"mcc":"3819","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Апартаменти \\"Oxford\\""},{"mcc":"3820","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Jumeirah Essex House\\""},{"mcc":"3821","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курортний люкс та вілли \\"Caribe Royale Orlando\\""},{"mcc":"3822","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Crossland\\""},{"mcc":"3823","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Grand Sierra\\""},{"mcc":"3824","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Aria\\""},{"mcc":"3825","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Vdara\\" і СПА"},{"mcc":"3826","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Steinplatz\\""},{"mcc":"3827","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Будинок Гальта\\" від Wyndham"},{"mcc":"3828","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Космополітен Лас-Вегаса\\" і казино"},{"mcc":"3829","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Заміський готель від \\"Carlson\\""},{"mcc":"3830","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Park Plaza\\""},{"mcc":"3831","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Waldorf Astoria\\""},{"mcc":"3832","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Curio\\" від \\"Hilton\\""},{"mcc":"3833","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Canopy\\" від \\"Hilton\\""},{"mcc":"3834","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Baymont\\""},{"mcc":"3835","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі і курорти \\"Dolce\\""},{"mcc":"3836","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готель \\"Hawthorn\\" від Wyndham"},{"mcc":"3837","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Курорт \\"Hoshino\\""},{"mcc":"3838","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі \\"Kimpton\\""},{"mcc":"3882","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Переведення в готівку","fullDescription":"Інкасація чека (переведення в готівку)"},{"mcc":"4011","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Залізниця","fullDescription":"Залізниці - перевезення вантажів"},{"mcc":"4111","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Пасажирські перевезення","fullDescription":"Пасажирські перевезення - приміські та місцеві приміські рейси, включаючи пороми"},{"mcc":"4112","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Пасажирські залізничні перевезення","fullDescription":"Пасажирські залізничні перевезення"},{"mcc":"4119","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Швидка допомога","fullDescription":"Послуги швидкої допомоги"},{"mcc":"4121","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Таксі","fullDescription":"Лімузини і таксі"},{"mcc":"4131","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Перевезення. Автобус","fullDescription":"Автобусні лінії"},{"mcc":"4214","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Транспортування. Доставка","fullDescription":"Агентства з автотранспортних перевезень, місцеві / віддалені автовантажоперевезення, компанії по переїзду і зберіганню, місцева доставка"},{"mcc":"4215","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Кур'єрська служба","fullDescription":"Послуги кур'єра - по повітрю і на землі, агентство по відправці вантажів"},{"mcc":"4225","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Сховище","fullDescription":"Складське зберігання громадського користування - сільськогосподарські продукти, продукти що охолоджуються, зберігання предметів домашнього вжитку"},{"mcc":"4304","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Різне","fullDescription":"Різне"},{"mcc":"4411","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Круїзні лінії","fullDescription":"Круїзні лінії"},{"mcc":"4457","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Оренда суден","fullDescription":"Оренда та лізинг суден"},{"mcc":"4468","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Яхтинговий сервіс","fullDescription":"Пристані для яхт, їх обслуговування та постачання витратних матеріалів"},{"mcc":"4511","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Авіалінії","fullDescription":"Авіалінії, авіакомпанії"},{"mcc":"4582","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Аеропорти","fullDescription":"Аеропорти, термінали аеропортів, льотні поля"},{"mcc":"4722","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Туризм","fullDescription":"Туристичні агентства та організатори екскурсій"},{"mcc":"4723","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Туроператори","fullDescription":"Пакетні туроператори - тільки Німеччина"},{"mcc":"4729","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Транспортні послуги","fullDescription":"Послуги пасажирських перевезень"},{"mcc":"4761","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Телемаркетинг","fullDescription":"Телемаркетинг туристичних послуг та вітамінів"},{"mcc":"4784","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Платні дороги","fullDescription":"Платні дороги і мости"},{"mcc":"4785","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Різне","fullDescription":"Різне"},{"mcc":"4789","group":{"type":"TS","description":"Транспортні послуги"},"shortDescription":"Залізниця","fullDescription":"Послуги залізничих перевезень"},{"mcc":"4812","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Телекомунікаційне обладнання","fullDescription":"Телекомунікаційне обладнання, включаючи продаж телефонів"},{"mcc":"4813","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Торгові точки з телефонією","fullDescription":"Торгові точки телеком клавішного введення, що пропонують поодинокі локальні і далекі телефонні дзвінки, використовуючи центральний номер доступу без розмови з оператором і використовуючи код доступу"},{"mcc":"4814","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Мобільний зв'язок","fullDescription":"Телекомунікаційні послуги"},{"mcc":"4815","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Телефонні послуги","fullDescription":"Телефонні послуги"},{"mcc":"4816","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Інформаційні послуги","fullDescription":"Комп'ютерні мережі, інформаційні послуги"},{"mcc":"4821","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Телеграф","fullDescription":"Послуги телеграфу"},{"mcc":"4829","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Банківський переказ грошових доручень / Грошові перекази"},{"mcc":"4899","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Телебачення","fullDescription":"Кабельні та інші платні телевізійні послуги"},{"mcc":"4900","group":{"type":"US","description":"Комунальні послуги"},"shortDescription":"Комунальні послуги","fullDescription":"Комунальні послуги - електрика, газ, мазут, санітарія, вода"},{"mcc":"5013","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Автозапчастини","fullDescription":"Постачання автотранспортних засобів та нові запчастини"},{"mcc":"5021","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Меблі","fullDescription":"Офісні та комерційні меблі"},{"mcc":"5039","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Будматеріали","fullDescription":"Будівельні матеріали"},{"mcc":"5044","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Офісне приладдя","fullDescription":"Офісне фотографічне, фотокопіювальне, і мікрофільмуюче обладнання"},{"mcc":"5045","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Комп'ютери та програмне забезпечення","fullDescription":"Комп'ютери, комп'ютерна периферія, програмне забезпечення"},{"mcc":"5046","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Обладнання","fullDescription":"Комерційне обладнання"},{"mcc":"5047","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Медичне обладнання","fullDescription":"Стоматологічне / лабораторне / медичне / офтальмологічне обладнання та матеріали для лікарень"},{"mcc":"5051","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Обробка металу","fullDescription":"Центри і офіси робіт по металу"},{"mcc":"5065","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Електроніка","fullDescription":"Електричні частини та обладнання"},{"mcc":"5072","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Апаратура","fullDescription":"Устаткування і супутні матеріали для технічного забезпечення"},{"mcc":"5074","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Сантехніка","fullDescription":"Устаткування для водопроводу і опалювальної системи"},{"mcc":"5085","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Промисловість","fullDescription":"Промислове обладнання"},{"mcc":"5094","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Дорогоцінності","fullDescription":"Коштовне каміння та метали, годинники і ювелірні вироби"},{"mcc":"5099","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Товари","fullDescription":"Товари довготривалого користування"},{"mcc":"5111","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Канцелярія","fullDescription":"Канцелярія, офісні супутні товари, папір для друкування і листування"},{"mcc":"5122","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Ліки","fullDescription":"Ліки, їх розповсюджувачі, аптеки"},{"mcc":"5131","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Галантерея","fullDescription":"Штучні товари, галантерея та інші текстильні товари"},{"mcc":"5137","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Одяг","fullDescription":"Чоловічий, жіночий і дитячий спецодяг"},{"mcc":"5139","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Взуття","fullDescription":"Комерційне взуття"},{"mcc":"5169","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Хімія","fullDescription":"Хімікалії і суміжні речовини"},{"mcc":"5172","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Бензин","fullDescription":"Нафта і нафтопродукти"},{"mcc":"5192","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Книги. Преса","fullDescription":"Книги, періодичні видання та газети"},{"mcc":"5193","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Квіти","fullDescription":"Приналежності для флористів, розсадники і квіти"},{"mcc":"5198","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Фарби","fullDescription":"Лакофарбова продукція та супутні товари"},{"mcc":"5199","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Товари","fullDescription":"Товари нетривалого користування"},{"mcc":"5200","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Товари для дому","fullDescription":"Магазини товарів для дому"},{"mcc":"5211","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Будматеріали","fullDescription":"Будівельні матеріали, магазини пиломатеріалів"},{"mcc":"5231","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Ремонт","fullDescription":"Магазини скла, фарби, шпалер"},{"mcc":"5251","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Господарських товари","fullDescription":"Магазини господарських товарів"},{"mcc":"5261","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Садове приладдя","fullDescription":"Магазини товарів для саду та городу"},{"mcc":"5262","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Маркетплейси","fullDescription":"Маркетплейси"},{"mcc":"5271","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Будинки на колесах","fullDescription":"Дилери мобільних будинків"},{"mcc":"5292","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Різне","fullDescription":"Різне"},{"mcc":"5295","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Різне","fullDescription":"Різне"},{"mcc":"5297","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Роздрібні магазини","fullDescription":"Онлайн магазини роздрібної торгівлі"},{"mcc":"5298","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Роздрібні магазини","fullDescription":"Продуктові інтернет магазини"},{"mcc":"5299","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Продаж газу","fullDescription":"Продаж газу"},{"mcc":"5300","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Оптовики","fullDescription":"Оптові магазини"},{"mcc":"5309","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Duty Free","fullDescription":"Безмитні магазини"},{"mcc":"5310","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Дискаунтери","fullDescription":"Дисконтні магазини"},{"mcc":"5311","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Універмаги","fullDescription":"Універмаги"},{"mcc":"5331","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Універсальні магазини","fullDescription":"Універсальний магазин"},{"mcc":"5399","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Універсальні магазини","fullDescription":"Інші магазини загальних товарів"},{"mcc":"5411","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Продукти","fullDescription":"Продуктові магазини, супермаркети"},{"mcc":"5415","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Різне","fullDescription":"Різне"},{"mcc":"5422","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"М'ясо","fullDescription":"Продаж свіжого та замороженого м'яса"},{"mcc":"5441","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Солодощі","fullDescription":"Магазини цукерок, горіхів та кондитерських виробів"},{"mcc":"5451","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Фермерські товари","fullDescription":"Магазини молочних продуктів"},{"mcc":"5462","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Пекарні","fullDescription":"Пекарні"},{"mcc":"5499","group":{"type":"ROS","description":"Послуги роздрібної торгівлі"},"shortDescription":"Продукти","fullDescription":"Інші продовольчі магазини - цілодобові магазини, ринки, спеціалізовані магазини та торгові автомати"},{"mcc":"5511","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автосалони","fullDescription":"Легковий і вантажний транспорт - продаж, сервіс, ремонт, запчастини та лізинг"},{"mcc":"5521","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автосалони","fullDescription":"Продавці автомобілів та вантажівок (тільки вживані)"},{"mcc":"5531","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автозапчастини","fullDescription":"Автомагазини і товари для дому"},{"mcc":"5532","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Шини","fullDescription":"Магазини автомобільних шин"},{"mcc":"5533","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автомагазини","fullDescription":"Магазини автозапчастин та аксесуарів"},{"mcc":"5541","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"СТО","fullDescription":"Станції технічного обслуговування (з або без допоміжних послуг)"},{"mcc":"5542","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"АЗС","fullDescription":"Автоматичні заправні станції"},{"mcc":"5551","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Човни","fullDescription":"Продавці човнів"},{"mcc":"5552","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Зарядка електромобілів","fullDescription":"Станції зарядки електромобілів"},{"mcc":"5561","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автосалони","fullDescription":"Будинки-автопричепи, житлові нерозбірні і вантажні причепи"},{"mcc":"5571","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автосалони","fullDescription":"Магазини мотоциклів та дилери"},{"mcc":"5592","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автосалони","fullDescription":"Дилери будинків на колесах"},{"mcc":"5598","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автосалони","fullDescription":"Дилери снігоходів"},{"mcc":"5599","group":{"type":"CV","description":"Автомобілі та транспортні засоби"},"shortDescription":"Автосалони","fullDescription":"Продавці різного автомобільного, авіаційного та сільськогосподарського обладнання"},{"mcc":"5611","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Чоловічий одяг","fullDescription":"Магазини одягу та аксесуарів для чоловіків та хлопців"},{"mcc":"5621","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Жіночий одяг","fullDescription":"Магазини жіночого одягу"},{"mcc":"5631","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Жіночий одяг","fullDescription":"Жіночі аксесуари та спеціалізовані магазини"},{"mcc":"5641","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Дитячий одяг","fullDescription":"Магазини одягу для дітей та немовлят"},{"mcc":"5651","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Одяг","fullDescription":"Магазини сімейного одягу"},{"mcc":"5655","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Спортивний одяг","fullDescription":"Магазини спортивного одягу та одягу для верхової їзди"},{"mcc":"5661","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Взуття","fullDescription":"Взуттєві магазини"},{"mcc":"5681","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Хутро","fullDescription":"Хутряні магазини"},{"mcc":"5691","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Одяг","fullDescription":"Магазини чоловічого та жіночого одягу"},{"mcc":"5697","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Ательє","fullDescription":"Переробки, ремонт, швачки, кравці"},{"mcc":"5698","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Перуки","fullDescription":"Перуки і накладки з штучного волосся"},{"mcc":"5699","group":{"type":"CLS","description":"Магазини одягу"},"shortDescription":"Аксесуари","fullDescription":"Магазини аксесуарів та одягу - Різне"},{"mcc":"5712","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Фурнітура","fullDescription":"Магазини обладнання, меблів та побутових предметів (крім побутової техніки)"},{"mcc":"5713","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Покриття для підлоги","fullDescription":"Магазини підлогових покриттів"},{"mcc":"5714","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Штори. Фіранки","fullDescription":"Тканини, оббивний матеріал, гардини і портьєри, жалюзі"},{"mcc":"5715","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Спиртні напої","fullDescription":"Оптові продавці алкоголю"},{"mcc":"5718","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Каміни","fullDescription":"Магазини камінів, камінних екранів і аксесуарів"},{"mcc":"5719","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Фурнітура","fullDescription":"Різні спеціалізовані магазини меблів для дому"},{"mcc":"5722","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Побутова техніка","fullDescription":"Магазини побутової техніки"},{"mcc":"5732","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Побутова техніка","fullDescription":"Продаж електроніки"},{"mcc":"5733","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Музичні інструменти","fullDescription":"Музичні магазини - музичні інструменти, фортепіано та ноти"},{"mcc":"5734","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Комп'ютерне ПЗ","fullDescription":"Магазини комп'ютерного програмного забезпечення"},{"mcc":"5735","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Магазини звукозапису","fullDescription":"Магазини звукозапису"},{"mcc":"5811","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Доставка їжі","fullDescription":"Доставка їжі"},{"mcc":"5812","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Кафе. Ресторани","fullDescription":"Місця харчування і ресторани"},{"mcc":"5813","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Бари","fullDescription":"Бари, коктейль-бари, дискотеки, нічні клуби і таверни - місця продажу алкогольних напоїв"},{"mcc":"5814","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Фаст-фуд","fullDescription":"Ресторани швидкого харчування"},{"mcc":"5815","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Цифрові товари","fullDescription":"Цифрові товари: книги, фільми, музика"},{"mcc":"5816","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Ігри","fullDescription":"Цифрові товари: Ігри"},{"mcc":"5817","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Програмне забезпечення","fullDescription":"Цифрові товари: додатки (крім ігор)"},{"mcc":"5818","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Цифрові товари","fullDescription":"Цифрові товари: мультикатегорія"},{"mcc":"5832","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Антикваріат","fullDescription":"Антикварні магазини - послуги з продажу, ремонту та реставрації"},{"mcc":"5912","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Аптеки","fullDescription":"Аптеки"},{"mcc":"5921","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Спиртні напої","fullDescription":"Магазини з продажем спиртних напоїв на винос"},{"mcc":"5931","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Секонд-хенд","fullDescription":"Секонд-хенди, магазини б/в товарів, комісійні магазини"},{"mcc":"5932","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Антикваріат","fullDescription":"Антикварні магазини - послуги з продажу, ремонту та реставрації"},{"mcc":"5933","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Ломбарди","fullDescription":"Ломбарди"},{"mcc":"5935","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Автозвалище","fullDescription":"Знищення і збір залишків"},{"mcc":"5937","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Магазини репродукцій","fullDescription":"Магазини антикварних репродукцій"},{"mcc":"5940","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Велосипеди","fullDescription":"Магазини велосипедів - Продажі та обслуговування"},{"mcc":"5941","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Товари для спорту","fullDescription":"Магазини спортивних товарів"},{"mcc":"5942","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Книгарні","fullDescription":"Книгарні"},{"mcc":"5943","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Канцтовари","fullDescription":"Магазини офісного, шкільного та канцелярського призначення"},{"mcc":"5944","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Годинники","fullDescription":"Годинники, ювелірні та срібні вироби"},{"mcc":"5945","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Іграшки","fullDescription":"Магазини ігор, іграшок та хобі"},{"mcc":"5946","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Фототовари","fullDescription":"Магазини фотокамер та фотографій"},{"mcc":"5947","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Сувеніри","fullDescription":"Магазини карт, подарунків, новинок і сувенірів"},{"mcc":"5948","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Шкіряні вироби","fullDescription":"Магазини шкіряних виробів, дорожніх речей"},{"mcc":"5949","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Товари для шиття","fullDescription":"Тканина, рукоділля, штучні вироби та швейні магазини"},{"mcc":"5950","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Кришталь / посуд","fullDescription":"Магазини кришталю та скляного посуду"},{"mcc":"5960","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Страхування","fullDescription":"Прямий маркетинг - страхові послуги"},{"mcc":"5961","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Товари поштою","fullDescription":"Замовлення поштою, включаючи замовлення по каталогу"},{"mcc":"5962","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Подорожі","fullDescription":"Прямий маркетинг - послуги, що пов'язані з туризмом"},{"mcc":"5963","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Комівояжери","fullDescription":"Продаж \\"від дверей до дверей\\""},{"mcc":"5964","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Товари поштою","fullDescription":"Прямий маркетинг - торгівля за каталогами"},{"mcc":"5965","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Товари поштою","fullDescription":"Прямий маркетинг - комбінований каталог та роздрібна торгівля"},{"mcc":"5966","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Товари поштою","fullDescription":"маркетинг - вихідний телемаркетинг"},{"mcc":"5967","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Інформаційні послуги","fullDescription":"Прямий маркетинг - вхідний телемаркетинг"},{"mcc":"5968","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Підписки","fullDescription":"Прямий маркетинг - Продаж по підписці"},{"mcc":"5969","group":{"type":"MTS","description":"Продажі поштою / телефоном"},"shortDescription":"Товари поштою","fullDescription":"Прямий маркетинг - інші торгові точки прямого маркетингу"},{"mcc":"5970","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Художні товари","fullDescription":"Магазини товарів для художників, ремісничі магазини"},{"mcc":"5971","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Галереї","fullDescription":"Дилери та галереї мистецтв"},{"mcc":"5972","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Філателістика","fullDescription":"Магазини марок та монет - Філателія та нумізматичні приладдя"},{"mcc":"5973","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Церковні лавки","fullDescription":"Магазини релігійних товарів"},{"mcc":"5974","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Штампи","fullDescription":"Магазини гумових штампів"},{"mcc":"5975","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Слухові апарати","fullDescription":"Слухові апарати - продаж, сервіс, постачання"},{"mcc":"5976","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Протези","fullDescription":"Ортопедичні товари - магазини протезів"},{"mcc":"5977","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Косметика","fullDescription":"Магазини косметики"},{"mcc":"5978","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Друкарські машини","fullDescription":"Магазини друкуючих пристроїв - оренда, продаж, послуги"},{"mcc":"5983","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Паливо","fullDescription":"Постачальники палива - вугілля, мазут, зріджена нафта, деревина"},{"mcc":"5992","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Флористика","fullDescription":"Флористика"},{"mcc":"5993","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Тютюнові вироби","fullDescription":"Магазини та стенди для сигар"},{"mcc":"5994","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Газети. Журнали","fullDescription":"Дилери з продажу друкованої продукції"},{"mcc":"5995","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Зоотовари","fullDescription":"Зоомагазини, корм і товари для домашніх тварин"},{"mcc":"5996","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Басейни","fullDescription":"Басейни - продаж та постачання"},{"mcc":"5997","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Бритви","fullDescription":"Магазини електричних бритв - продаж та обслуговування"},{"mcc":"5998","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Тенти","fullDescription":"Наметові та тентові магазини"},{"mcc":"5999","group":{"type":"MS","description":"Інші магазини"},"shortDescription":"Різне","fullDescription":"Різні та спеціалізовані роздрібні магазини"},{"mcc":"6010","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Каси","fullDescription":"Фінансові установи - видача готівки в касі"},{"mcc":"6011","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Каси","fullDescription":"Фінансові установи - зняття готівки автоматично"},{"mcc":"6012","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Фінансові послуги","fullDescription":"Фінансові установи - торгівля та послуги"},{"mcc":"6022","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Банки","fullDescription":"Фінансова установа (внутрішня відновлювана кредитна лінія)"},{"mcc":"6023","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Банки","fullDescription":"Державні банки (внутрішня відновлювана кредитна лінія)"},{"mcc":"6025","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Банки","fullDescription":"Національні банки (внутрішня відновлювана кредитна лінія)"},{"mcc":"6026","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Банки","fullDescription":"Національні банки, не федеральні (внутрішня відновлювана кредитна лінія)"},{"mcc":"6028","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Банки","fullDescription":"Некорпоративні приватні банки (внутрішня відновлювана кредитна лінія)"},{"mcc":"6050","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Квазі-кеш","fullDescription":"Квазі-кеш - Фінансові установи"},{"mcc":"6051","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Квазі-кеш","fullDescription":"Квазі-Кеш - Нефінансові установи"},{"mcc":"6211","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Цінні папери","fullDescription":"Послуги брокерів на ринку цінних паперів"},{"mcc":"6236","group":{"type":"AL","description":"Авіалінії, авіакомпанії"},"shortDescription":"Цінні папери","fullDescription":"Aserca Airlines / Aero Servicio Carabobo (Венесуела)"},{"mcc":"6300","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Страхування","fullDescription":"Послуги страхових компаній"},{"mcc":"6381","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Страхування","fullDescription":"Страхування - премії"},{"mcc":"6399","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Страхування","fullDescription":"Страхування"},{"mcc":"6513","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Оренда нерухомості","fullDescription":"Агенти та менеджери з нерухомості - оренда"},{"mcc":"6529","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Поповнення картки","fullDescription":"Віддалене поповнення передплаченої карти - Фінансові організації"},{"mcc":"6530","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Поповнення картки","fullDescription":"Віддалене поповнення передоплаченої карти - Торгова точка"},{"mcc":"6531","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Оплата послуг - грошові перекази"},{"mcc":"6532","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Платіжна операція - фінансова установа"},{"mcc":"6533","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Платіжна операція - продавець"},{"mcc":"6534","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Грошовий переказ - фінансова установа"},{"mcc":"6535","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Права вимоги на цінності - Фінансові організації"},{"mcc":"6536","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Грошові перекази з картки на картку - зарахування (всередині країни)"},{"mcc":"6537","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Грошові перекази з картки на картку - зарахування (між країнами)"},{"mcc":"6538","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Грошові перекази з картки на картку - списання"},{"mcc":"6539","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Транзакція по фінансуванню (виключаючи MoneySend)"},{"mcc":"6540","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Поповнення небанківських передплачених карт та рахунків"},{"mcc":"6611","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Переказ коштів","fullDescription":"Переплата (авансові платежі)"},{"mcc":"6760","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Облігації","fullDescription":"Ощадні облігації"},{"mcc":"7011","group":{"type":"HR","description":"Готелі / Курорти"},"shortDescription":"Готелі та курорти","fullDescription":"Готелі та курорти"},{"mcc":"7012","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Тайм-шери","fullDescription":"Тайм-шери"},{"mcc":"7032","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Рекреація","fullDescription":"Спортивно-оздоровчі табори"},{"mcc":"7033","group":{"type":"SP","description":"Постачальник послуг"},"shortDescription":"Кемпінг","fullDescription":"Наметові табори та причіпні парки"},{"mcc":"7210","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Прання й прибирання","fullDescription":"Послуги з прибирання та пральні"},{"mcc":"7211","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Прання","fullDescription":"Послуги пральні - сімейні та комерційні"},{"mcc":"7216","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Хімчистка","fullDescription":"Хімчистка"},{"mcc":"7217","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Чистка","fullDescription":"Чистка килимів та оббивки"},{"mcc":"7221","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Фотостудія","fullDescription":"Фотостудія"},{"mcc":"7230","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Краса","fullDescription":"Перукарні та салони краси"},{"mcc":"7251","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Ремонт одягу","fullDescription":"Чистка капелюхів, ремонт і полірування взуття"},{"mcc":"7261","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Ритуальні послуги","fullDescription":"Похоронні служби та крематорії"},{"mcc":"7272","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Ескорт","fullDescription":"Послуги ескорту"},{"mcc":"7273","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Знайомства. Ескорт","fullDescription":"Послуги знайомств"},{"mcc":"7276","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Податки","fullDescription":"Служба підготовки податків"},{"mcc":"7277","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Консультація","fullDescription":"Борги, шлюб, особисті питання - консультування"},{"mcc":"7278","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Покупки","fullDescription":"Послуги покупок / шопінгу"},{"mcc":"7280","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Лікарні","fullDescription":"Пацієнт лікарні - виведення особистих коштів"},{"mcc":"7295","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Няні","fullDescription":"Послуги няні"},{"mcc":"7296","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Прокат одягу","fullDescription":"Здача в оренду костюмів, уніформи, простий одягу"},{"mcc":"7297","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Масаж","fullDescription":"Салони масажу"},{"mcc":"7298","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Здоров'я й краса","fullDescription":"Салони краси та здоров'я"},{"mcc":"7299","group":{"type":"PS","description":"Особисті послуги"},"shortDescription":"Різне","fullDescription":"Інші послуги"},{"mcc":"7311","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Реклама","fullDescription":"Рекламні послуги"},{"mcc":"7321","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"БКІ","fullDescription":"Бюро кредитних історій"},{"mcc":"7322","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Колектори","fullDescription":"Агентства стягнення боргів"},{"mcc":"7332","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Копі-центри","fullDescription":"Креслярські і копіювальні послуги"},{"mcc":"7333","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Фотографія й мистецтво","fullDescription":"Комерційне мистецтво, графіка, фотографія"},{"mcc":"7338","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Копі-центри","fullDescription":"Послуги швидкого копіювання, відтворення та друку"},{"mcc":"7339","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Стенографія","fullDescription":"Служби стенографічної та секретарської підтримки"},{"mcc":"7342","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Дезінфекція","fullDescription":"Дезінсекція, дезінфекція та дератизація"},{"mcc":"7349","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Чистка й обслуговування","fullDescription":"Прибирання і технічне обслуговування будівель і приміщень"},{"mcc":"7361","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Працевлаштування","fullDescription":"Агенції зайнятості та служби тимчасової допомоги"},{"mcc":"7372","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Програмування","fullDescription":"Комп'ютерне програмування, обробка даних і послуги з проектування інтегрованих систем"},{"mcc":"7375","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Інформаційні послуги","fullDescription":"Служби пошуку інформації"},{"mcc":"7379","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Ремонт комп'ютерів","fullDescription":"Комп'ютерне обслуговування, ремонт і послуги"},{"mcc":"7389","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Бізнес послуги","fullDescription":"Бізнес послуги"},{"mcc":"7392","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Консультації, PR","fullDescription":"Послуги з консалтингу, управління та зв’язків з громадськістю"},{"mcc":"7393","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Детективні агентства","fullDescription":"Детективні агентства, охоронні агентства, служби безпеки, включаючи броньовані автомобілі і сторожових собак"},{"mcc":"7394","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Оренда спорядження","fullDescription":"Оренда обладнання та лізингові послуги, оренда меблів, прокат інструментів"},{"mcc":"7395","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Фотодрук","fullDescription":"Фотостудії, фотолабораторії"},{"mcc":"7399","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Бізнес послуги","fullDescription":"Бізнес послуги"},{"mcc":"7511","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Паркування","fullDescription":"Стоянка вантажного транспорту"},{"mcc":"7512","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Агентства по оренді автомобілів"},{"mcc":"7513","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда вантажівок","fullDescription":"Оренда вантажівок"},{"mcc":"7519","group":{"type":"CR","description":"Оренда автомобілів"},"shortDescription":"Оренда автомобілів","fullDescription":"Прокат будинків на колесах та автомобілів для відпочинку"},{"mcc":"7523","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Паркування","fullDescription":"Автомобільні стоянки і гаражі"},{"mcc":"7524","group":{"type":"BS","description":"Бізнес послуги"},"shortDescription":"Паркування","fullDescription":"Постачальники послуг експрес-оплати автостоянок і гаражів"},{"mcc":"7531","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Ремонт авто","fullDescription":"Майстерні з кузовного ремонту автомобілів"},{"mcc":"7534","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Шиномонтаж","fullDescription":"Шиномонтаж та вулканізація"},{"mcc":"7535","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Автомобільні фарби","fullDescription":"Магазини фарб для автомобілів"},{"mcc":"7538","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"СТО","fullDescription":"Автосервіси"},{"mcc":"7542","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Автомийки","fullDescription":"Автомийки"},{"mcc":"7549","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Евакуатор","fullDescription":"Послуги буксирування та евакуації"},{"mcc":"7622","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Ремонт техніки","fullDescription":"Майстерні по ремонту електроніки"},{"mcc":"7623","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Ремонт кліматичної техніки","fullDescription":"Майстерні по ремонту систем кондиціонування та охолодження"},{"mcc":"7629","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Ремонт техніки","fullDescription":"Ремонт електрообладнання та малої побутової техніки"},{"mcc":"7631","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Ремонт годинників й ювелірних виробів","fullDescription":"Центри ремонту годинників та чищення ювелірних виробів"},{"mcc":"7641","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Ремонт меблів","fullDescription":"Оббивка, ремонт та оздоблення меблів"},{"mcc":"7692","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Зравювальні роботи","fullDescription":"Зварювання та ремонт"},{"mcc":"7699","group":{"type":"RS","description":"Ремонтні послуги"},"shortDescription":"Ремонт","fullDescription":"Різні ремонтні магазини та супутні послуги"},{"mcc":"7800","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Державна лотерея","fullDescription":"Державні лотереї (тільки США)"},{"mcc":"7801","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Онлайн-казино","fullDescription":"Азартні ігри в інтернеті (тільки США)"},{"mcc":"7802","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Скачки","fullDescription":"Кінські / собачі перегони (тільки США)"},{"mcc":"7829","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Прокат відео","fullDescription":"Виробництво та розповсюдження кінофільмів та відеокасет"},{"mcc":"7832","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Кінотеатри","fullDescription":"Кінотеатри"},{"mcc":"7833","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Кінотеатри","fullDescription":"Експрес-оплата - Кінотеатр"},{"mcc":"7841","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Прокат відео","fullDescription":"Прокат DVD / Відео касет"},{"mcc":"7911","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Танцювальні студії. Школи танцю","fullDescription":"Танцювальні зали, школи та студії"},{"mcc":"7922","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Квитки","fullDescription":"Театральні продюсери (крім кінофільмів), квиткові агентства"},{"mcc":"7929","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Музичні групи. Оркестри","fullDescription":"Групи, оркестри та різноманітні артисти"},{"mcc":"7932","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Більярд","fullDescription":"Більярд-клуби"},{"mcc":"7933","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Боулінг-клуби","fullDescription":"Боулінг-клуби"},{"mcc":"7941","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Спортклуби","fullDescription":"Атлетичні поля, комерційні види спорту, професійні спортивні клуби, промоутери спорту"},{"mcc":"7991","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Туризм","fullDescription":"Туристичні пам'ятки та експонати"},{"mcc":"7992","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Гольф","fullDescription":"Публічні поля для гольфу"},{"mcc":"7993","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Відеоігри","fullDescription":"Аксесуари для відеоігор"},{"mcc":"7994","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Відеоігри","fullDescription":"Клуби відеоігор"},{"mcc":"7995","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Азартні ігри","fullDescription":"Азартні ігри, ставки"},{"mcc":"7996","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Розваги","fullDescription":"Парки атракціонів, карнавали, цирки, ворожки"},{"mcc":"7997","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Розваги та спорт","fullDescription":"Клуби - заміські клуби, членство (відпочинок, спорт), приватні поля для гольфу"},{"mcc":"7998","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Акваріуми. Дельфінарії","fullDescription":"Акваріуми, дельфінарії, зоопарки і морські парки"},{"mcc":"7999","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Розваги та спорт","fullDescription":"Послуги з відпочинку"},{"mcc":"8011","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Медецина","fullDescription":"Лікарі"},{"mcc":"8021","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Стоматологія","fullDescription":"Стоматологи та ортодонти"},{"mcc":"8031","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Медецина","fullDescription":"Лікарі-остеопати"},{"mcc":"8041","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Хіропрактики","fullDescription":"Хіропрактики"},{"mcc":"8042","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Оптика","fullDescription":"Оптометристи та офтальмологи"},{"mcc":"8043","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Оптика","fullDescription":"Оптики, оптичні товари та окуляри"},{"mcc":"8044","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Оптика","fullDescription":"Оптичні товари та окуляри"},{"mcc":"8049","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Ортопеди","fullDescription":"Ортопеди"},{"mcc":"8050","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Доглядальниці","fullDescription":"Послуги по догляду та особистої гігієни"},{"mcc":"8062","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Лікарні","fullDescription":"Лікарні"},{"mcc":"8071","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Медицина та стоматологія","fullDescription":"Стоматологічна та медична лабораторії"},{"mcc":"8099","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Медичні послуги","fullDescription":"Медичні працівники, медичні послуги"},{"mcc":"8110","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Юристи. Адвокати","fullDescription":"Адвокати, юридичні послуги"},{"mcc":"8111","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Юристи. Адвокати","fullDescription":"Адвокати, юридичні послуги"},{"mcc":"8211","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Школа","fullDescription":"Початкові та середні школи"},{"mcc":"8220","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Освіта. Університет","fullDescription":"Коледжі, університети, професійні училища та технікуми"},{"mcc":"8241","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Дистанційна освіта","fullDescription":"Школи, заочна / дистанційна освіта"},{"mcc":"8244","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Освіта. Бізнес","fullDescription":"Бізнес / секретарські школи"},{"mcc":"8249","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Освіта","fullDescription":"Професійні школи і училища"},{"mcc":"8299","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Освіта","fullDescription":"Школи та освітні послуги"},{"mcc":"8351","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Дитячий садок","fullDescription":"Послуги з догляду за дітьми"},{"mcc":"8398","group":{"type":"MO","description":"Членські організації"},"shortDescription":"Благодійність","fullDescription":"Організації, благодійні та соціальні служби"},{"mcc":"8641","group":{"type":"MO","description":"Членські організації"},"shortDescription":"Громадські організації","fullDescription":"Цивільні, соціальні та братські асоціації"},{"mcc":"8651","group":{"type":"MO","description":"Членські організації"},"shortDescription":"Політичні організації","fullDescription":"Політичні організації"},{"mcc":"8661","group":{"type":"MO","description":"Членські організації"},"shortDescription":"Релігійні організації","fullDescription":"Релігійні організації"},{"mcc":"8664","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Різне","fullDescription":"Різне"},{"mcc":"8675","group":{"type":"MO","description":"Членські організації"},"shortDescription":"Автоклуб","fullDescription":"Автомобільні асоціації"},{"mcc":"8699","group":{"type":"MO","description":"Членські організації"},"shortDescription":"Членські організації","fullDescription":"Членські організації"},{"mcc":"8734","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Випробувальні лабораторії","fullDescription":"Випробувальні лабораторії (немедичні)"},{"mcc":"8743","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Випробувальні лабораторії","fullDescription":"Випробувальні лабораторії (немедичні)"},{"mcc":"8911","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Архітектори","fullDescription":"Архітектурні, інженерні та геодезичні послуги"},{"mcc":"8931","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Бухгалтерія. Аудит","fullDescription":"Аудит і бухгалтерський облік"},{"mcc":"8999","group":{"type":"PFS","description":"Професійні послуги"},"shortDescription":"Професійні послуги","fullDescription":"Професійні послуги"},{"mcc":"9034","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"I-Purchasing Pilot","fullDescription":"I-Purchasing Pilot"},{"mcc":"9211","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Суд","fullDescription":"Судові виплати, включаючи аліменти і дитячу підтримку"},{"mcc":"9222","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Штрафи","fullDescription":"Штрафи"},{"mcc":"9223","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Виплати. Облігації","fullDescription":"Сплата застави та облігацій"},{"mcc":"9311","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Податки","fullDescription":"Податкові платежі"},{"mcc":"9399","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Державні послуги","fullDescription":"Державні послуги"},{"mcc":"9401","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"I-Purchasing Pilot","fullDescription":"I-Purchasing Pilot"},{"mcc":"9402","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Пошта","fullDescription":"Поштові послуги - тільки уряд"},{"mcc":"9405","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Урядові закупівлі","fullDescription":"Внутрішньодержавні закупівлі - тільки уряд"},{"mcc":"9406","group":{"type":"ES","description":"Послуги в сфері розваг"},"shortDescription":"Державна лотерея","fullDescription":"Державні лотереї (крім США)"},{"mcc":"9411","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Державні послуги","fullDescription":"Платежі по державному займу"},{"mcc":"9700","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Кешбек","fullDescription":"Автоматизована реферальна служба"},{"mcc":"9701","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"VISA","fullDescription":"Служба перевірки облікових даних Visa (тільки VISA)"},{"mcc":"9702","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Аварійні служби","fullDescription":"Аварійні служби GCAS (тільки VISA)"},{"mcc":"9751","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Документообіг","fullDescription":"Супермаркети (Великобританія)"},{"mcc":"9752","group":{"type":"WSM","description":"Оптові постачальники і виробники"},"shortDescription":"Документообіг","fullDescription":"Автозаправні станції (Великобританія)"},{"mcc":"9754","group":{"type":"GS","description":"Державні послуги"},"shortDescription":"Скачки","fullDescription":"Кінські / собачі перегони"},{"mcc":"9950","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Купівлі всередині компанії","fullDescription":"Покупки всередині компанії"},{"mcc":"9999","group":{"type":"NC","description":"Не категоризовано"},"shortDescription":"Різне","fullDescription":"Різне"}]`),CM=n=>{var t;return(t=y3.find(({mcc:e})=>String(n)===e))==null?void 0:t.shortDescription},x5=()=>{const n=y3.map(({mcc:e})=>e).map(Number),t=Math.floor(Math.random()*n.length);return n[t]},ln={title:()=>"Візуалізатор транзакцій",sidebar:{title:()=>"Записи транзакцій",group:{imported:{title:()=>"Імпортовані транзакції"},generated:{title:()=>"Згенеровані транзакції"}},statementItem:{title:(n,t)=>`З ${gl(n)} по ${gl(t)}`,subtitle:n=>`Кількість транзакцій: ${n}`,actions:{show:()=>"Показати",delete:()=>"Видалити"}},resetSelectionButton:{text:()=>"Cкинути вибір"}},visualizationSwitch:{tabs:{income:()=>"Надходження",expense:()=>"Витрати"}},generateTransactionsButton:{text:()=>"Згенерувати транзакції"},importTransactionsButton:{text:()=>"Імпорт CSV"},importTransactionsDialog:{importSuccess:()=>"Файл для імпорту завантажено",importSuccessDescription:(n,t,e)=>`Імпортовано ${n} транзакцій з ${gl(t)} по ${gl(e)}`,preview:{caption:()=>"Попередній перегляд імпортованих транзакцій",columns:{date:()=>"Дата",amount:()=>"Сума",description:()=>"Опис",category:()=>"Категорія"}},confirmButton:()=>"Імпортувати",cancelButton:()=>"Скасувати",importAnotherFileLabel:()=>"Імпортувати інший файл",importError:()=>"Помилка імпорту транзакцій",importErrorDescription:()=>'Транзакції мають бути у форматі CSV з такими колонками: "Дата i час операції", "Сума в валюті картки", "Деталі операції", "MCC".',expectedFormat:{caption:()=>"Приклад очікуваного формату",columns:{date:()=>"Дата i час операції",amount:()=>"Сума в валюті картки",description:()=>"Деталі операції",mcc:()=>"MCC"},data:[{date:"27.04.2025 12:00:00",amount:"100.00",description:"Tранзакція 1",mcc:"1234"},{date:"12.04.2025 12:02:00",amount:"-200.00",description:"Транзакція 2",mcc:"3421"}]}},preview:{statement:{income:{title:()=>"Надходження",description:(n,t)=>`З ${gl(n)} по ${gl(t)}`,transactionsCount:n=>`Кількість транзакцій: ${n}`,totalAmount:n=>`Загальна сума: ${n}`},expense:{title:()=>"Витрати",description:(n,t)=>`З ${gl(n)} по ${gl(t)}`,transactionsCount:n=>`Кількість транзакцій: ${n}`,totalAmount:n=>`Загальна сума: ${n}`}},category:{title:n=>`Категорія - ${CM(n)??"Невідома категорія"}`,description:n=>`MCC: ${n}`,transactionsCount:n=>`Кількість транзакцій: ${n}`,totalAmount:n=>`Загальна сума: ${n}`},transaction:{title:n=>`Транзакція - ${gl(n)}`,description:n=>`Категорія: ${CM(n)??"Невідома категорія"}`,amount:n=>`Сума: ${n}`,details:n=>`Деталі: ${n}`}},unknownMcc:()=>"Невідома категорія"};var jg=(n=>(n.imported="imported",n.generated="generated",n))(jg||{}),Ji=(n=>(n.income="income",n.expense="expense",n))(Ji||{});const Au=(n,t)=>Math.floor(Math.random()*(t-n+1))+n,OM=n=>new Date(Math.min(...n.map(t=>t.date.getTime()))),NM=n=>new Date(Math.max(...n.map(t=>t.date.getTime()))),b5=n=>CM(n.mcc)??ln.unknownMcc(),S5=n=>({...n,date:A_(n.date)}),M5=n=>({...n,date:D_(n.date)}),E5=({categoriesCount:n,transactionsCount:t,transactionsPerCategory:e})=>{const i=Array.from({length:Au(n.from,n.to)},x5),r=[];return i.forEach(a=>{const l=Au(e.from,e.to);for(let u=0;u<l;u++){const h=new Date(Date.now()-Au(0,31536e6));r.push({date:h,mcc:a,details:"Згенерована транзакція",operation:Au(0,1)===0?Ji.income:Ji.expense,amount:Au(1,1e4)})}}),r.sort(()=>Math.random()-.5).slice(0,Au(t.from,t.to))},AT=n=>({...n,fromDate:A_(n.fromDate),toDate:A_(n.toDate),addedDate:A_(n.addedDate),transactions:n.transactions.map(S5)}),_3=n=>({...n,fromDate:D_(n.fromDate),toDate:D_(n.toDate),addedDate:D_(n.addedDate),transactions:n.transactions.map(M5)}),TT=n=>{let t;const e=new Set,i=(p,m)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const _=t;t=m??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(b=>b(t,_))}},r=()=>t,u={setState:i,getState:r,getInitialState:()=>h,subscribe:p=>(e.add(p),()=>e.delete(p))},h=t=n(i,r,u);return u},x3=n=>n?TT(n):TT,D5=n=>n;function A5(n,t=D5){const e=bo.useSyncExternalStore(n.subscribe,()=>t(n.getState()),()=>t(n.getInitialState()));return bo.useDebugValue(e),e}const T5=n=>{const t=x3(n),e=i=>A5(t,i);return Object.assign(e,t),e},b3=n=>T5,wT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},LM=new Map,p0=n=>{const t=LM.get(n);return t?Object.fromEntries(Object.entries(t.stores).map(([e,i])=>[e,i.getState()])):{}},w5=(n,t,e)=>{if(n===void 0)return{type:"untracked",connection:t.connect(e)};const i=LM.get(e.name);if(i)return{type:"tracked",store:n,...i};const r={connection:t.connect(e),stores:{}};return LM.set(e.name,r),{type:"tracked",store:n,...r}},R5=(n,t={})=>(e,i,r)=>{const{enabled:a,anonymousActionType:l,store:u,...h}=t;let p;try{p=(a??(wT?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!p)return n(e,i,r);const{connection:m,...v}=w5(u,p,h);let _=!0;r.setState=(A,M,x)=>{const T=e(A,M);if(!_)return T;const R=x===void 0?{type:l||"anonymous"}:typeof x=="string"?{type:x}:x;return u===void 0?(m==null||m.send(R,i()),T):(m==null||m.send({...R,type:`${u}/${R.type}`},{...p0(h.name),[u]:r.getState()}),T)};const b=(...A)=>{const M=_;_=!1,e(...A),_=M},S=n(r.setState,i,r);if(v.type==="untracked"?m==null||m.init(S):(v.stores[v.store]=r,m==null||m.init(Object.fromEntries(Object.entries(v.stores).map(([A,M])=>[A,A===v.store?S:M.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let A=!1;const M=r.dispatch;r.dispatch=(...x)=>{(wT?"production":void 0)!=="production"&&x[0].type==="__setState"&&!A&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),A=!0),M(...x)}}return m.subscribe(A=>{var M;switch(A.type){case"ACTION":if(typeof A.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return ZS(A.payload,x=>{if(x.type==="__setState"){if(u===void 0){b(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const T=x.state[u];if(T==null)return;JSON.stringify(r.getState())!==JSON.stringify(T)&&b(T);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(x)});case"DISPATCH":switch(A.payload.type){case"RESET":return b(S),u===void 0?m==null?void 0:m.init(r.getState()):m==null?void 0:m.init(p0(h.name));case"COMMIT":if(u===void 0){m==null||m.init(r.getState());return}return m==null?void 0:m.init(p0(h.name));case"ROLLBACK":return ZS(A.state,x=>{if(u===void 0){b(x),m==null||m.init(r.getState());return}b(x[u]),m==null||m.init(p0(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return ZS(A.state,x=>{if(u===void 0){b(x);return}JSON.stringify(r.getState())!==JSON.stringify(x[u])&&b(x[u])});case"IMPORT_STATE":{const{nextLiftedState:x}=A.payload,T=(M=x.computedStates.slice(-1)[0])==null?void 0:M.state;if(!T)return;b(u===void 0?T:T[u]),m==null||m.send(null,x);return}case"PAUSE_RECORDING":return _=!_}return}}),S},S3=R5,ZS=(n,t)=>{let e;try{e=JSON.parse(n)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}e!==void 0&&t(e)};function C5(n,t){let e;try{e=n()}catch{return}return{getItem:r=>{var a;const l=h=>h===null?null:JSON.parse(h,void 0),u=(a=e.getItem(r))!=null?a:null;return u instanceof Promise?u.then(l):l(u)},setItem:(r,a)=>e.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>e.removeItem(r)}}const UM=n=>t=>{try{const e=n(t);return e instanceof Promise?e:{then(i){return UM(i)(e)},catch(i){return this}}}catch(e){return{then(i){return this},catch(i){return UM(i)(e)}}}},O5=(n,t)=>(e,i,r)=>{let a={storage:C5(()=>localStorage),partialize:A=>A,version:0,merge:(A,M)=>({...M,...A}),...t},l=!1;const u=new Set,h=new Set;let p=a.storage;if(!p)return n((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...A)},i,r);const m=()=>{const A=a.partialize({...i()});return p.setItem(a.name,{state:A,version:a.version})},v=r.setState;r.setState=(A,M)=>{v(A,M),m()};const _=n((...A)=>{e(...A),m()},i,r);r.getInitialState=()=>_;let b;const S=()=>{var A,M;if(!p)return;l=!1,u.forEach(T=>{var R;return T((R=i())!=null?R:_)});const x=((M=a.onRehydrateStorage)==null?void 0:M.call(a,(A=i())!=null?A:_))||void 0;return UM(p.getItem.bind(p))(a.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==a.version){if(a.migrate){const R=a.migrate(T.state,T.version);return R instanceof Promise?R.then(O=>[!0,O]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var R;const[O,I]=T;if(b=a.merge(I,(R=i())!=null?R:_),e(b,!0),O)return m()}).then(()=>{x==null||x(b,void 0),b=i(),l=!0,h.forEach(T=>T(b))}).catch(T=>{x==null||x(void 0,T)})};return r.persist={setOptions:A=>{a={...a,...A},A.storage&&(p=A.storage)},clearStorage:()=>{p==null||p.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:A=>(u.add(A),()=>{u.delete(A)}),onFinishHydration:A=>(h.add(A),()=>{h.delete(A)})},a.skipHydration||S(),b||_},N5=O5,M3=n=>{const t=n;t.use={};for(const e of Object.keys(t.getState()))t.use[e]=()=>t(i=>i[e]);return t},L5=b3()(S3(N5(n=>({activeStatementId:void 0,statements:{},setActiveStatement:t=>n(()=>({activeStatementId:t})),resetActiveStatement:()=>n(()=>({activeStatementId:void 0})),importStatement:t=>{const e=crypto.randomUUID();return n(i=>({statements:{...i.statements,[e]:AT({id:e,type:jg.imported,transactions:t,addedDate:new Date,fromDate:OM(t),toDate:NM(t)})}})),e},generateStatement:()=>{const t=crypto.randomUUID(),e=E5({categoriesCount:{from:5,to:15},transactionsCount:{from:50,to:250},transactionsPerCategory:{from:2,to:20}});return n(i=>({statements:{...i.statements,[t]:AT({id:t,type:jg.generated,transactions:e,addedDate:new Date,fromDate:OM(e),toDate:NM(e)})}})),t},removeStatement:t=>n(e=>{const{[t]:i,...r}=e.statements,a=e.activeStatementId===i.id?void 0:e.activeStatementId;return{statements:r,activeStatementId:a}})}),{name:"statements-store"}))),yc=M3(L5),E3=()=>{const n=yc.use.statements();return Y.useMemo(()=>Object.values(n).map(_3).filter(Boolean).sort((t,e)=>t.addedDate.getTime()-e.addedDate.getTime()),[n])},U5=()=>{const n=E3();return Y.useMemo(()=>n.filter(t=>t.type===jg.imported),[n])},P5=()=>{const n=E3();return Y.useMemo(()=>n.filter(t=>t.type===jg.generated),[n])},I5=n=>yc.use.activeStatementId()===n,z5=()=>{const n=yc.use.activeStatementId();return Y.useMemo(()=>n!==void 0,[n])},D3=()=>{const n=yc.use.activeStatementId(),t=yc.use.statements();return Y.useMemo(()=>n&&t[n]?_3(t[n]):void 0,[n,t])};function B5(){const{generateStatement:n}=yc();return W.jsxs(tp,{className:"text-sm py-1 px-2",onClick:n,children:[W.jsx(jP,{}),ln.generateTransactionsButton.text()]})}function H5({...n}){return W.jsx(RC,{"data-slot":"dialog",...n})}function F5({...n}){return W.jsx(CC,{"data-slot":"dialog-portal",...n})}function V5({className:n,...t}){return W.jsx(OC,{"data-slot":"dialog-overlay",className:un("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...t})}function RT({className:n,children:t,...e}){return W.jsxs(F5,{"data-slot":"dialog-portal",children:[W.jsx(V5,{}),W.jsxs(NC,{"data-slot":"dialog-content",className:un("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200",n),...e,children:[t,W.jsxs(PC,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[W.jsx(k2,{}),W.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function CT({className:n,...t}){return W.jsx("div",{"data-slot":"dialog-header",className:un("flex flex-col gap-2 text-center sm:text-left",n),...t})}function OT({className:n,...t}){return W.jsx(LC,{"data-slot":"dialog-title",className:un("text-lg leading-none font-semibold",n),...t})}function NT({className:n,...t}){return W.jsx(UC,{"data-slot":"dialog-description",className:un("text-muted-foreground text-sm",n),...t})}var k5="Label",A3=Y.forwardRef((n,t)=>W.jsx(gi.label,{...n,ref:t,onMouseDown:e=>{var r;e.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));A3.displayName=k5;var G5=A3;function j5({className:n,...t}){return W.jsx(G5,{"data-slot":"label",className:un("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...t})}function LT({className:n,...t}){return W.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:W.jsx("table",{"data-slot":"table",className:un("w-full caption-bottom text-sm",n),...t})})}function UT({className:n,...t}){return W.jsx("thead",{"data-slot":"table-header",className:un("[&_tr]:border-b",n),...t})}function PT({className:n,...t}){return W.jsx("tbody",{"data-slot":"table-body",className:un("[&_tr:last-child]:border-0",n),...t})}function m0({className:n,...t}){return W.jsx("tr",{"data-slot":"table-row",className:un("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...t})}function mu({className:n,...t}){return W.jsx("th",{"data-slot":"table-head",className:un("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t})}function gu({className:n,...t}){return W.jsx("td",{"data-slot":"table-cell",className:un("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t})}function IT({className:n,...t}){return W.jsx("caption",{"data-slot":"table-caption",className:un("text-muted-foreground mt-4 text-sm",n),...t})}var T_={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var q5=T_.exports,zT;function X5(){return zT||(zT=1,function(n,t){((e,i)=>{n.exports=i()})(q5,function e(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r,a=!i.document&&!!i.postMessage,l=i.IS_PAPA_WORKER||!1,u={},h=0,p={};function m(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(L){var U=I(L);U.chunkSize=parseInt(U.chunkSize),L.step||L.chunk||(U.chunkSize=null),this._handle=new A(U),(this._handle.streamer=this)._config=U}).call(this,N),this.parseChunk=function(L,U){var F=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<F){let tt=this._config.newline;tt||(K=this._config.quoteChar||'"',tt=this._handle.guessLineEndings(L,K)),L=[...L.split(tt).slice(F)].join(tt)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(K=this._config.beforeFirstChunk(L))!==void 0&&(L=K),this.isFirstChunk=!1,this._halted=!1;var F=this._partialLine+L,K=(this._partialLine="",this._handle.parse(F,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(L=K.meta.cursor,F=(this._finished||(this._partialLine=F.substring(L-this._baseIndex),this._baseIndex=L),K&&K.data&&(this._rowCount+=K.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)i.postMessage({results:K,workerId:p.WORKER_ID,finished:F});else if(B(this._config.chunk)&&!U){if(this._config.chunk(K,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=K=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(K.data),this._completeResults.errors=this._completeResults.errors.concat(K.errors),this._completeResults.meta=K.meta),this._completed||!F||!B(this._config.complete)||K&&K.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||K&&K.meta.paused||this._nextChunk(),K}this._halted=!0},this._sendError=function(L){B(this._config.error)?this._config.error(L):l&&this._config.error&&i.postMessage({workerId:p.WORKER_ID,error:L,finished:!1})}}function v(N){var L;(N=N||{}).chunkSize||(N.chunkSize=p.RemoteChunkSize),m.call(this,N),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(L=new XMLHttpRequest,this._config.withCredentials&&(L.withCredentials=this._config.withCredentials),a||(L.onload=P(this._chunkLoaded,this),L.onerror=P(this._chunkError,this)),L.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var U,F=this._config.downloadRequestHeaders;for(U in F)L.setRequestHeader(U,F[U])}var K;this._config.chunkSize&&(K=this._start+this._config.chunkSize-1,L.setRequestHeader("Range","bytes="+this._start+"-"+K));try{L.send(this._config.downloadRequestBody)}catch(tt){this._chunkError(tt.message)}a&&L.status===0&&this._chunkError()}},this._chunkLoaded=function(){L.readyState===4&&(L.status<200||400<=L.status?this._chunkError():(this._start+=this._config.chunkSize||L.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(L),this.parseChunk(L.responseText)))},this._chunkError=function(U){U=L.statusText||U,this._sendError(new Error(U))}}function _(N){(N=N||{}).chunkSize||(N.chunkSize=p.LocalChunkSize),m.call(this,N);var L,U,F=typeof FileReader<"u";this.stream=function(K){this._input=K,U=K.slice||K.webkitSlice||K.mozSlice,F?((L=new FileReader).onload=P(this._chunkLoaded,this),L.onerror=P(this._chunkError,this)):L=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var K=this._input,tt=(this._config.chunkSize&&(tt=Math.min(this._start+this._config.chunkSize,this._input.size),K=U.call(K,this._start,tt)),L.readAsText(K,this._config.encoding));F||this._chunkLoaded({target:{result:tt}})},this._chunkLoaded=function(K){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(K.target.result)},this._chunkError=function(){this._sendError(L.error)}}function b(N){var L;m.call(this,N=N||{}),this.stream=function(U){return L=U,this._nextChunk()},this._nextChunk=function(){var U,F;if(!this._finished)return U=this._config.chunkSize,L=U?(F=L.substring(0,U),L.substring(U)):(F=L,""),this._finished=!L,this.parseChunk(F)}}function S(N){m.call(this,N=N||{});var L=[],U=!0,F=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(K){this._input=K,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&L.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),L.length?this.parseChunk(L.shift()):U=!0},this._streamData=P(function(K){try{L.push(typeof K=="string"?K:K.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(L.shift()))}catch(tt){this._streamError(tt)}},this),this._streamError=P(function(K){this._streamCleanUp(),this._sendError(K)},this),this._streamEnd=P(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(N){var L,U,F,K,tt=Math.pow(2,53),nt=-tt,at=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,k=this,V=0,Q=0,j=!1,st=!1,ht=[],dt={data:[],errors:[],meta:{}};function $(xt){return N.skipEmptyLines==="greedy"?xt.join("").trim()==="":xt.length===1&&xt[0].length===0}function ft(){if(dt&&F&&(pt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),F=!1),N.skipEmptyLines&&(dt.data=dt.data.filter(function(le){return!$(le)})),lt()){let le=function(ce,et){B(N.transformHeader)&&(ce=N.transformHeader(ce,et)),ht.push(ce)};var Kt=le;if(dt)if(Array.isArray(dt.data[0])){for(var xt=0;lt()&&xt<dt.data.length;xt++)dt.data[xt].forEach(le);dt.data.splice(0,1)}else dt.data.forEach(le)}function Ct(le,ce){for(var et=N.header?{}:[],Wt=0;Wt<le.length;Wt++){var Ut=Wt,Xt=le[Wt],Xt=((It,ue)=>(Zt=>(N.dynamicTypingFunction&&N.dynamicTyping[Zt]===void 0&&(N.dynamicTyping[Zt]=N.dynamicTypingFunction(Zt)),(N.dynamicTyping[Zt]||N.dynamicTyping)===!0))(It)?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&((Zt=>{if(at.test(Zt)&&(Zt=parseFloat(Zt),nt<Zt&&Zt<tt))return 1})(ue)?parseFloat(ue):H.test(ue)?new Date(ue):ue===""?null:ue):ue)(Ut=N.header?Wt>=ht.length?"__parsed_extra":ht[Wt]:Ut,Xt=N.transform?N.transform(Xt,Ut):Xt);Ut==="__parsed_extra"?(et[Ut]=et[Ut]||[],et[Ut].push(Xt)):et[Ut]=Xt}return N.header&&(Wt>ht.length?pt("FieldMismatch","TooManyFields","Too many fields: expected "+ht.length+" fields but parsed "+Wt,Q+ce):Wt<ht.length&&pt("FieldMismatch","TooFewFields","Too few fields: expected "+ht.length+" fields but parsed "+Wt,Q+ce)),et}var Ht;dt&&(N.header||N.dynamicTyping||N.transform)&&(Ht=1,!dt.data.length||Array.isArray(dt.data[0])?(dt.data=dt.data.map(Ct),Ht=dt.data.length):dt.data=Ct(dt.data,0),N.header&&dt.meta&&(dt.meta.fields=ht),Q+=Ht)}function lt(){return N.header&&ht.length===0}function pt(xt,Ct,Ht,Kt){xt={type:xt,code:Ct,message:Ht},Kt!==void 0&&(xt.row=Kt),dt.errors.push(xt)}B(N.step)&&(K=N.step,N.step=function(xt){dt=xt,lt()?ft():(ft(),dt.data.length!==0&&(V+=xt.data.length,N.preview&&V>N.preview?U.abort():(dt.data=dt.data[0],K(dt,k))))}),this.parse=function(xt,Ct,Ht){var Kt=N.quoteChar||'"',Kt=(N.newline||(N.newline=this.guessLineEndings(xt,Kt)),F=!1,N.delimiter?B(N.delimiter)&&(N.delimiter=N.delimiter(xt),dt.meta.delimiter=N.delimiter):((Kt=((le,ce,et,Wt,Ut)=>{var Xt,It,ue,Zt;Ut=Ut||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var ot=0;ot<Ut.length;ot++){for(var Z,Dt=Ut[ot],Ft=0,Qt=0,Nt=0,de=(ue=void 0,new x({comments:Wt,delimiter:Dt,newline:ce,preview:10}).parse(le)),fe=0;fe<de.data.length;fe++)et&&$(de.data[fe])?Nt++:(Z=de.data[fe].length,Qt+=Z,ue===void 0?ue=Z:0<Z&&(Ft+=Math.abs(Z-ue),ue=Z));0<de.data.length&&(Qt/=de.data.length-Nt),(It===void 0||Ft<=It)&&(Zt===void 0||Zt<Qt)&&1.99<Qt&&(It=Ft,Xt=Dt,Zt=Qt)}return{successful:!!(N.delimiter=Xt),bestDelimiter:Xt}})(xt,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=Kt.bestDelimiter:(F=!0,N.delimiter=p.DefaultDelimiter),dt.meta.delimiter=N.delimiter),I(N));return N.preview&&N.header&&Kt.preview++,L=xt,U=new x(Kt),dt=U.parse(L,Ct,Ht),ft(),j?{meta:{paused:!0}}:dt||{meta:{paused:!1}}},this.paused=function(){return j},this.pause=function(){j=!0,U.abort(),L=B(N.chunk)?"":L.substring(U.getCharIndex())},this.resume=function(){k.streamer._halted?(j=!1,k.streamer.parseChunk(L,!0)):setTimeout(k.resume,3)},this.aborted=function(){return st},this.abort=function(){st=!0,U.abort(),dt.meta.aborted=!0,B(N.complete)&&N.complete(dt),L=""},this.guessLineEndings=function(le,Kt){le=le.substring(0,1048576);var Kt=new RegExp(M(Kt)+"([^]*?)"+M(Kt),"gm"),Ht=(le=le.replace(Kt,"")).split("\r"),Kt=le.split(`
`),le=1<Kt.length&&Kt[0].length<Ht[0].length;if(Ht.length===1||le)return`
`;for(var ce=0,et=0;et<Ht.length;et++)Ht[et][0]===`
`&&ce++;return ce>=Ht.length/2?`\r
`:"\r"}}function M(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(N){var L=(N=N||{}).delimiter,U=N.newline,F=N.comments,K=N.step,tt=N.preview,nt=N.fastMode,at=null,H=!1,k=N.quoteChar==null?'"':N.quoteChar,V=k;if(N.escapeChar!==void 0&&(V=N.escapeChar),(typeof L!="string"||-1<p.BAD_DELIMITERS.indexOf(L))&&(L=","),F===L)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||-1<p.BAD_DELIMITERS.indexOf(F))&&(F=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var Q=0,j=!1;this.parse=function(st,ht,dt){if(typeof st!="string")throw new Error("Input must be a string");var $=st.length,ft=L.length,lt=U.length,pt=F.length,xt=B(K),Ct=[],Ht=[],Kt=[],le=Q=0;if(!st)return Ft();if(nt||nt!==!1&&st.indexOf(k)===-1){for(var ce=st.split(U),et=0;et<ce.length;et++){if(Kt=ce[et],Q+=Kt.length,et!==ce.length-1)Q+=U.length;else if(dt)return Ft();if(!F||Kt.substring(0,pt)!==F){if(xt){if(Ct=[],Zt(Kt.split(L)),Qt(),j)return Ft()}else Zt(Kt.split(L));if(tt&&tt<=et)return Ct=Ct.slice(0,tt),Ft(!0)}}return Ft()}for(var Wt=st.indexOf(L,Q),Ut=st.indexOf(U,Q),Xt=new RegExp(M(V)+M(k),"g"),It=st.indexOf(k,Q);;)if(st[Q]===k)for(It=Q,Q++;;){if((It=st.indexOf(k,It+1))===-1)return dt||Ht.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ct.length,index:Q}),Z();if(It===$-1)return Z(st.substring(Q,It).replace(Xt,k));if(k===V&&st[It+1]===V)It++;else if(k===V||It===0||st[It-1]!==V){Wt!==-1&&Wt<It+1&&(Wt=st.indexOf(L,It+1));var ue=ot((Ut=Ut!==-1&&Ut<It+1?st.indexOf(U,It+1):Ut)===-1?Wt:Math.min(Wt,Ut));if(st.substr(It+1+ue,ft)===L){Kt.push(st.substring(Q,It).replace(Xt,k)),st[Q=It+1+ue+ft]!==k&&(It=st.indexOf(k,Q)),Wt=st.indexOf(L,Q),Ut=st.indexOf(U,Q);break}if(ue=ot(Ut),st.substring(It+1+ue,It+1+ue+lt)===U){if(Kt.push(st.substring(Q,It).replace(Xt,k)),Dt(It+1+ue+lt),Wt=st.indexOf(L,Q),It=st.indexOf(k,Q),xt&&(Qt(),j))return Ft();if(tt&&Ct.length>=tt)return Ft(!0);break}Ht.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ct.length,index:Q}),It++}}else if(F&&Kt.length===0&&st.substring(Q,Q+pt)===F){if(Ut===-1)return Ft();Q=Ut+lt,Ut=st.indexOf(U,Q),Wt=st.indexOf(L,Q)}else if(Wt!==-1&&(Wt<Ut||Ut===-1))Kt.push(st.substring(Q,Wt)),Q=Wt+ft,Wt=st.indexOf(L,Q);else{if(Ut===-1)break;if(Kt.push(st.substring(Q,Ut)),Dt(Ut+lt),xt&&(Qt(),j))return Ft();if(tt&&Ct.length>=tt)return Ft(!0)}return Z();function Zt(Nt){Ct.push(Nt),le=Q}function ot(Nt){var de=0;return de=Nt!==-1&&(Nt=st.substring(It+1,Nt))&&Nt.trim()===""?Nt.length:de}function Z(Nt){return dt||(Nt===void 0&&(Nt=st.substring(Q)),Kt.push(Nt),Q=$,Zt(Kt),xt&&Qt()),Ft()}function Dt(Nt){Q=Nt,Zt(Kt),Kt=[],Ut=st.indexOf(U,Q)}function Ft(Nt){if(N.header&&!ht&&Ct.length&&!H){var de=Ct[0],fe={},Me=new Set(de);let He=!1;for(let oe=0;oe<de.length;oe++){let ge=de[oe];if(fe[ge=B(N.transformHeader)?N.transformHeader(ge,oe):ge]){let Ae,De=fe[ge];for(;Ae=ge+"_"+De,De++,Me.has(Ae););Me.add(Ae),de[oe]=Ae,fe[ge]++,He=!0,(at=at===null?{}:at)[Ae]=ge}else fe[ge]=1,de[oe]=ge;Me.add(ge)}He&&console.warn("Duplicate headers found and renamed."),H=!0}return{data:Ct,errors:Ht,meta:{delimiter:L,linebreak:U,aborted:j,truncated:!!Nt,cursor:le+(ht||0),renamedHeaders:at}}}function Qt(){K(Ft()),Ct=[],Ht=[]}},this.abort=function(){j=!0},this.getCharIndex=function(){return Q}}function T(N){var L=N.data,U=u[L.workerId],F=!1;if(L.error)U.userError(L.error,L.file);else if(L.results&&L.results.data){var K={abort:function(){F=!0,R(L.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(B(U.userStep)){for(var tt=0;tt<L.results.data.length&&(U.userStep({data:L.results.data[tt],errors:L.results.errors,meta:L.results.meta},K),!F);tt++);delete L.results}else B(U.userChunk)&&(U.userChunk(L.results,K,L.file),delete L.results)}L.finished&&!F&&R(L.workerId,L.results)}function R(N,L){var U=u[N];B(U.userComplete)&&U.userComplete(L),U.terminate(),delete u[N]}function O(){throw new Error("Not implemented.")}function I(N){if(typeof N!="object"||N===null)return N;var L,U=Array.isArray(N)?[]:{};for(L in N)U[L]=I(N[L]);return U}function P(N,L){return function(){N.apply(L,arguments)}}function B(N){return typeof N=="function"}return p.parse=function(N,L){var U=(L=L||{}).dynamicTyping||!1;if(B(U)&&(L.dynamicTypingFunction=U,U={}),L.dynamicTyping=U,L.transform=!!B(L.transform)&&L.transform,!L.worker||!p.WORKERS_SUPPORTED)return U=null,p.NODE_STREAM_INPUT,typeof N=="string"?(N=(F=>F.charCodeAt(0)!==65279?F:F.slice(1))(N),U=new(L.download?v:b)(L)):N.readable===!0&&B(N.read)&&B(N.on)?U=new S(L):(i.File&&N instanceof File||N instanceof Object)&&(U=new _(L)),U.stream(N);(U=(()=>{var F;return!!p.WORKERS_SUPPORTED&&(F=(()=>{var K=i.URL||i.webkitURL||null,tt=e.toString();return p.BLOB_URL||(p.BLOB_URL=K.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",tt,")();"],{type:"text/javascript"})))})(),(F=new i.Worker(F)).onmessage=T,F.id=h++,u[F.id]=F)})()).userStep=L.step,U.userChunk=L.chunk,U.userComplete=L.complete,U.userError=L.error,L.step=B(L.step),L.chunk=B(L.chunk),L.complete=B(L.complete),L.error=B(L.error),delete L.worker,U.postMessage({input:N,config:L,workerId:U.id})},p.unparse=function(N,L){var U=!1,F=!0,K=",",tt=`\r
`,nt='"',at=nt+nt,H=!1,k=null,V=!1,Q=((()=>{if(typeof L=="object"){if(typeof L.delimiter!="string"||p.BAD_DELIMITERS.filter(function(ht){return L.delimiter.indexOf(ht)!==-1}).length||(K=L.delimiter),typeof L.quotes!="boolean"&&typeof L.quotes!="function"&&!Array.isArray(L.quotes)||(U=L.quotes),typeof L.skipEmptyLines!="boolean"&&typeof L.skipEmptyLines!="string"||(H=L.skipEmptyLines),typeof L.newline=="string"&&(tt=L.newline),typeof L.quoteChar=="string"&&(nt=L.quoteChar),typeof L.header=="boolean"&&(F=L.header),Array.isArray(L.columns)){if(L.columns.length===0)throw new Error("Option columns is empty");k=L.columns}L.escapeChar!==void 0&&(at=L.escapeChar+nt),L.escapeFormulae instanceof RegExp?V=L.escapeFormulae:typeof L.escapeFormulae=="boolean"&&L.escapeFormulae&&(V=/^[=+\-@\t\r].*$/)}})(),new RegExp(M(nt),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return j(null,N,H);if(typeof N[0]=="object")return j(k||Object.keys(N[0]),N,H)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||k),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),j(N.fields||[],N.data||[],H);throw new Error("Unable to serialize unrecognized input");function j(ht,dt,$){var ft="",lt=(typeof ht=="string"&&(ht=JSON.parse(ht)),typeof dt=="string"&&(dt=JSON.parse(dt)),Array.isArray(ht)&&0<ht.length),pt=!Array.isArray(dt[0]);if(lt&&F){for(var xt=0;xt<ht.length;xt++)0<xt&&(ft+=K),ft+=st(ht[xt],xt);0<dt.length&&(ft+=tt)}for(var Ct=0;Ct<dt.length;Ct++){var Ht=(lt?ht:dt[Ct]).length,Kt=!1,le=lt?Object.keys(dt[Ct]).length===0:dt[Ct].length===0;if($&&!lt&&(Kt=$==="greedy"?dt[Ct].join("").trim()==="":dt[Ct].length===1&&dt[Ct][0].length===0),$==="greedy"&&lt){for(var ce=[],et=0;et<Ht;et++){var Wt=pt?ht[et]:et;ce.push(dt[Ct][Wt])}Kt=ce.join("").trim()===""}if(!Kt){for(var Ut=0;Ut<Ht;Ut++){0<Ut&&!le&&(ft+=K);var Xt=lt&&pt?ht[Ut]:Ut;ft+=st(dt[Ct][Xt],Ut)}Ct<dt.length-1&&(!$||0<Ht&&!le)&&(ft+=tt)}}return ft}function st(ht,dt){var $,ft;return ht==null?"":ht.constructor===Date?JSON.stringify(ht).slice(1,25):(ft=!1,V&&typeof ht=="string"&&V.test(ht)&&(ht="'"+ht,ft=!0),$=ht.toString().replace(Q,at),(ft=ft||U===!0||typeof U=="function"&&U(ht,dt)||Array.isArray(U)&&U[dt]||((lt,pt)=>{for(var xt=0;xt<pt.length;xt++)if(-1<lt.indexOf(pt[xt]))return!0;return!1})($,p.BAD_DELIMITERS)||-1<$.indexOf(K)||$.charAt(0)===" "||$.charAt($.length-1)===" ")?nt+$+nt:$)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!a&&!!i.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=x,p.ParserHandle=A,p.NetworkStreamer=v,p.FileStreamer=_,p.StringStreamer=b,p.ReadableStreamStreamer=S,i.jQuery&&((r=i.jQuery).fn.parse=function(N){var L=N.config||{},U=[];return this.each(function(tt){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var nt=0;nt<this.files.length;nt++)U.push({file:this.files[nt],inputElem:this,instanceConfig:r.extend({},L)})}),F(),this;function F(){if(U.length===0)B(N.complete)&&N.complete();else{var tt,nt,at,H,k=U[0];if(B(N.before)){var V=N.before(k.file,k.inputElem);if(typeof V=="object"){if(V.action==="abort")return tt="AbortError",nt=k.file,at=k.inputElem,H=V.reason,void(B(N.error)&&N.error({name:tt},nt,at,H));if(V.action==="skip")return void K();typeof V.config=="object"&&(k.instanceConfig=r.extend(k.instanceConfig,V.config))}else if(V==="skip")return void K()}var Q=k.instanceConfig.complete;k.instanceConfig.complete=function(j){B(Q)&&Q(j,k.file,k.inputElem),K()},p.parse(k.file,k.instanceConfig)}}function K(){U.splice(0,1),F()}}),l&&(i.onmessage=function(N){N=N.data,p.WORKER_ID===void 0&&N&&(p.WORKER_ID=N.workerId),typeof N.input=="string"?i.postMessage({workerId:p.WORKER_ID,results:p.parse(N.input,N.config),finished:!0}):(i.File&&N.input instanceof File||N.input instanceof Object)&&(N=p.parse(N.input,N.config))&&i.postMessage({workerId:p.WORKER_ID,results:N,finished:!0})}),(v.prototype=Object.create(m.prototype)).constructor=v,(_.prototype=Object.create(m.prototype)).constructor=_,(b.prototype=Object.create(b.prototype)).constructor=b,(S.prototype=Object.create(m.prototype)).constructor=S,p})}(T_)),T_.exports}var Y5=X5();const W5=bc(Y5),Z5=n=>{const t=W5.parse(n,{header:!0,skipEmptyLines:!0});if(!t.errors.length)return K5(t)};function K5(n){const t=[];for(const e of n.data){const i=J5(e);if(!tH(i))return;t.push(i)}return t}const Q5=[n=>{const t=n["Дата i час операції"];return t?{date:_5(t)}:{}},n=>{const t=n["Деталі операції"];return t?{details:t}:{}},n=>{const t=n.MCC;return t?{mcc:parseInt(t)}:{}},n=>{const t=Object.keys(n).find(i=>i.startsWith("Сума в валюті картки"));if(!t)return{};const e=parseFloat(n[t]);return{amount:Math.abs(e),operation:e>0?Ji.income:Ji.expense}}],J5=n=>Object.values(Q5).reduce((t,e)=>({...t,...e(n)}),{}),$5=["date","details","mcc","amount","operation"],tH=n=>$5.every(t=>t in n&&n[t]!==void 0);function eH(){const[n,t]=Y.useState(!1),[e,i]=Y.useState(crypto.randomUUID()),r=Y.useRef(null),[a,l]=Y.useState(!1),[u,h]=Y.useState(),{importStatement:p}=yc(),m=()=>{t(!0),l(!0),i(crypto.randomUUID())},v=x=>{t(!0),l(!1),h(x),i(crypto.randomUUID())},_=x=>{var O;const T=(O=x.target.files)==null?void 0:O[0];if(!T)return;const R=new FileReader;R.onload=I=>{var N;const P=(N=I.target)==null?void 0:N.result;if(!P){m();return}const B=Z5(P);if(!(B!=null&&B.length)){m();return}v(B)},R.readAsText(T)},b=()=>{t(!1),l(!1),h(void 0)},S=()=>{u&&(p(u),t(!1),l(!1),h(void 0))},A=a&&W.jsxs(RT,{className:"w-[80%]",children:[W.jsxs(CT,{children:[W.jsx(OT,{children:ln.importTransactionsDialog.importError()}),W.jsx(NT,{children:ln.importTransactionsDialog.importErrorDescription()})]}),W.jsxs(LT,{children:[W.jsx(IT,{children:ln.importTransactionsDialog.expectedFormat.caption()}),W.jsx(UT,{children:W.jsxs(m0,{children:[W.jsx(mu,{children:ln.importTransactionsDialog.expectedFormat.columns.date()}),W.jsx(mu,{children:ln.importTransactionsDialog.expectedFormat.columns.description()}),W.jsx(mu,{className:"text-right",children:ln.importTransactionsDialog.expectedFormat.columns.amount()}),W.jsx(mu,{className:"text-right",children:ln.importTransactionsDialog.expectedFormat.columns.mcc()})]})}),W.jsx(PT,{children:ln.importTransactionsDialog.expectedFormat.data.map((x,T)=>W.jsxs(m0,{children:[W.jsx(gu,{children:x.date}),W.jsx(gu,{children:x.description}),W.jsx(gu,{className:"text-right",children:x.amount}),W.jsx(gu,{className:"text-right",children:x.mcc})]},T))})]}),W.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[W.jsx(j5,{htmlFor:"import-another-file",children:ln.importTransactionsDialog.importAnotherFileLabel()}),W.jsx(LI,{id:"import-another-file",type:"file",accept:".csv",onChange:_},e)]})]}),M=u&&W.jsx(RT,{className:"w-[80%]",children:W.jsxs(CT,{children:[W.jsx(OT,{children:ln.importTransactionsDialog.importSuccess()}),W.jsx(NT,{children:ln.importTransactionsDialog.importSuccessDescription(u.length,OM(u),NM(u))}),W.jsxs(LT,{children:[W.jsx(IT,{children:ln.importTransactionsDialog.preview.caption()}),W.jsx(UT,{children:W.jsxs(m0,{children:[W.jsx(mu,{children:ln.importTransactionsDialog.preview.columns.date()}),W.jsx(mu,{children:ln.importTransactionsDialog.preview.columns.description()}),W.jsx(mu,{className:"text-right",children:ln.importTransactionsDialog.preview.columns.amount()}),W.jsx(mu,{className:"text-right",children:ln.importTransactionsDialog.preview.columns.category()})]})}),W.jsx(PT,{children:u.slice(0,3).map((x,T)=>W.jsxs(m0,{children:[W.jsx(gu,{children:gl(x.date)}),W.jsx(gu,{children:x.details}),W.jsx(gu,{className:"text-right",children:x.operation===Ji.income?x.amount:-x.amount}),W.jsx(gu,{className:"text-right",children:b5(x)})]},T))})]}),W.jsxs("div",{className:"mt-3 flex gap-2 justify-between",children:[W.jsx(tp,{variant:"secondary",onClick:b,children:ln.importTransactionsDialog.cancelButton()}),W.jsx(tp,{onClick:S,children:ln.importTransactionsDialog.confirmButton()})]})]})});return W.jsxs(H5,{open:n,onOpenChange:x=>x?t(x):b(),children:[W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("input",{ref:r,id:"import-file",type:"file",accept:".csv",onChange:_,className:"hidden"},e),W.jsxs(tp,{className:"text-sm py-1 px-2 w-full",onClick:()=>{var x;return(x=r.current)==null?void 0:x.click()},children:[W.jsx(XP,{}),ln.importTransactionsButton.text()]})]}),A,M]})}function T3(n){const t=n+"CollectionProvider",[e,i]=Hu(t),[r,a]=e(t,{collectionRef:{current:null},itemMap:new Map}),l=A=>{const{scope:M,children:x}=A,T=bo.useRef(null),R=bo.useRef(new Map).current;return W.jsx(r,{scope:M,itemMap:R,collectionRef:T,children:x})};l.displayName=t;const u=n+"CollectionSlot",h=sp(u),p=bo.forwardRef((A,M)=>{const{scope:x,children:T}=A,R=a(u,x),O=yr(M,R.collectionRef);return W.jsx(h,{ref:O,children:T})});p.displayName=u;const m=n+"CollectionItemSlot",v="data-radix-collection-item",_=sp(m),b=bo.forwardRef((A,M)=>{const{scope:x,children:T,...R}=A,O=bo.useRef(null),I=yr(M,O),P=a(m,x);return bo.useEffect(()=>(P.itemMap.set(O,{ref:O,...R}),()=>void P.itemMap.delete(O))),W.jsx(_,{[v]:"",ref:I,children:T})});b.displayName=m;function S(A){const M=a(n+"CollectionConsumer",A);return bo.useCallback(()=>{const T=M.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${v}]`));return Array.from(M.itemMap.values()).sort((P,B)=>R.indexOf(P.ref.current)-R.indexOf(B.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:l,Slot:p,ItemSlot:b},S,i]}var nH=Y.createContext(void 0);function HE(n){const t=Y.useContext(nH);return n||t||"ltr"}var KS="rovingFocusGroup.onEntryFocus",iH={bubbles:!1,cancelable:!0},mv="RovingFocusGroup",[PM,w3,rH]=T3(mv),[sH,$x]=Hu(mv,[rH]),[aH,oH]=sH(mv),R3=Y.forwardRef((n,t)=>W.jsx(PM.Provider,{scope:n.__scopeRovingFocusGroup,children:W.jsx(PM.Slot,{scope:n.__scopeRovingFocusGroup,children:W.jsx(lH,{...n,ref:t})})}));R3.displayName=mv;var lH=Y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,orientation:i,loop:r=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...v}=n,_=Y.useRef(null),b=yr(t,_),S=HE(a),[A,M]=hv({prop:l,defaultProp:u??null,onChange:h,caller:mv}),[x,T]=Y.useState(!1),R=mc(p),O=w3(e),I=Y.useRef(!1),[P,B]=Y.useState(0);return Y.useEffect(()=>{const N=_.current;if(N)return N.addEventListener(KS,R),()=>N.removeEventListener(KS,R)},[R]),W.jsx(aH,{scope:e,orientation:i,dir:S,loop:r,currentTabStopId:A,onItemFocus:Y.useCallback(N=>M(N),[M]),onItemShiftTab:Y.useCallback(()=>T(!0),[]),onFocusableItemAdd:Y.useCallback(()=>B(N=>N+1),[]),onFocusableItemRemove:Y.useCallback(()=>B(N=>N-1),[]),children:W.jsx(gi.div,{tabIndex:x||P===0?-1:0,"data-orientation":i,...v,ref:b,style:{outline:"none",...n.style},onMouseDown:cn(n.onMouseDown,()=>{I.current=!0}),onFocus:cn(n.onFocus,N=>{const L=!I.current;if(N.target===N.currentTarget&&L&&!x){const U=new CustomEvent(KS,iH);if(N.currentTarget.dispatchEvent(U),!U.defaultPrevented){const F=O().filter(H=>H.focusable),K=F.find(H=>H.active),tt=F.find(H=>H.id===A),at=[K,tt,...F].filter(Boolean).map(H=>H.ref.current);N3(at,m)}}I.current=!1}),onBlur:cn(n.onBlur,()=>T(!1))})})}),C3="RovingFocusGroupItem",O3=Y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,focusable:i=!0,active:r=!1,tabStopId:a,children:l,...u}=n,h=Nu(),p=a||h,m=oH(C3,e),v=m.currentTabStopId===p,_=w3(e),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:A}=m;return Y.useEffect(()=>{if(i)return b(),()=>S()},[i,b,S]),W.jsx(PM.ItemSlot,{scope:e,id:p,focusable:i,active:r,children:W.jsx(gi.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:cn(n.onMouseDown,M=>{i?m.onItemFocus(p):M.preventDefault()}),onFocus:cn(n.onFocus,()=>m.onItemFocus(p)),onKeyDown:cn(n.onKeyDown,M=>{if(M.key==="Tab"&&M.shiftKey){m.onItemShiftTab();return}if(M.target!==M.currentTarget)return;const x=fH(M,m.orientation,m.dir);if(x!==void 0){if(M.metaKey||M.ctrlKey||M.altKey||M.shiftKey)return;M.preventDefault();let R=_().filter(O=>O.focusable).map(O=>O.ref.current);if(x==="last")R.reverse();else if(x==="prev"||x==="next"){x==="prev"&&R.reverse();const O=R.indexOf(M.currentTarget);R=m.loop?hH(R,O+1):R.slice(O+1)}setTimeout(()=>N3(R))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:A!=null}):l})})});O3.displayName=C3;var cH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uH(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function fH(n,t,e){const i=uH(n.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return cH[i]}function N3(n,t=!1){const e=document.activeElement;for(const i of n)if(i===e||(i.focus({preventScroll:t}),document.activeElement!==e))return}function hH(n,t){return n.map((e,i)=>n[(t+i)%n.length])}var L3=R3,U3=O3,IM=["Enter"," "],dH=["ArrowDown","PageUp","Home"],P3=["ArrowUp","PageDown","End"],pH=[...dH,...P3],mH={ltr:[...IM,"ArrowRight"],rtl:[...IM,"ArrowLeft"]},gH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gv="Menu",[qg,vH,yH]=T3(gv),[mh,I3]=Hu(gv,[yH,Kx,$x]),tb=Kx(),z3=$x(),[_H,gh]=mh(gv),[xH,vv]=mh(gv),B3=n=>{const{__scopeMenu:t,open:e=!1,children:i,dir:r,onOpenChange:a,modal:l=!0}=n,u=tb(t),[h,p]=Y.useState(null),m=Y.useRef(!1),v=mc(a),_=HE(r);return Y.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),W.jsx(n3,{...u,children:W.jsx(_H,{scope:t,open:e,onOpenChange:v,content:h,onContentChange:p,children:W.jsx(xH,{scope:t,onClose:Y.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:m,dir:_,modal:l,children:i})})})};B3.displayName=gv;var bH="MenuAnchor",FE=Y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n,r=tb(e);return W.jsx(i3,{...r,...i,ref:t})});FE.displayName=bH;var VE="MenuPortal",[SH,H3]=mh(VE,{forceMount:void 0}),F3=n=>{const{__scopeMenu:t,forceMount:e,children:i,container:r}=n,a=gh(VE,t);return W.jsx(SH,{scope:t,forceMount:e,children:W.jsx(Oo,{present:e||a.open,children:W.jsx(jx,{asChild:!0,container:r,children:i})})})};F3.displayName=VE;var Va="MenuContent",[MH,kE]=mh(Va),V3=Y.forwardRef((n,t)=>{const e=H3(Va,n.__scopeMenu),{forceMount:i=e.forceMount,...r}=n,a=gh(Va,n.__scopeMenu),l=vv(Va,n.__scopeMenu);return W.jsx(qg.Provider,{scope:n.__scopeMenu,children:W.jsx(Oo,{present:i||a.open,children:W.jsx(qg.Slot,{scope:n.__scopeMenu,children:l.modal?W.jsx(EH,{...r,ref:t}):W.jsx(DH,{...r,ref:t})})})})}),EH=Y.forwardRef((n,t)=>{const e=gh(Va,n.__scopeMenu),i=Y.useRef(null),r=yr(t,i);return Y.useEffect(()=>{const a=i.current;if(a)return dC(a)},[]),W.jsx(GE,{...n,ref:r,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:cn(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),DH=Y.forwardRef((n,t)=>{const e=gh(Va,n.__scopeMenu);return W.jsx(GE,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),AH=sp("MenuContent.ScrollLock"),GE=Y.forwardRef((n,t)=>{const{__scopeMenu:e,loop:i=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:_,onDismiss:b,disableOutsideScroll:S,...A}=n,M=gh(Va,e),x=vv(Va,e),T=tb(e),R=z3(e),O=vH(e),[I,P]=Y.useState(null),B=Y.useRef(null),N=yr(t,B,M.onContentChange),L=Y.useRef(0),U=Y.useRef(""),F=Y.useRef(0),K=Y.useRef(null),tt=Y.useRef("right"),nt=Y.useRef(0),at=S?SE:Y.Fragment,H=S?{as:AH,allowPinchZoom:!0}:void 0,k=Q=>{var pt,xt;const j=U.current+Q,st=O().filter(Ct=>!Ct.disabled),ht=document.activeElement,dt=(pt=st.find(Ct=>Ct.ref.current===ht))==null?void 0:pt.textValue,$=st.map(Ct=>Ct.textValue),ft=BH($,j,dt),lt=(xt=st.find(Ct=>Ct.textValue===ft))==null?void 0:xt.ref.current;(function Ct(Ht){U.current=Ht,window.clearTimeout(L.current),Ht!==""&&(L.current=window.setTimeout(()=>Ct(""),1e3))})(j),lt&&setTimeout(()=>lt.focus())};Y.useEffect(()=>()=>window.clearTimeout(L.current),[]),rC();const V=Y.useCallback(Q=>{var st,ht;return tt.current===((st=K.current)==null?void 0:st.side)&&FH(Q,(ht=K.current)==null?void 0:ht.area)},[]);return W.jsx(MH,{scope:e,searchRef:U,onItemEnter:Y.useCallback(Q=>{V(Q)&&Q.preventDefault()},[V]),onItemLeave:Y.useCallback(Q=>{var j;V(Q)||((j=B.current)==null||j.focus(),P(null))},[V]),onTriggerLeave:Y.useCallback(Q=>{V(Q)&&Q.preventDefault()},[V]),pointerGraceTimerRef:F,onPointerGraceIntentChange:Y.useCallback(Q=>{K.current=Q},[]),children:W.jsx(at,{...H,children:W.jsx(bE,{asChild:!0,trapped:r,onMountAutoFocus:cn(a,Q=>{var j;Q.preventDefault(),(j=B.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:W.jsx(Gx,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:_,onDismiss:b,children:W.jsx(L3,{asChild:!0,...R,dir:x.dir,orientation:"vertical",loop:i,currentTabStopId:I,onCurrentTabStopIdChange:P,onEntryFocus:cn(h,Q=>{x.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:W.jsx(r3,{role:"menu","aria-orientation":"vertical","data-state":iO(M.open),"data-radix-menu-content":"",dir:x.dir,...T,...A,ref:N,style:{outline:"none",...A.style},onKeyDown:cn(A.onKeyDown,Q=>{const st=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,ht=Q.ctrlKey||Q.altKey||Q.metaKey,dt=Q.key.length===1;st&&(Q.key==="Tab"&&Q.preventDefault(),!ht&&dt&&k(Q.key));const $=B.current;if(Q.target!==$||!pH.includes(Q.key))return;Q.preventDefault();const lt=O().filter(pt=>!pt.disabled).map(pt=>pt.ref.current);P3.includes(Q.key)&&lt.reverse(),IH(lt)}),onBlur:cn(n.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(L.current),U.current="")}),onPointerMove:cn(n.onPointerMove,Xg(Q=>{const j=Q.target,st=nt.current!==Q.clientX;if(Q.currentTarget.contains(j)&&st){const ht=Q.clientX>nt.current?"right":"left";tt.current=ht,nt.current=Q.clientX}}))})})})})})})});V3.displayName=Va;var TH="MenuGroup",jE=Y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return W.jsx(gi.div,{role:"group",...i,ref:t})});jE.displayName=TH;var wH="MenuLabel",k3=Y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return W.jsx(gi.div,{...i,ref:t})});k3.displayName=wH;var V_="MenuItem",BT="menu.itemSelect",eb=Y.forwardRef((n,t)=>{const{disabled:e=!1,onSelect:i,...r}=n,a=Y.useRef(null),l=vv(V_,n.__scopeMenu),u=kE(V_,n.__scopeMenu),h=yr(t,a),p=Y.useRef(!1),m=()=>{const v=a.current;if(!e&&v){const _=new CustomEvent(BT,{bubbles:!0,cancelable:!0});v.addEventListener(BT,b=>i==null?void 0:i(b),{once:!0}),$2(v,_),_.defaultPrevented?p.current=!1:l.onClose()}};return W.jsx(G3,{...r,ref:h,disabled:e,onClick:cn(n.onClick,m),onPointerDown:v=>{var _;(_=n.onPointerDown)==null||_.call(n,v),p.current=!0},onPointerUp:cn(n.onPointerUp,v=>{var _;p.current||(_=v.currentTarget)==null||_.click()}),onKeyDown:cn(n.onKeyDown,v=>{const _=u.searchRef.current!=="";e||_&&v.key===" "||IM.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});eb.displayName=V_;var G3=Y.forwardRef((n,t)=>{const{__scopeMenu:e,disabled:i=!1,textValue:r,...a}=n,l=kE(V_,e),u=z3(e),h=Y.useRef(null),p=yr(t,h),[m,v]=Y.useState(!1),[_,b]=Y.useState("");return Y.useEffect(()=>{const S=h.current;S&&b((S.textContent??"").trim())},[a.children]),W.jsx(qg.ItemSlot,{scope:e,disabled:i,textValue:r??_,children:W.jsx(U3,{asChild:!0,...u,focusable:!i,children:W.jsx(gi.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...a,ref:p,onPointerMove:cn(n.onPointerMove,Xg(S=>{i?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:cn(n.onPointerLeave,Xg(S=>l.onItemLeave(S))),onFocus:cn(n.onFocus,()=>v(!0)),onBlur:cn(n.onBlur,()=>v(!1))})})})}),RH="MenuCheckboxItem",j3=Y.forwardRef((n,t)=>{const{checked:e=!1,onCheckedChange:i,...r}=n;return W.jsx(Z3,{scope:n.__scopeMenu,checked:e,children:W.jsx(eb,{role:"menuitemcheckbox","aria-checked":k_(e)?"mixed":e,...r,ref:t,"data-state":XE(e),onSelect:cn(r.onSelect,()=>i==null?void 0:i(k_(e)?!0:!e),{checkForDefaultPrevented:!1})})})});j3.displayName=RH;var q3="MenuRadioGroup",[CH,OH]=mh(q3,{value:void 0,onValueChange:()=>{}}),X3=Y.forwardRef((n,t)=>{const{value:e,onValueChange:i,...r}=n,a=mc(i);return W.jsx(CH,{scope:n.__scopeMenu,value:e,onValueChange:a,children:W.jsx(jE,{...r,ref:t})})});X3.displayName=q3;var Y3="MenuRadioItem",W3=Y.forwardRef((n,t)=>{const{value:e,...i}=n,r=OH(Y3,n.__scopeMenu),a=e===r.value;return W.jsx(Z3,{scope:n.__scopeMenu,checked:a,children:W.jsx(eb,{role:"menuitemradio","aria-checked":a,...i,ref:t,"data-state":XE(a),onSelect:cn(i.onSelect,()=>{var l;return(l=r.onValueChange)==null?void 0:l.call(r,e)},{checkForDefaultPrevented:!1})})})});W3.displayName=Y3;var qE="MenuItemIndicator",[Z3,NH]=mh(qE,{checked:!1}),K3=Y.forwardRef((n,t)=>{const{__scopeMenu:e,forceMount:i,...r}=n,a=NH(qE,e);return W.jsx(Oo,{present:i||k_(a.checked)||a.checked===!0,children:W.jsx(gi.span,{...r,ref:t,"data-state":XE(a.checked)})})});K3.displayName=qE;var LH="MenuSeparator",Q3=Y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n;return W.jsx(gi.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});Q3.displayName=LH;var UH="MenuArrow",J3=Y.forwardRef((n,t)=>{const{__scopeMenu:e,...i}=n,r=tb(e);return W.jsx(s3,{...r,...i,ref:t})});J3.displayName=UH;var PH="MenuSub",[UQ,$3]=mh(PH),bg="MenuSubTrigger",tO=Y.forwardRef((n,t)=>{const e=gh(bg,n.__scopeMenu),i=vv(bg,n.__scopeMenu),r=$3(bg,n.__scopeMenu),a=kE(bg,n.__scopeMenu),l=Y.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=a,p={__scopeMenu:n.__scopeMenu},m=Y.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return Y.useEffect(()=>m,[m]),Y.useEffect(()=>{const v=u.current;return()=>{window.clearTimeout(v),h(null)}},[u,h]),W.jsx(FE,{asChild:!0,...p,children:W.jsx(G3,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":r.contentId,"data-state":iO(e.open),...n,ref:Vx(t,r.onTriggerChange),onClick:v=>{var _;(_=n.onClick)==null||_.call(n,v),!(n.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:cn(n.onPointerMove,Xg(v=>{a.onItemEnter(v),!v.defaultPrevented&&!n.disabled&&!e.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{e.onOpenChange(!0),m()},100))})),onPointerLeave:cn(n.onPointerLeave,Xg(v=>{var b,S;m();const _=(b=e.content)==null?void 0:b.getBoundingClientRect();if(_){const A=(S=e.content)==null?void 0:S.dataset.side,M=A==="right",x=M?-5:5,T=_[M?"left":"right"],R=_[M?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+x,y:v.clientY},{x:T,y:_.top},{x:R,y:_.top},{x:R,y:_.bottom},{x:T,y:_.bottom}],side:A}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:cn(n.onKeyDown,v=>{var b;const _=a.searchRef.current!=="";n.disabled||_&&v.key===" "||mH[i.dir].includes(v.key)&&(e.onOpenChange(!0),(b=e.content)==null||b.focus(),v.preventDefault())})})})});tO.displayName=bg;var eO="MenuSubContent",nO=Y.forwardRef((n,t)=>{const e=H3(Va,n.__scopeMenu),{forceMount:i=e.forceMount,...r}=n,a=gh(Va,n.__scopeMenu),l=vv(Va,n.__scopeMenu),u=$3(eO,n.__scopeMenu),h=Y.useRef(null),p=yr(t,h);return W.jsx(qg.Provider,{scope:n.__scopeMenu,children:W.jsx(Oo,{present:i||a.open,children:W.jsx(qg.Slot,{scope:n.__scopeMenu,children:W.jsx(GE,{id:u.contentId,"aria-labelledby":u.triggerId,...r,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var v;l.isUsingKeyboardRef.current&&((v=h.current)==null||v.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:cn(n.onFocusOutside,m=>{m.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:cn(n.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:cn(n.onKeyDown,m=>{var b;const v=m.currentTarget.contains(m.target),_=gH[l.dir].includes(m.key);v&&_&&(a.onOpenChange(!1),(b=u.trigger)==null||b.focus(),m.preventDefault())})})})})})});nO.displayName=eO;function iO(n){return n?"open":"closed"}function k_(n){return n==="indeterminate"}function XE(n){return k_(n)?"indeterminate":n?"checked":"unchecked"}function IH(n){const t=document.activeElement;for(const e of n)if(e===t||(e.focus(),document.activeElement!==t))return}function zH(n,t){return n.map((e,i)=>n[(t+i)%n.length])}function BH(n,t,e){const r=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=e?n.indexOf(e):-1;let l=zH(n,Math.max(a,0));r.length===1&&(l=l.filter(p=>p!==e));const h=l.find(p=>p.toLowerCase().startsWith(r.toLowerCase()));return h!==e?h:void 0}function HH(n,t){const{x:e,y:i}=n;let r=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a],h=t[l],p=u.x,m=u.y,v=h.x,_=h.y;m>i!=_>i&&e<(v-p)*(i-m)/(_-m)+p&&(r=!r)}return r}function FH(n,t){if(!t)return!1;const e={x:n.clientX,y:n.clientY};return HH(e,t)}function Xg(n){return t=>t.pointerType==="mouse"?n(t):void 0}var VH=B3,kH=FE,GH=F3,jH=V3,qH=jE,XH=k3,YH=eb,WH=j3,ZH=X3,KH=W3,QH=K3,JH=Q3,$H=J3,t6=tO,e6=nO,nb="DropdownMenu",[n6,PQ]=Hu(nb,[I3]),Os=I3(),[i6,rO]=n6(nb),sO=n=>{const{__scopeDropdownMenu:t,children:e,dir:i,open:r,defaultOpen:a,onOpenChange:l,modal:u=!0}=n,h=Os(t),p=Y.useRef(null),[m,v]=hv({prop:r,defaultProp:a??!1,onChange:l,caller:nb});return W.jsx(i6,{scope:t,triggerId:Nu(),triggerRef:p,contentId:Nu(),open:m,onOpenChange:v,onOpenToggle:Y.useCallback(()=>v(_=>!_),[v]),modal:u,children:W.jsx(VH,{...h,open:m,onOpenChange:v,dir:i,modal:u,children:e})})};sO.displayName=nb;var aO="DropdownMenuTrigger",oO=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,disabled:i=!1,...r}=n,a=rO(aO,e),l=Os(e);return W.jsx(kH,{asChild:!0,...l,children:W.jsx(gi.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:Vx(t,a.triggerRef),onPointerDown:cn(n.onPointerDown,u=>{!i&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:cn(n.onKeyDown,u=>{i||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});oO.displayName=aO;var r6="DropdownMenuPortal",lO=n=>{const{__scopeDropdownMenu:t,...e}=n,i=Os(t);return W.jsx(GH,{...i,...e})};lO.displayName=r6;var cO="DropdownMenuContent",uO=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=rO(cO,e),a=Os(e),l=Y.useRef(!1);return W.jsx(jH,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...i,ref:t,onCloseAutoFocus:cn(n.onCloseAutoFocus,u=>{var h;l.current||(h=r.triggerRef.current)==null||h.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:cn(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,m=h.button===2||p;(!r.modal||m)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uO.displayName=cO;var s6="DropdownMenuGroup",a6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(qH,{...r,...i,ref:t})});a6.displayName=s6;var o6="DropdownMenuLabel",l6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(XH,{...r,...i,ref:t})});l6.displayName=o6;var c6="DropdownMenuItem",fO=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(YH,{...r,...i,ref:t})});fO.displayName=c6;var u6="DropdownMenuCheckboxItem",f6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(WH,{...r,...i,ref:t})});f6.displayName=u6;var h6="DropdownMenuRadioGroup",d6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(ZH,{...r,...i,ref:t})});d6.displayName=h6;var p6="DropdownMenuRadioItem",m6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(KH,{...r,...i,ref:t})});m6.displayName=p6;var g6="DropdownMenuItemIndicator",v6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(QH,{...r,...i,ref:t})});v6.displayName=g6;var y6="DropdownMenuSeparator",_6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(JH,{...r,...i,ref:t})});_6.displayName=y6;var x6="DropdownMenuArrow",b6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx($H,{...r,...i,ref:t})});b6.displayName=x6;var S6="DropdownMenuSubTrigger",M6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(t6,{...r,...i,ref:t})});M6.displayName=S6;var E6="DropdownMenuSubContent",D6=Y.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...i}=n,r=Os(e);return W.jsx(e6,{...r,...i,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D6.displayName=E6;var A6=sO,T6=oO,w6=lO,R6=uO,C6=fO;function O6({...n}){return W.jsx(A6,{"data-slot":"dropdown-menu",...n})}function N6({...n}){return W.jsx(T6,{"data-slot":"dropdown-menu-trigger",...n})}function L6({className:n,sideOffset:t=4,...e}){return W.jsx(w6,{children:W.jsx(R6,{"data-slot":"dropdown-menu-content",sideOffset:t,className:un("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...e})})}function HT({className:n,inset:t,variant:e="default",...i}){return W.jsx(C6,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":e,className:un("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i})}function FT({statement:{id:n,toDate:t,fromDate:e,transactions:i}}){const r=I5(n),{setActiveStatement:a,removeStatement:l}=yc(),u=()=>a(n),h=()=>l(n);return W.jsxs(l5,{children:[W.jsxs(u5,{className:"flex flex-col gap-1 h-auto"+(r?" bg-muted":""),onClick:u,children:[W.jsx("span",{children:ln.sidebar.statementItem.title(e,t)}),W.jsx("span",{className:"text-xs text-muted-foreground",children:ln.sidebar.statementItem.subtitle(i.length)})]}),W.jsxs(O6,{children:[W.jsx(N6,{asChild:!0,children:W.jsx(f5,{children:W.jsx(FP,{})})}),W.jsxs(L6,{side:"right",align:"start",children:[W.jsx(HT,{onClick:u,children:W.jsxs("span",{className:"flex items-center gap-2",children:[W.jsx(kP,{className:"h-4 w-4"}),ln.sidebar.statementItem.actions.show()]})}),W.jsx(HT,{onClick:h,children:W.jsxs("span",{className:"flex items-center gap-2",children:[W.jsx(KP,{className:"h-4 w-4"}),ln.sidebar.statementItem.actions.delete()]})})]})]})]})}function U6(){const{resetActiveStatement:n}=yc(),t=U5(),e=P5();return W.jsxs(n5,{collapsible:"offcanvas",children:[W.jsx(r5,{children:W.jsx("h3",{className:"text-2xl font-bold text-center",children:ln.sidebar.title()})}),W.jsxs(o5,{children:[W.jsxs(WS,{children:[W.jsx(bT,{children:ln.sidebar.group.imported.title()}),W.jsx(ST,{children:W.jsxs(MT,{children:[t.map(i=>W.jsx(FT,{statement:i},i.id)),W.jsx(eH,{})]})})]}),W.jsx(WS,{children:W.jsx(a5,{})}),W.jsxs(WS,{children:[W.jsx(bT,{children:ln.sidebar.group.generated.title()}),W.jsx(ST,{children:W.jsxs(MT,{children:[e.map(i=>W.jsx(FT,{statement:i},i.id)),W.jsx(B5,{})]})})]})]}),W.jsx(s5,{children:W.jsx(tp,{onClick:n,children:ln.sidebar.resetSelectionButton.text()})})]})}function P6(){return W.jsx("h1",{className:"text-white sm:text-2xl text-xl text-center font-bold pt-2 m-auto",children:ln.title()})}var ib="Tabs",[I6,IQ]=Hu(ib,[$x]),hO=$x(),[z6,YE]=I6(ib),dO=Y.forwardRef((n,t)=>{const{__scopeTabs:e,value:i,onValueChange:r,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:h="automatic",...p}=n,m=HE(u),[v,_]=hv({prop:i,onChange:r,defaultProp:a??"",caller:ib});return W.jsx(z6,{scope:e,baseId:Nu(),value:v,onValueChange:_,orientation:l,dir:m,activationMode:h,children:W.jsx(gi.div,{dir:m,"data-orientation":l,...p,ref:t})})});dO.displayName=ib;var pO="TabsList",mO=Y.forwardRef((n,t)=>{const{__scopeTabs:e,loop:i=!0,...r}=n,a=YE(pO,e),l=hO(e);return W.jsx(L3,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:i,children:W.jsx(gi.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:t})})});mO.displayName=pO;var gO="TabsTrigger",vO=Y.forwardRef((n,t)=>{const{__scopeTabs:e,value:i,disabled:r=!1,...a}=n,l=YE(gO,e),u=hO(e),h=_O(l.baseId,i),p=xO(l.baseId,i),m=i===l.value;return W.jsx(U3,{asChild:!0,...u,focusable:!r,active:m,children:W.jsx(gi.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:h,...a,ref:t,onMouseDown:cn(n.onMouseDown,v=>{!r&&v.button===0&&v.ctrlKey===!1?l.onValueChange(i):v.preventDefault()}),onKeyDown:cn(n.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(i)}),onFocus:cn(n.onFocus,()=>{const v=l.activationMode!=="manual";!m&&!r&&v&&l.onValueChange(i)})})})});vO.displayName=gO;var yO="TabsContent",B6=Y.forwardRef((n,t)=>{const{__scopeTabs:e,value:i,forceMount:r,children:a,...l}=n,u=YE(yO,e),h=_O(u.baseId,i),p=xO(u.baseId,i),m=i===u.value,v=Y.useRef(m);return Y.useEffect(()=>{const _=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(_)},[]),W.jsx(Oo,{present:r||m,children:({present:_})=>W.jsx(gi.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!_,id:p,tabIndex:0,...l,ref:t,style:{...n.style,animationDuration:v.current?"0s":void 0},children:_&&a})})});B6.displayName=yO;function _O(n,t){return`${n}-trigger-${t}`}function xO(n,t){return`${n}-content-${t}`}var H6=dO,F6=mO,V6=vO;function k6({className:n,...t}){return W.jsx(H6,{"data-slot":"tabs",className:un("flex flex-col gap-2",n),...t})}function G6({className:n,...t}){return W.jsx(F6,{"data-slot":"tabs-list",className:un("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...t})}function VT({className:n,...t}){return W.jsx(V6,{"data-slot":"tabs-trigger",className:un("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...t})}const Kd=()=>({nodes:{},links:{}}),j6=(n,t,e,i)=>({id:n,type:"statement",statement:{value:e.reduce((r,a)=>r+a.amount,0),operation:i,fromDate:t.fromDate,toDate:t.toDate,transactionsCount:e.length}}),q6=(n,t,e)=>({id:n,type:"transaction-category",category:{mcc:t,value:e.reduce((i,r)=>i+r.amount,0),transactionsCount:e.length}}),X6=(n,t)=>({id:n,type:"transaction",transaction:{value:t.amount,mcc:t.mcc,date:t.date,details:t.details}}),Y6=n=>{const t=n.transactions.reduce((e,i)=>(e[i.operation].push(i),e),{[Ji.income]:[],[Ji.expense]:[]});return Object.entries(t).reduce((e,[i,r])=>{const a=e[i],l=(m,v)=>{a.nodes[m]=v},u=(m,v)=>{a.links[m]||(a.links[m]=[]),a.links[m].push(v)},h=crypto.randomUUID();l(h,j6(h,n,r,i));const p=r.reduce((m,v)=>(m[v.mcc]||(m[v.mcc]=[]),m[v.mcc].push(v),m),{});return Object.entries(p).forEach(([m,v])=>{const _=crypto.randomUUID();l(_,q6(_,Number(m),v)),u(h,_),v.forEach(b=>{const S=crypto.randomUUID();l(S,X6(S,b)),u(_,S)})}),e},{[Ji.income]:Kd(),[Ji.expense]:Kd()})},G_=n=>{switch(n.type){case"statement":return n.statement.value;case"transaction-category":return n.category.value;case"transaction":return n.transaction.value;default:return 1}},bO=n=>{const t=n.map(G_);return[Math.min(...t),Math.max(...t)]},W6=b3()(S3(n=>({graphs:{[Ji.income]:Kd(),[Ji.expense]:Kd()},setGraphs:t=>n(()=>({graphs:t})),resetGraphs:()=>n(()=>({graphs:{[Ji.income]:Kd(),[Ji.expense]:Kd()}})),activeGraph:Ji.expense,setActiveGraph:t=>n(()=>({activeGraph:t})),previewNodeId:void 0,setPreviewNodeId:t=>n(()=>({previewNodeId:t})),resetPreviewNodeId:()=>n(()=>({previewNodeId:void 0}))}))),lp=M3(W6),WE=()=>{const n=lp.use.graphs(),t=lp.use.activeGraph();return Y.useMemo(()=>n[t],[n,t])},Z6=()=>{const n=WE();return Y.useMemo(()=>({nodes:Object.values(n.nodes),links:Object.entries(n.links).flatMap(([t,e])=>e.map(i=>({source:n.nodes[t],target:n.nodes[i]})))}),[n])},K6=()=>{const n=WE(),t=lp.use.previewNodeId();return Y.useMemo(()=>t?n.nodes[t]:void 0,[t,n])},Q6=()=>{const n=D3(),{setGraphs:t,resetGraphs:e,setPreviewNodeId:i,resetPreviewNodeId:r}=lp();Y.useEffect(()=>{n?t(Y6(n)):e()},[n]);const a=WE(),l=Z6();Y.useEffect(()=>{const h=Object.values(a.nodes).find(p=>p.type==="statement");h?i(h.id):r()},[a]);const u=Y.useCallback(h=>{h?i(h.id):r()},[]);return{graph:a,graphData:l,onNodeHover:u}};function J6(){const n=lp.use.activeGraph(),t=lp.use.setActiveGraph();return D3()?W.jsx("div",{className:"absolute left-2 right-2 bottom-10 z-10",children:W.jsx(k6,{value:n,onValueChange:t,className:"m-auto w-min",children:W.jsxs(G6,{className:"w-full box-border",children:[W.jsx(VT,{className:"sm:w-[200px] w-[150px]",value:Ji.income,children:ln.visualizationSwitch.tabs.income()}),W.jsx(VT,{className:"sm:w-[200px] w-[150px]",value:Ji.expense,children:ln.visualizationSwitch.tabs.expense()})]})})}):null}function j_(){return j_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},j_.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const yv="176",w_={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},$6={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},SO=0,zM=1,MO=2,tF=3,EO=0,rb=1,wg=2,xo=3,_c=0,ws=1,Eo=2,bl=0,rh=1,BM=2,HM=3,FM=4,DO=5,wu=100,AO=101,TO=102,wO=103,RO=104,CO=200,OO=201,NO=202,LO=203,q_=204,X_=205,UO=206,PO=207,IO=208,zO=209,BO=210,HO=211,FO=212,VO=213,kO=214,Y_=0,W_=1,Z_=2,ch=3,K_=4,Q_=5,J_=6,$_=7,_v=0,GO=1,jO=2,Sl=0,qO=1,XO=2,YO=3,ZE=4,WO=5,ZO=6,KO=7,VM="attached",QO="detached",zu=300,El=301,Bu=302,cp=303,Yg=304,Rp=306,Wg=1e3,or=1001,Zg=1002,kr=1003,KE=1004,eF=1004,Qd=1005,nF=1005,oi=1006,Rg=1007,iF=1007,_l=1008,kM=1008,Cs=1009,sb=1010,ab=1011,up=1012,xv=1013,Dl=1014,ki=1015,Cr=1016,ob=1017,lb=1018,fp=1020,QE=35902,JE=1021,$E=1022,$i=1023,hp=1026,dp=1027,bv=1028,Sv=1029,tD=1030,cb=1031,rF=1032,ub=1033,Cg=33776,Og=33777,Ng=33778,Lg=33779,tx=35840,ex=35841,nx=35842,ix=35843,rx=36196,sx=37492,ax=37496,ox=37808,lx=37809,cx=37810,ux=37811,fx=37812,hx=37813,dx=37814,px=37815,mx=37816,gx=37817,vx=37818,yx=37819,_x=37820,xx=37821,Ug=36492,bx=36494,Sx=36495,eD=36283,Mx=36284,Ex=36285,Dx=36286,JO=2200,$O=2201,tN=2202,Kg=2300,Ax=2301,R_=2302,$f=2400,th=2401,Qg=2402,fb=2500,nD=2501,sF=0,aF=1,oF=2,eN=3200,nN=3201,lF=3202,cF=3203,Fu=0,iN=1,cc="",Vr="srgb",Co="srgb-linear",Jg="linear",ai="srgb",uF=0,Kf=7680,fF=7681,hF=7682,dF=7683,pF=34055,mF=34056,gF=5386,vF=512,yF=513,_F=514,xF=515,bF=516,SF=517,MF=518,GM=519,rN=512,sN=513,aN=514,iD=515,oN=516,lN=517,cN=518,uN=519,$g=35044,EF=35048,DF=35040,AF=35045,TF=35049,wF=35041,RF=35046,CF=35050,OF=35042,NF="100",jM="300 es",Fa=2e3,tv=2001,LF={COMPUTE:"compute",RENDER:"render"},UF={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},PF={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Tl=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const r=i[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let a=0,l=r.length;a<l;a++)r[a].call(this,t);t.target=null}}};const ns=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kT=1234567;const sh=Math.PI/180,pp=180/Math.PI;function ga(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ns[n&255]+ns[n>>8&255]+ns[n>>16&255]+ns[n>>24&255]+"-"+ns[t&255]+ns[t>>8&255]+"-"+ns[t>>16&15|64]+ns[t>>24&255]+"-"+ns[e&63|128]+ns[e>>8&255]+"-"+ns[e>>16&255]+ns[e>>24&255]+ns[i&255]+ns[i>>8&255]+ns[i>>16&255]+ns[i>>24&255]).toLowerCase()}function gn(n,t,e){return Math.max(t,Math.min(e,n))}function rD(n,t){return(n%t+t)%t}function IF(n,t,e,i,r){return i+(n-t)*(r-i)/(e-t)}function zF(n,t,e){return n!==t?(e-n)/(t-n):0}function Pg(n,t,e){return(1-e)*n+e*t}function BF(n,t,e,i){return Pg(n,t,1-Math.exp(-e*i))}function HF(n,t=1){return t-Math.abs(rD(n,t*2)-t)}function FF(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function VF(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function kF(n,t){return n+Math.floor(Math.random()*(t-n+1))}function GF(n,t){return n+Math.random()*(t-n)}function jF(n){return n*(.5-Math.random())}function qF(n){n!==void 0&&(kT=n);let t=kT+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function XF(n){return n*sh}function YF(n){return n*pp}function WF(n){return(n&n-1)===0&&n!==0}function ZF(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function KF(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function QF(n,t,e,i,r){const a=Math.cos,l=Math.sin,u=a(e/2),h=l(e/2),p=a((t+i)/2),m=l((t+i)/2),v=a((t-i)/2),_=l((t-i)/2),b=a((i-t)/2),S=l((i-t)/2);switch(r){case"XYX":n.set(u*m,h*v,h*_,u*p);break;case"YZY":n.set(h*_,u*m,h*v,u*p);break;case"ZXZ":n.set(h*v,h*_,u*m,u*p);break;case"XZX":n.set(u*m,h*S,h*b,u*p);break;case"YXY":n.set(h*b,u*m,h*S,u*p);break;case"ZYZ":n.set(h*S,h*b,u*m,u*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function As(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Mn(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const JF={DEG2RAD:sh,RAD2DEG:pp,generateUUID:ga,clamp:gn,euclideanModulo:rD,mapLinear:IF,inverseLerp:zF,lerp:Pg,damp:BF,pingpong:HF,smoothstep:FF,smootherstep:VF,randInt:kF,randFloat:GF,randFloatSpread:jF,seededRandom:qF,degToRad:XF,radToDeg:YF,isPowerOfTwo:WF,ceilPowerOfTwo:ZF,floorPowerOfTwo:KF,setQuaternionFromProperEuler:QF,normalize:Mn,denormalize:As};class ee{constructor(t=0,e=0){ee.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=gn(this.x,t.x,e.x),this.y=gn(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=gn(this.x,t,e),this.y=gn(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(gn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(gn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),a=this.x-t.x,l=this.y-t.y;return this.x=a*i-l*r+t.x,this.y=a*r+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _n{constructor(t,e,i,r,a,l,u,h,p){_n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,r,a,l,u,h,p)}set(t,e,i,r,a,l,u,h,p){const m=this.elements;return m[0]=t,m[1]=r,m[2]=u,m[3]=e,m[4]=a,m[5]=h,m[6]=i,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,a=this.elements,l=i[0],u=i[3],h=i[6],p=i[1],m=i[4],v=i[7],_=i[2],b=i[5],S=i[8],A=r[0],M=r[3],x=r[6],T=r[1],R=r[4],O=r[7],I=r[2],P=r[5],B=r[8];return a[0]=l*A+u*T+h*I,a[3]=l*M+u*R+h*P,a[6]=l*x+u*O+h*B,a[1]=p*A+m*T+v*I,a[4]=p*M+m*R+v*P,a[7]=p*x+m*O+v*B,a[2]=_*A+b*T+S*I,a[5]=_*M+b*R+S*P,a[8]=_*x+b*O+S*B,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],p=t[7],m=t[8];return e*l*m-e*u*p-i*a*m+i*u*h+r*a*p-r*l*h}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],p=t[7],m=t[8],v=m*l-u*p,_=u*h-m*a,b=p*a-l*h,S=e*v+i*_+r*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/S;return t[0]=v*A,t[1]=(r*p-m*i)*A,t[2]=(u*i-r*l)*A,t[3]=_*A,t[4]=(m*e-r*h)*A,t[5]=(r*a-u*e)*A,t[6]=b*A,t[7]=(i*h-p*e)*A,t[8]=(l*e-i*a)*A,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,a,l,u){const h=Math.cos(a),p=Math.sin(a);return this.set(i*h,i*p,-i*(h*l+p*u)+l+t,-r*p,r*h,-r*(-p*l+h*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply(QS.makeScale(t,e)),this}rotate(t){return this.premultiply(QS.makeRotation(-t)),this}translate(t,e){return this.premultiply(QS.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const QS=new _n;function fN(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const $F={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jd(n,t){return new $F[n](t)}function ev(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function hN(){const n=ev("canvas");return n.style.display="block",n}const GT={};function C_(n){n in GT||(GT[n]=!0,console.warn(n))}function t8(n,t,e){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,e);break;default:i()}}setTimeout(a,e)})}function e8(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function n8(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const jT=new _n().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),qT=new _n().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function i8(){const n={enabled:!0,workingColorSpace:Co,spaces:{},convert:function(r,a,l){return this.enabled===!1||a===l||!a||!l||(this.spaces[a].transfer===ai&&(r.r=dc(r.r),r.g=dc(r.g),r.b=dc(r.b)),this.spaces[a].primaries!==this.spaces[l].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===ai&&(r.r=ip(r.r),r.g=ip(r.g),r.b=ip(r.b))),r},fromWorkingColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},toWorkingColorSpace:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===cc?Jg:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,l){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Co]:{primaries:t,whitePoint:i,transfer:Jg,toXYZ:jT,fromXYZ:qT,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:Vr},outputColorSpaceConfig:{drawingBufferColorSpace:Vr}},[Vr]:{primaries:t,whitePoint:i,transfer:ai,toXYZ:jT,fromXYZ:qT,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:Vr}}}),n}const Bn=i8();function dc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ip(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Dd;class dN{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{Dd===void 0&&(Dd=ev("canvas")),Dd.width=t.width,Dd.height=t.height;const r=Dd.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),i=Dd}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=ev("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),a=r.data;for(let l=0;l<a.length;l++)a[l]=dc(a[l]/255)*255;return i.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(dc(e[i]/255)*255):e[i]=dc(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let r8=0;class Ru{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:r8++}),this.uuid=ga(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let l=0,u=r.length;l<u;l++)r[l].isDataTexture?a.push(JS(r[l].image)):a.push(JS(r[l]))}else a=JS(r);i.url=a}return e||(t.images[this.uuid]=i),i}}function JS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?dN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let s8=0;class mi extends Tl{constructor(t=mi.DEFAULT_IMAGE,e=mi.DEFAULT_MAPPING,i=or,r=or,a=oi,l=_l,u=$i,h=Cs,p=mi.DEFAULT_ANISOTROPY,m=cc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:s8++}),this.uuid=ga(),this.name="",this.source=new Ru(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=h,this.offset=new ee(0,0),this.repeat=new ee(1,1),this.center=new ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isTextureArray=t.isTextureArray,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==zu)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Wg:t.x=t.x-Math.floor(t.x);break;case or:t.x=t.x<0?0:1;break;case Zg:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Wg:t.y=t.y-Math.floor(t.y);break;case or:t.y=t.y<0?0:1;break;case Zg:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}mi.DEFAULT_IMAGE=null;mi.DEFAULT_MAPPING=zu;mi.DEFAULT_ANISOTROPY=1;class Gn{constructor(t=0,e=0,i=0,r=1){Gn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,a=this.w,l=t.elements;return this.x=l[0]*e+l[4]*i+l[8]*r+l[12]*a,this.y=l[1]*e+l[5]*i+l[9]*r+l[13]*a,this.z=l[2]*e+l[6]*i+l[10]*r+l[14]*a,this.w=l[3]*e+l[7]*i+l[11]*r+l[15]*a,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,a;const h=t.elements,p=h[0],m=h[4],v=h[8],_=h[1],b=h[5],S=h[9],A=h[2],M=h[6],x=h[10];if(Math.abs(m-_)<.01&&Math.abs(v-A)<.01&&Math.abs(S-M)<.01){if(Math.abs(m+_)<.1&&Math.abs(v+A)<.1&&Math.abs(S+M)<.1&&Math.abs(p+b+x-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const R=(p+1)/2,O=(b+1)/2,I=(x+1)/2,P=(m+_)/4,B=(v+A)/4,N=(S+M)/4;return R>O&&R>I?R<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(R),r=P/i,a=B/i):O>I?O<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(O),i=P/r,a=N/r):I<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(I),i=B/a,r=N/a),this.set(i,r,a,e),this}let T=Math.sqrt((M-S)*(M-S)+(v-A)*(v-A)+(_-m)*(_-m));return Math.abs(T)<.001&&(T=1),this.x=(M-S)/T,this.y=(v-A)/T,this.z=(_-m)/T,this.w=Math.acos((p+b+x-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=gn(this.x,t.x,e.x),this.y=gn(this.y,t.y,e.y),this.z=gn(this.z,t.z,e.z),this.w=gn(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=gn(this.x,t,e),this.y=gn(this.y,t,e),this.z=gn(this.z,t,e),this.w=gn(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(gn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class hb extends Tl{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth?i.depth:1,this.scissor=new Gn(0,0,t,e),this.scissorTest=!1,this.viewport=new Gn(0,0,t,e);const r={width:t,height:e,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:oi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const a=new mi(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=a.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const r=Object.assign({},t.textures[e].image);this.textures[e].source=new Ru(r)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ka extends hb{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class Mv extends mi{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=or,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class a8 extends ka{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Mv(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class db extends mi{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=or,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class o8 extends ka{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new db(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Rs{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,a,l,u){let h=i[r+0],p=i[r+1],m=i[r+2],v=i[r+3];const _=a[l+0],b=a[l+1],S=a[l+2],A=a[l+3];if(u===0){t[e+0]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v;return}if(u===1){t[e+0]=_,t[e+1]=b,t[e+2]=S,t[e+3]=A;return}if(v!==A||h!==_||p!==b||m!==S){let M=1-u;const x=h*_+p*b+m*S+v*A,T=x>=0?1:-1,R=1-x*x;if(R>Number.EPSILON){const I=Math.sqrt(R),P=Math.atan2(I,x*T);M=Math.sin(M*P)/I,u=Math.sin(u*P)/I}const O=u*T;if(h=h*M+_*O,p=p*M+b*O,m=m*M+S*O,v=v*M+A*O,M===1-u){const I=1/Math.sqrt(h*h+p*p+m*m+v*v);h*=I,p*=I,m*=I,v*=I}}t[e]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,r,a,l){const u=i[r],h=i[r+1],p=i[r+2],m=i[r+3],v=a[l],_=a[l+1],b=a[l+2],S=a[l+3];return t[e]=u*S+m*v+h*b-p*_,t[e+1]=h*S+m*_+p*v-u*b,t[e+2]=p*S+m*b+u*_-h*v,t[e+3]=m*S-u*v-h*_-p*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,r=t._y,a=t._z,l=t._order,u=Math.cos,h=Math.sin,p=u(i/2),m=u(r/2),v=u(a/2),_=h(i/2),b=h(r/2),S=h(a/2);switch(l){case"XYZ":this._x=_*m*v+p*b*S,this._y=p*b*v-_*m*S,this._z=p*m*S+_*b*v,this._w=p*m*v-_*b*S;break;case"YXZ":this._x=_*m*v+p*b*S,this._y=p*b*v-_*m*S,this._z=p*m*S-_*b*v,this._w=p*m*v+_*b*S;break;case"ZXY":this._x=_*m*v-p*b*S,this._y=p*b*v+_*m*S,this._z=p*m*S+_*b*v,this._w=p*m*v-_*b*S;break;case"ZYX":this._x=_*m*v-p*b*S,this._y=p*b*v+_*m*S,this._z=p*m*S-_*b*v,this._w=p*m*v+_*b*S;break;case"YZX":this._x=_*m*v+p*b*S,this._y=p*b*v+_*m*S,this._z=p*m*S-_*b*v,this._w=p*m*v-_*b*S;break;case"XZY":this._x=_*m*v-p*b*S,this._y=p*b*v-_*m*S,this._z=p*m*S+_*b*v,this._w=p*m*v+_*b*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],a=e[8],l=e[1],u=e[5],h=e[9],p=e[2],m=e[6],v=e[10],_=i+u+v;if(_>0){const b=.5/Math.sqrt(_+1);this._w=.25/b,this._x=(m-h)*b,this._y=(a-p)*b,this._z=(l-r)*b}else if(i>u&&i>v){const b=2*Math.sqrt(1+i-u-v);this._w=(m-h)/b,this._x=.25*b,this._y=(r+l)/b,this._z=(a+p)/b}else if(u>v){const b=2*Math.sqrt(1+u-i-v);this._w=(a-p)/b,this._x=(r+l)/b,this._y=.25*b,this._z=(h+m)/b}else{const b=2*Math.sqrt(1+v-i-u);this._w=(l-r)/b,this._x=(a+p)/b,this._y=(h+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(gn(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,a=t._z,l=t._w,u=e._x,h=e._y,p=e._z,m=e._w;return this._x=i*m+l*u+r*p-a*h,this._y=r*m+l*h+a*u-i*p,this._z=a*m+l*p+i*h-r*u,this._w=l*m-i*u-r*h-a*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,r=this._y,a=this._z,l=this._w;let u=l*t._w+i*t._x+r*t._y+a*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=i,this._y=r,this._z=a,this;const h=1-u*u;if(h<=Number.EPSILON){const b=1-e;return this._w=b*l+e*this._w,this._x=b*i+e*this._x,this._y=b*r+e*this._y,this._z=b*a+e*this._z,this.normalize(),this}const p=Math.sqrt(h),m=Math.atan2(p,u),v=Math.sin((1-e)*m)/p,_=Math.sin(e*m)/p;return this._w=l*v+this._w*_,this._x=i*v+this._x*_,this._y=r*v+this._y*_,this._z=a*v+this._z*_,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(t),r*Math.cos(t),a*Math.sin(e),a*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ct{constructor(t=0,e=0,i=0){ct.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(XT.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(XT.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[3]*i+a[6]*r,this.y=a[1]*e+a[4]*i+a[7]*r,this.z=a[2]*e+a[5]*i+a[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,a=t.elements,l=1/(a[3]*e+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*e+a[4]*i+a[8]*r+a[12])*l,this.y=(a[1]*e+a[5]*i+a[9]*r+a[13])*l,this.z=(a[2]*e+a[6]*i+a[10]*r+a[14])*l,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,a=t.x,l=t.y,u=t.z,h=t.w,p=2*(l*r-u*i),m=2*(u*e-a*r),v=2*(a*i-l*e);return this.x=e+h*p+l*v-u*m,this.y=i+h*m+u*p-a*v,this.z=r+h*v+a*m-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r,this.y=a[1]*e+a[5]*i+a[9]*r,this.z=a[2]*e+a[6]*i+a[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=gn(this.x,t.x,e.x),this.y=gn(this.y,t.y,e.y),this.z=gn(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=gn(this.x,t,e),this.y=gn(this.y,t,e),this.z=gn(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(gn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,a=t.z,l=e.x,u=e.y,h=e.z;return this.x=r*h-a*u,this.y=a*l-i*h,this.z=i*u-r*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return $S.copy(this).projectOnVector(t),this.sub($S)}reflect(t){return this.sub($S.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(gn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $S=new ct,XT=new Rs;class Gr{constructor(t=new ct(1/0,1/0,1/0),e=new ct(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(mo.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(mo.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=mo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const a=i.getAttribute("position");if(e===!0&&a!==void 0&&t.isInstancedMesh!==!0)for(let l=0,u=a.count;l<u;l++)t.isMesh===!0?t.getVertexPosition(l,mo):mo.fromBufferAttribute(a,l),mo.applyMatrix4(t.matrixWorld),this.expandByPoint(mo);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),g0.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),g0.copy(i.boundingBox)),g0.applyMatrix4(t.matrixWorld),this.union(g0)}const r=t.children;for(let a=0,l=r.length;a<l;a++)this.expandByObject(r[a],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,mo),mo.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(eg),v0.subVectors(this.max,eg),Ad.subVectors(t.a,eg),Td.subVectors(t.b,eg),wd.subVectors(t.c,eg),vu.subVectors(Td,Ad),yu.subVectors(wd,Td),zf.subVectors(Ad,wd);let e=[0,-vu.z,vu.y,0,-yu.z,yu.y,0,-zf.z,zf.y,vu.z,0,-vu.x,yu.z,0,-yu.x,zf.z,0,-zf.x,-vu.y,vu.x,0,-yu.y,yu.x,0,-zf.y,zf.x,0];return!t1(e,Ad,Td,wd,v0)||(e=[1,0,0,0,1,0,0,0,1],!t1(e,Ad,Td,wd,v0))?!1:(y0.crossVectors(vu,yu),e=[y0.x,y0.y,y0.z],t1(e,Ad,Td,wd,v0))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,mo).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(mo).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:($l[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),$l[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),$l[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),$l[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),$l[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),$l[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),$l[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),$l[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints($l),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const $l=[new ct,new ct,new ct,new ct,new ct,new ct,new ct,new ct],mo=new ct,g0=new Gr,Ad=new ct,Td=new ct,wd=new ct,vu=new ct,yu=new ct,zf=new ct,eg=new ct,v0=new ct,y0=new ct,Bf=new ct;function t1(n,t,e,i,r){for(let a=0,l=n.length-3;a<=l;a+=3){Bf.fromArray(n,a);const u=r.x*Math.abs(Bf.x)+r.y*Math.abs(Bf.y)+r.z*Math.abs(Bf.z),h=t.dot(Bf),p=e.dot(Bf),m=i.dot(Bf);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>u)return!1}return!0}const l8=new Gr,ng=new ct,e1=new ct;class jr{constructor(t=new ct,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):l8.setFromPoints(t).getCenter(i);let r=0;for(let a=0,l=t.length;a<l;a++)r=Math.max(r,i.distanceToSquared(t[a]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;ng.subVectors(t,this.center);const e=ng.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=(i-this.radius)*.5;this.center.addScaledVector(ng,r/i),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(e1.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ng.copy(t.center).add(e1)),this.expandByPoint(ng.copy(t.center).sub(e1))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const tc=new ct,n1=new ct,_0=new ct,_u=new ct,i1=new ct,x0=new ct,r1=new ct;class Cp{constructor(t=new ct,e=new ct(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,tc)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=tc.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(tc.copy(this.origin).addScaledVector(this.direction,e),tc.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){n1.copy(t).add(e).multiplyScalar(.5),_0.copy(e).sub(t).normalize(),_u.copy(this.origin).sub(n1);const a=t.distanceTo(e)*.5,l=-this.direction.dot(_0),u=_u.dot(this.direction),h=-_u.dot(_0),p=_u.lengthSq(),m=Math.abs(1-l*l);let v,_,b,S;if(m>0)if(v=l*h-u,_=l*u-h,S=a*m,v>=0)if(_>=-S)if(_<=S){const A=1/m;v*=A,_*=A,b=v*(v+l*_+2*u)+_*(l*v+_+2*h)+p}else _=a,v=Math.max(0,-(l*_+u)),b=-v*v+_*(_+2*h)+p;else _=-a,v=Math.max(0,-(l*_+u)),b=-v*v+_*(_+2*h)+p;else _<=-S?(v=Math.max(0,-(-l*a+u)),_=v>0?-a:Math.min(Math.max(-a,-h),a),b=-v*v+_*(_+2*h)+p):_<=S?(v=0,_=Math.min(Math.max(-a,-h),a),b=_*(_+2*h)+p):(v=Math.max(0,-(l*a+u)),_=v>0?a:Math.min(Math.max(-a,-h),a),b=-v*v+_*(_+2*h)+p);else _=l>0?-a:a,v=Math.max(0,-(l*_+u)),b=-v*v+_*(_+2*h)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,v),r&&r.copy(n1).addScaledVector(_0,_),b}intersectSphere(t,e){tc.subVectors(t.center,this.origin);const i=tc.dot(this.direction),r=tc.dot(tc)-i*i,a=t.radius*t.radius;if(r>a)return null;const l=Math.sqrt(a-r),u=i-l,h=i+l;return h<0?null:u<0?this.at(h,e):this.at(u,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,a,l,u,h;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,_=this.origin;return p>=0?(i=(t.min.x-_.x)*p,r=(t.max.x-_.x)*p):(i=(t.max.x-_.x)*p,r=(t.min.x-_.x)*p),m>=0?(a=(t.min.y-_.y)*m,l=(t.max.y-_.y)*m):(a=(t.max.y-_.y)*m,l=(t.min.y-_.y)*m),i>l||a>r||((a>i||isNaN(i))&&(i=a),(l<r||isNaN(r))&&(r=l),v>=0?(u=(t.min.z-_.z)*v,h=(t.max.z-_.z)*v):(u=(t.max.z-_.z)*v,h=(t.min.z-_.z)*v),i>h||u>r)||((u>i||i!==i)&&(i=u),(h<r||r!==r)&&(r=h),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return this.intersectBox(t,tc)!==null}intersectTriangle(t,e,i,r,a){i1.subVectors(e,t),x0.subVectors(i,t),r1.crossVectors(i1,x0);let l=this.direction.dot(r1),u;if(l>0){if(r)return null;u=1}else if(l<0)u=-1,l=-l;else return null;_u.subVectors(this.origin,t);const h=u*this.direction.dot(x0.crossVectors(_u,x0));if(h<0)return null;const p=u*this.direction.dot(i1.cross(_u));if(p<0||h+p>l)return null;const m=-u*_u.dot(r1);return m<0?null:this.at(m/l,a)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class en{constructor(t,e,i,r,a,l,u,h,p,m,v,_,b,S,A,M){en.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,r,a,l,u,h,p,m,v,_,b,S,A,M)}set(t,e,i,r,a,l,u,h,p,m,v,_,b,S,A,M){const x=this.elements;return x[0]=t,x[4]=e,x[8]=i,x[12]=r,x[1]=a,x[5]=l,x[9]=u,x[13]=h,x[2]=p,x[6]=m,x[10]=v,x[14]=_,x[3]=b,x[7]=S,x[11]=A,x[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new en().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/Rd.setFromMatrixColumn(t,0).length(),a=1/Rd.setFromMatrixColumn(t,1).length(),l=1/Rd.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*a,e[5]=i[5]*a,e[6]=i[6]*a,e[7]=0,e[8]=i[8]*l,e[9]=i[9]*l,e[10]=i[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,a=t.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(r),p=Math.sin(r),m=Math.cos(a),v=Math.sin(a);if(t.order==="XYZ"){const _=l*m,b=l*v,S=u*m,A=u*v;e[0]=h*m,e[4]=-h*v,e[8]=p,e[1]=b+S*p,e[5]=_-A*p,e[9]=-u*h,e[2]=A-_*p,e[6]=S+b*p,e[10]=l*h}else if(t.order==="YXZ"){const _=h*m,b=h*v,S=p*m,A=p*v;e[0]=_+A*u,e[4]=S*u-b,e[8]=l*p,e[1]=l*v,e[5]=l*m,e[9]=-u,e[2]=b*u-S,e[6]=A+_*u,e[10]=l*h}else if(t.order==="ZXY"){const _=h*m,b=h*v,S=p*m,A=p*v;e[0]=_-A*u,e[4]=-l*v,e[8]=S+b*u,e[1]=b+S*u,e[5]=l*m,e[9]=A-_*u,e[2]=-l*p,e[6]=u,e[10]=l*h}else if(t.order==="ZYX"){const _=l*m,b=l*v,S=u*m,A=u*v;e[0]=h*m,e[4]=S*p-b,e[8]=_*p+A,e[1]=h*v,e[5]=A*p+_,e[9]=b*p-S,e[2]=-p,e[6]=u*h,e[10]=l*h}else if(t.order==="YZX"){const _=l*h,b=l*p,S=u*h,A=u*p;e[0]=h*m,e[4]=A-_*v,e[8]=S*v+b,e[1]=v,e[5]=l*m,e[9]=-u*m,e[2]=-p*m,e[6]=b*v+S,e[10]=_-A*v}else if(t.order==="XZY"){const _=l*h,b=l*p,S=u*h,A=u*p;e[0]=h*m,e[4]=-v,e[8]=p*m,e[1]=_*v+A,e[5]=l*m,e[9]=b*v-S,e[2]=S*v-b,e[6]=u*m,e[10]=A*v+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(c8,t,u8)}lookAt(t,e,i){const r=this.elements;return fa.subVectors(t,e),fa.lengthSq()===0&&(fa.z=1),fa.normalize(),xu.crossVectors(i,fa),xu.lengthSq()===0&&(Math.abs(i.z)===1?fa.x+=1e-4:fa.z+=1e-4,fa.normalize(),xu.crossVectors(i,fa)),xu.normalize(),b0.crossVectors(fa,xu),r[0]=xu.x,r[4]=b0.x,r[8]=fa.x,r[1]=xu.y,r[5]=b0.y,r[9]=fa.y,r[2]=xu.z,r[6]=b0.z,r[10]=fa.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,a=this.elements,l=i[0],u=i[4],h=i[8],p=i[12],m=i[1],v=i[5],_=i[9],b=i[13],S=i[2],A=i[6],M=i[10],x=i[14],T=i[3],R=i[7],O=i[11],I=i[15],P=r[0],B=r[4],N=r[8],L=r[12],U=r[1],F=r[5],K=r[9],tt=r[13],nt=r[2],at=r[6],H=r[10],k=r[14],V=r[3],Q=r[7],j=r[11],st=r[15];return a[0]=l*P+u*U+h*nt+p*V,a[4]=l*B+u*F+h*at+p*Q,a[8]=l*N+u*K+h*H+p*j,a[12]=l*L+u*tt+h*k+p*st,a[1]=m*P+v*U+_*nt+b*V,a[5]=m*B+v*F+_*at+b*Q,a[9]=m*N+v*K+_*H+b*j,a[13]=m*L+v*tt+_*k+b*st,a[2]=S*P+A*U+M*nt+x*V,a[6]=S*B+A*F+M*at+x*Q,a[10]=S*N+A*K+M*H+x*j,a[14]=S*L+A*tt+M*k+x*st,a[3]=T*P+R*U+O*nt+I*V,a[7]=T*B+R*F+O*at+I*Q,a[11]=T*N+R*K+O*H+I*j,a[15]=T*L+R*tt+O*k+I*st,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],a=t[12],l=t[1],u=t[5],h=t[9],p=t[13],m=t[2],v=t[6],_=t[10],b=t[14],S=t[3],A=t[7],M=t[11],x=t[15];return S*(+a*h*v-r*p*v-a*u*_+i*p*_+r*u*b-i*h*b)+A*(+e*h*b-e*p*_+a*l*_-r*l*b+r*p*m-a*h*m)+M*(+e*p*v-e*u*b-a*l*v+i*l*b+a*u*m-i*p*m)+x*(-r*u*m-e*h*v+e*u*_+r*l*v-i*l*_+i*h*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],p=t[7],m=t[8],v=t[9],_=t[10],b=t[11],S=t[12],A=t[13],M=t[14],x=t[15],T=v*M*p-A*_*p+A*h*b-u*M*b-v*h*x+u*_*x,R=S*_*p-m*M*p-S*h*b+l*M*b+m*h*x-l*_*x,O=m*A*p-S*v*p+S*u*b-l*A*b-m*u*x+l*v*x,I=S*v*h-m*A*h-S*u*_+l*A*_+m*u*M-l*v*M,P=e*T+i*R+r*O+a*I;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/P;return t[0]=T*B,t[1]=(A*_*a-v*M*a-A*r*b+i*M*b+v*r*x-i*_*x)*B,t[2]=(u*M*a-A*h*a+A*r*p-i*M*p-u*r*x+i*h*x)*B,t[3]=(v*h*a-u*_*a-v*r*p+i*_*p+u*r*b-i*h*b)*B,t[4]=R*B,t[5]=(m*M*a-S*_*a+S*r*b-e*M*b-m*r*x+e*_*x)*B,t[6]=(S*h*a-l*M*a-S*r*p+e*M*p+l*r*x-e*h*x)*B,t[7]=(l*_*a-m*h*a+m*r*p-e*_*p-l*r*b+e*h*b)*B,t[8]=O*B,t[9]=(S*v*a-m*A*a-S*i*b+e*A*b+m*i*x-e*v*x)*B,t[10]=(l*A*a-S*u*a+S*i*p-e*A*p-l*i*x+e*u*x)*B,t[11]=(m*u*a-l*v*a-m*i*p+e*v*p+l*i*b-e*u*b)*B,t[12]=I*B,t[13]=(m*A*r-S*v*r+S*i*_-e*A*_-m*i*M+e*v*M)*B,t[14]=(S*u*r-l*A*r-S*i*h+e*A*h+l*i*M-e*u*M)*B,t[15]=(l*v*r-m*u*r+m*i*h-e*v*h-l*i*_+e*u*_)*B,this}scale(t){const e=this.elements,i=t.x,r=t.y,a=t.z;return e[0]*=i,e[4]*=r,e[8]*=a,e[1]*=i,e[5]*=r,e[9]*=a,e[2]*=i,e[6]*=r,e[10]*=a,e[3]*=i,e[7]*=r,e[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),a=1-i,l=t.x,u=t.y,h=t.z,p=a*l,m=a*u;return this.set(p*l+i,p*u-r*h,p*h+r*u,0,p*u+r*h,m*u+i,m*h-r*l,0,p*h-r*u,m*h+r*l,a*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,a,l){return this.set(1,i,a,0,t,1,l,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,a=e._x,l=e._y,u=e._z,h=e._w,p=a+a,m=l+l,v=u+u,_=a*p,b=a*m,S=a*v,A=l*m,M=l*v,x=u*v,T=h*p,R=h*m,O=h*v,I=i.x,P=i.y,B=i.z;return r[0]=(1-(A+x))*I,r[1]=(b+O)*I,r[2]=(S-R)*I,r[3]=0,r[4]=(b-O)*P,r[5]=(1-(_+x))*P,r[6]=(M+T)*P,r[7]=0,r[8]=(S+R)*B,r[9]=(M-T)*B,r[10]=(1-(_+A))*B,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let a=Rd.set(r[0],r[1],r[2]).length();const l=Rd.set(r[4],r[5],r[6]).length(),u=Rd.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),t.x=r[12],t.y=r[13],t.z=r[14],go.copy(this);const p=1/a,m=1/l,v=1/u;return go.elements[0]*=p,go.elements[1]*=p,go.elements[2]*=p,go.elements[4]*=m,go.elements[5]*=m,go.elements[6]*=m,go.elements[8]*=v,go.elements[9]*=v,go.elements[10]*=v,e.setFromRotationMatrix(go),i.x=a,i.y=l,i.z=u,this}makePerspective(t,e,i,r,a,l,u=Fa){const h=this.elements,p=2*a/(e-t),m=2*a/(i-r),v=(e+t)/(e-t),_=(i+r)/(i-r);let b,S;if(u===Fa)b=-(l+a)/(l-a),S=-2*l*a/(l-a);else if(u===tv)b=-l/(l-a),S=-l*a/(l-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return h[0]=p,h[4]=0,h[8]=v,h[12]=0,h[1]=0,h[5]=m,h[9]=_,h[13]=0,h[2]=0,h[6]=0,h[10]=b,h[14]=S,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,e,i,r,a,l,u=Fa){const h=this.elements,p=1/(e-t),m=1/(i-r),v=1/(l-a),_=(e+t)*p,b=(i+r)*m;let S,A;if(u===Fa)S=(l+a)*v,A=-2*v;else if(u===tv)S=a*v,A=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return h[0]=2*p,h[4]=0,h[8]=0,h[12]=-_,h[1]=0,h[5]=2*m,h[9]=0,h[13]=-b,h[2]=0,h[6]=0,h[10]=A,h[14]=-S,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const Rd=new ct,go=new en,c8=new ct(0,0,0),u8=new ct(1,1,1),xu=new ct,b0=new ct,fa=new ct,YT=new en,WT=new Rs;class ya{constructor(t=0,e=0,i=0,r=ya.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,r=this._order){return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const r=t.elements,a=r[0],l=r[4],u=r[8],h=r[1],p=r[5],m=r[9],v=r[2],_=r[6],b=r[10];switch(e){case"XYZ":this._y=Math.asin(gn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-l,a)):(this._x=Math.atan2(_,p),this._z=0);break;case"YXZ":this._x=Math.asin(-gn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-v,a),this._z=0);break;case"ZXY":this._x=Math.asin(gn(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-v,b),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(h,a));break;case"ZYX":this._y=Math.asin(-gn(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(_,b),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(gn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,a)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-gn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(_,p),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return YT.makeRotationFromQuaternion(t),this.setFromRotationMatrix(YT,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return WT.setFromEuler(this),this.setFromQuaternion(WT,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ya.DEFAULT_ORDER="XYZ";class mp{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let f8=0;const ZT=new ct,Cd=new Rs,ec=new en,S0=new ct,ig=new ct,h8=new ct,d8=new Rs,KT=new ct(1,0,0),QT=new ct(0,1,0),JT=new ct(0,0,1),$T={type:"added"},p8={type:"removed"},Od={type:"childadded",child:null},s1={type:"childremoved",child:null};class jn extends Tl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:f8++}),this.uuid=ga(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jn.DEFAULT_UP.clone();const t=new ct,e=new ya,i=new Rs,r=new ct(1,1,1);function a(){i.setFromEuler(e,!1)}function l(){e.setFromQuaternion(i,void 0,!1)}e._onChange(a),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new en},normalMatrix:{value:new _n}}),this.matrix=new en,this.matrixWorld=new en,this.matrixAutoUpdate=jn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=jn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new mp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Cd.setFromAxisAngle(t,e),this.quaternion.multiply(Cd),this}rotateOnWorldAxis(t,e){return Cd.setFromAxisAngle(t,e),this.quaternion.premultiply(Cd),this}rotateX(t){return this.rotateOnAxis(KT,t)}rotateY(t){return this.rotateOnAxis(QT,t)}rotateZ(t){return this.rotateOnAxis(JT,t)}translateOnAxis(t,e){return ZT.copy(t).applyQuaternion(this.quaternion),this.position.add(ZT.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(KT,t)}translateY(t){return this.translateOnAxis(QT,t)}translateZ(t){return this.translateOnAxis(JT,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ec.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?S0.copy(t):S0.set(t,e,i);const r=this.parent;this.updateWorldMatrix(!0,!1),ig.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ec.lookAt(ig,S0,this.up):ec.lookAt(S0,ig,this.up),this.quaternion.setFromRotationMatrix(ec),r&&(ec.extractRotation(r.matrixWorld),Cd.setFromRotationMatrix(ec),this.quaternion.premultiply(Cd.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent($T),Od.child=t,this.dispatchEvent(Od),Od.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(p8),s1.child=t,this.dispatchEvent(s1),s1.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),ec.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),ec.multiply(t.parent.matrixWorld)),t.applyMatrix4(ec),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent($T),Od.child=t,this.dispatchEvent(Od),Od.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,r=this.children.length;i<r;i++){const l=this.children[i].getObjectByProperty(t,e);if(l!==void 0)return l}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const r=this.children;for(let a=0,l=r.length;a<l;a++)r[a].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ig,t,h8),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ig,d8,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const r=this.children;for(let a=0,l=r.length;a<l;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?{min:u.boundingBox.min.toArray(),max:u.boundingBox.max.toArray()}:void 0,boundingSphere:u.boundingSphere?{radius:u.boundingSphere.radius,center:u.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(u=>({...u})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(t),r.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function a(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(t.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const v=h[p];a(t.shapes,v)}else a(t.shapes,h)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,p=this.material.length;h<p;h++)u.push(a(t.materials,this.material[h]));r.material=u}else r.material=a(t.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];r.animations.push(a(t.animations,h))}}if(e){const u=l(t.geometries),h=l(t.materials),p=l(t.textures),m=l(t.images),v=l(t.shapes),_=l(t.skeletons),b=l(t.animations),S=l(t.nodes);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),_.length>0&&(i.skeletons=_),b.length>0&&(i.animations=b),S.length>0&&(i.nodes=S)}return i.object=r,i;function l(u){const h=[];for(const p in u){const m=u[p];delete m.metadata,h.push(m)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const r=t.children[i];this.add(r.clone())}return this}}jn.DEFAULT_UP=new ct(0,1,0);jn.DEFAULT_MATRIX_AUTO_UPDATE=!0;jn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const vo=new ct,nc=new ct,a1=new ct,ic=new ct,Nd=new ct,Ld=new ct,tw=new ct,o1=new ct,l1=new ct,c1=new ct,u1=new Gn,f1=new Gn,h1=new Gn;class Zs{constructor(t=new ct,e=new ct,i=new ct){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),vo.subVectors(t,e),r.cross(vo);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(t,e,i,r,a){vo.subVectors(r,e),nc.subVectors(i,e),a1.subVectors(t,e);const l=vo.dot(vo),u=vo.dot(nc),h=vo.dot(a1),p=nc.dot(nc),m=nc.dot(a1),v=l*p-u*u;if(v===0)return a.set(0,0,0),null;const _=1/v,b=(p*h-u*m)*_,S=(l*m-u*h)*_;return a.set(1-b-S,S,b)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,ic)===null?!1:ic.x>=0&&ic.y>=0&&ic.x+ic.y<=1}static getInterpolation(t,e,i,r,a,l,u,h){return this.getBarycoord(t,e,i,r,ic)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(a,ic.x),h.addScaledVector(l,ic.y),h.addScaledVector(u,ic.z),h)}static getInterpolatedAttribute(t,e,i,r,a,l){return u1.setScalar(0),f1.setScalar(0),h1.setScalar(0),u1.fromBufferAttribute(t,e),f1.fromBufferAttribute(t,i),h1.fromBufferAttribute(t,r),l.setScalar(0),l.addScaledVector(u1,a.x),l.addScaledVector(f1,a.y),l.addScaledVector(h1,a.z),l}static isFrontFacing(t,e,i,r){return vo.subVectors(i,e),nc.subVectors(t,e),vo.cross(nc).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return vo.subVectors(this.c,this.b),nc.subVectors(this.a,this.b),vo.cross(nc).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Zs.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Zs.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,r,a){return Zs.getInterpolation(t,this.a,this.b,this.c,e,i,r,a)}containsPoint(t){return Zs.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Zs.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,a=this.c;let l,u;Nd.subVectors(r,i),Ld.subVectors(a,i),o1.subVectors(t,i);const h=Nd.dot(o1),p=Ld.dot(o1);if(h<=0&&p<=0)return e.copy(i);l1.subVectors(t,r);const m=Nd.dot(l1),v=Ld.dot(l1);if(m>=0&&v<=m)return e.copy(r);const _=h*v-m*p;if(_<=0&&h>=0&&m<=0)return l=h/(h-m),e.copy(i).addScaledVector(Nd,l);c1.subVectors(t,a);const b=Nd.dot(c1),S=Ld.dot(c1);if(S>=0&&b<=S)return e.copy(a);const A=b*p-h*S;if(A<=0&&p>=0&&S<=0)return u=p/(p-S),e.copy(i).addScaledVector(Ld,u);const M=m*S-b*v;if(M<=0&&v-m>=0&&b-S>=0)return tw.subVectors(a,r),u=(v-m)/(v-m+(b-S)),e.copy(r).addScaledVector(tw,u);const x=1/(M+A+_);return l=A*x,u=_*x,e.copy(i).addScaledVector(Nd,l).addScaledVector(Ld,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const pN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bu={h:0,s:0,l:0},M0={h:0,s:0,l:0};function d1(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class Ce{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Vr){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Bn.toWorkingColorSpace(this,e),this}setRGB(t,e,i,r=Bn.workingColorSpace){return this.r=t,this.g=e,this.b=i,Bn.toWorkingColorSpace(this,r),this}setHSL(t,e,i,r=Bn.workingColorSpace){if(t=rD(t,1),e=gn(e,0,1),i=gn(i,0,1),e===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+e):i+e-i*e,l=2*i-a;this.r=d1(l,a,t+1/3),this.g=d1(l,a,t),this.b=d1(l,a,t-1/3)}return Bn.toWorkingColorSpace(this,r),this}setStyle(t,e=Vr){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let a;const l=r[1],u=r[2];switch(l){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,e);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,e);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const a=r[1],l=a.length;if(l===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(a,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Vr){const i=pN[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=dc(t.r),this.g=dc(t.g),this.b=dc(t.b),this}copyLinearToSRGB(t){return this.r=ip(t.r),this.g=ip(t.g),this.b=ip(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Vr){return Bn.fromWorkingColorSpace(is.copy(this),t),Math.round(gn(is.r*255,0,255))*65536+Math.round(gn(is.g*255,0,255))*256+Math.round(gn(is.b*255,0,255))}getHexString(t=Vr){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Bn.workingColorSpace){Bn.fromWorkingColorSpace(is.copy(this),e);const i=is.r,r=is.g,a=is.b,l=Math.max(i,r,a),u=Math.min(i,r,a);let h,p;const m=(u+l)/2;if(u===l)h=0,p=0;else{const v=l-u;switch(p=m<=.5?v/(l+u):v/(2-l-u),l){case i:h=(r-a)/v+(r<a?6:0);break;case r:h=(a-i)/v+2;break;case a:h=(i-r)/v+4;break}h/=6}return t.h=h,t.s=p,t.l=m,t}getRGB(t,e=Bn.workingColorSpace){return Bn.fromWorkingColorSpace(is.copy(this),e),t.r=is.r,t.g=is.g,t.b=is.b,t}getStyle(t=Vr){Bn.fromWorkingColorSpace(is.copy(this),t);const e=is.r,i=is.g,r=is.b;return t!==Vr?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(t,e,i){return this.getHSL(bu),this.setHSL(bu.h+t,bu.s+e,bu.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(bu),t.getHSL(M0);const i=Pg(bu.h,M0.h,e),r=Pg(bu.s,M0.s,e),a=Pg(bu.l,M0.l,e);return this.setHSL(i,r,a),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,a=t.elements;return this.r=a[0]*e+a[3]*i+a[6]*r,this.g=a[1]*e+a[4]*i+a[7]*r,this.b=a[2]*e+a[5]*i+a[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const is=new Ce;Ce.NAMES=pN;let m8=0;class as extends Tl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:m8++}),this.uuid=ga(),this.name="",this.type="Material",this.blending=rh,this.side=_c,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=q_,this.blendDst=X_,this.blendEquation=wu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ce(0,0,0),this.blendAlpha=0,this.depthFunc=ch,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kf,this.stencilZFail=Kf,this.stencilZPass=Kf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==rh&&(i.blending=this.blending),this.side!==_c&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==q_&&(i.blendSrc=this.blendSrc),this.blendDst!==X_&&(i.blendDst=this.blendDst),this.blendEquation!==wu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ch&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==GM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Kf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Kf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Kf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}if(e){const a=r(t.textures),l=r(t.images);a.length>0&&(i.textures=a),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const r=e.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=e[a].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class Sc extends as{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ya,this.combine=_v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const uc=g8();function g8(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(i[h]=0,i[h|256]=32768,r[h]=24,r[h|256]=24):p<-14?(i[h]=1024>>-p-14,i[h|256]=1024>>-p-14|32768,r[h]=-p-1,r[h|256]=-p-1):p<=15?(i[h]=p+15<<10,i[h|256]=p+15<<10|32768,r[h]=13,r[h|256]=13):p<128?(i[h]=31744,i[h|256]=64512,r[h]=24,r[h|256]=24):(i[h]=31744,i[h|256]=64512,r[h]=13,r[h|256]=13)}const a=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,a[h]=p|m}for(let h=1024;h<2048;++h)a[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)l[h]=h<<23;l[31]=1199570944,l[32]=2147483648;for(let h=33;h<63;++h)l[h]=2147483648+(h-32<<23);l[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:l,offsetTable:u}}function Ws(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=gn(n,-65504,65504),uc.floatView[0]=n;const t=uc.uint32View[0],e=t>>23&511;return uc.baseTable[e]+((t&8388607)>>uc.shiftTable[e])}function Sg(n){const t=n>>10;return uc.uint32View[0]=uc.mantissaTable[uc.offsetTable[t]+(n&1023)]+uc.exponentTable[t],uc.floatView[0]}class eh{static toHalfFloat(t){return Ws(t)}static fromHalfFloat(t){return Sg(t)}}const ar=new ct,E0=new ee;let v8=0;class li{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:v8++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=$g,this.updateRanges=[],this.gpuType=ki,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)E0.fromBufferAttribute(this,e),E0.applyMatrix3(t),this.setXY(e,E0.x,E0.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)ar.fromBufferAttribute(this,e),ar.applyMatrix3(t),this.setXYZ(e,ar.x,ar.y,ar.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)ar.fromBufferAttribute(this,e),ar.applyMatrix4(t),this.setXYZ(e,ar.x,ar.y,ar.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ar.fromBufferAttribute(this,e),ar.applyNormalMatrix(t),this.setXYZ(e,ar.x,ar.y,ar.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ar.fromBufferAttribute(this,e),ar.transformDirection(t),this.setXYZ(e,ar.x,ar.y,ar.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=As(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Mn(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=As(e,this.array)),e}setX(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=As(e,this.array)),e}setY(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=As(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=As(e,this.array)),e}setW(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array),r=Mn(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,a){return t*=this.itemSize,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array),r=Mn(r,this.array),a=Mn(a,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==$g&&(t.usage=this.usage),t}}class y8 extends li{constructor(t,e,i){super(new Int8Array(t),e,i)}}class _8 extends li{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class x8 extends li{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class b8 extends li{constructor(t,e,i){super(new Int16Array(t),e,i)}}class sD extends li{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class S8 extends li{constructor(t,e,i){super(new Int32Array(t),e,i)}}class aD extends li{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class M8 extends li{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=Sg(this.array[t*this.itemSize]);return this.normalized&&(e=As(e,this.array)),e}setX(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize]=Ws(e),this}getY(t){let e=Sg(this.array[t*this.itemSize+1]);return this.normalized&&(e=As(e,this.array)),e}setY(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize+1]=Ws(e),this}getZ(t){let e=Sg(this.array[t*this.itemSize+2]);return this.normalized&&(e=As(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize+2]=Ws(e),this}getW(t){let e=Sg(this.array[t*this.itemSize+3]);return this.normalized&&(e=As(e,this.array)),e}setW(t,e){return this.normalized&&(e=Mn(e,this.array)),this.array[t*this.itemSize+3]=Ws(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array)),this.array[t+0]=Ws(e),this.array[t+1]=Ws(i),this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array),r=Mn(r,this.array)),this.array[t+0]=Ws(e),this.array[t+1]=Ws(i),this.array[t+2]=Ws(r),this}setXYZW(t,e,i,r,a){return t*=this.itemSize,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array),r=Mn(r,this.array),a=Mn(a,this.array)),this.array[t+0]=Ws(e),this.array[t+1]=Ws(i),this.array[t+2]=Ws(r),this.array[t+3]=Ws(a),this}}class ze extends li{constructor(t,e,i){super(new Float32Array(t),e,i)}}let E8=0;const Ba=new en,p1=new jn,Ud=new ct,ha=new Gr,rg=new Gr,wr=new ct;class xn extends Tl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:E8++}),this.uuid=ga(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(fN(t)?aD:sD)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new _n().getNormalMatrix(t);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ba.makeRotationFromQuaternion(t),this.applyMatrix4(Ba),this}rotateX(t){return Ba.makeRotationX(t),this.applyMatrix4(Ba),this}rotateY(t){return Ba.makeRotationY(t),this.applyMatrix4(Ba),this}rotateZ(t){return Ba.makeRotationZ(t),this.applyMatrix4(Ba),this}translate(t,e,i){return Ba.makeTranslation(t,e,i),this.applyMatrix4(Ba),this}scale(t,e,i){return Ba.makeScale(t,e,i),this.applyMatrix4(Ba),this}lookAt(t){return p1.lookAt(t),p1.updateMatrix(),this.applyMatrix4(p1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ud).negate(),this.translate(Ud.x,Ud.y,Ud.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new ze(i,3))}else{const i=Math.min(t.length,e.count);for(let r=0;r<i;r++){const a=t[r];e.setXYZ(r,a.x,a.y,a.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ct(-1/0,-1/0,-1/0),new ct(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++){const a=e[i];ha.setFromBufferAttribute(a),this.morphTargetsRelative?(wr.addVectors(this.boundingBox.min,ha.min),this.boundingBox.expandByPoint(wr),wr.addVectors(this.boundingBox.max,ha.max),this.boundingBox.expandByPoint(wr)):(this.boundingBox.expandByPoint(ha.min),this.boundingBox.expandByPoint(ha.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ct,1/0);return}if(t){const i=this.boundingSphere.center;if(ha.setFromBufferAttribute(t),e)for(let a=0,l=e.length;a<l;a++){const u=e[a];rg.setFromBufferAttribute(u),this.morphTargetsRelative?(wr.addVectors(ha.min,rg.min),ha.expandByPoint(wr),wr.addVectors(ha.max,rg.max),ha.expandByPoint(wr)):(ha.expandByPoint(rg.min),ha.expandByPoint(rg.max))}ha.getCenter(i);let r=0;for(let a=0,l=t.count;a<l;a++)wr.fromBufferAttribute(t,a),r=Math.max(r,i.distanceToSquared(wr));if(e)for(let a=0,l=e.length;a<l;a++){const u=e[a],h=this.morphTargetsRelative;for(let p=0,m=u.count;p<m;p++)wr.fromBufferAttribute(u,p),h&&(Ud.fromBufferAttribute(t,p),wr.add(Ud)),r=Math.max(r,i.distanceToSquared(wr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,r=e.normal,a=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new li(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],h=[];for(let N=0;N<i.count;N++)u[N]=new ct,h[N]=new ct;const p=new ct,m=new ct,v=new ct,_=new ee,b=new ee,S=new ee,A=new ct,M=new ct;function x(N,L,U){p.fromBufferAttribute(i,N),m.fromBufferAttribute(i,L),v.fromBufferAttribute(i,U),_.fromBufferAttribute(a,N),b.fromBufferAttribute(a,L),S.fromBufferAttribute(a,U),m.sub(p),v.sub(p),b.sub(_),S.sub(_);const F=1/(b.x*S.y-S.x*b.y);isFinite(F)&&(A.copy(m).multiplyScalar(S.y).addScaledVector(v,-b.y).multiplyScalar(F),M.copy(v).multiplyScalar(b.x).addScaledVector(m,-S.x).multiplyScalar(F),u[N].add(A),u[L].add(A),u[U].add(A),h[N].add(M),h[L].add(M),h[U].add(M))}let T=this.groups;T.length===0&&(T=[{start:0,count:t.count}]);for(let N=0,L=T.length;N<L;++N){const U=T[N],F=U.start,K=U.count;for(let tt=F,nt=F+K;tt<nt;tt+=3)x(t.getX(tt+0),t.getX(tt+1),t.getX(tt+2))}const R=new ct,O=new ct,I=new ct,P=new ct;function B(N){I.fromBufferAttribute(r,N),P.copy(I);const L=u[N];R.copy(L),R.sub(I.multiplyScalar(I.dot(L))).normalize(),O.crossVectors(P,L);const F=O.dot(h[N])<0?-1:1;l.setXYZW(N,R.x,R.y,R.z,F)}for(let N=0,L=T.length;N<L;++N){const U=T[N],F=U.start,K=U.count;for(let tt=F,nt=F+K;tt<nt;tt+=3)B(t.getX(tt+0)),B(t.getX(tt+1)),B(t.getX(tt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new li(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let _=0,b=i.count;_<b;_++)i.setXYZ(_,0,0,0);const r=new ct,a=new ct,l=new ct,u=new ct,h=new ct,p=new ct,m=new ct,v=new ct;if(t)for(let _=0,b=t.count;_<b;_+=3){const S=t.getX(_+0),A=t.getX(_+1),M=t.getX(_+2);r.fromBufferAttribute(e,S),a.fromBufferAttribute(e,A),l.fromBufferAttribute(e,M),m.subVectors(l,a),v.subVectors(r,a),m.cross(v),u.fromBufferAttribute(i,S),h.fromBufferAttribute(i,A),p.fromBufferAttribute(i,M),u.add(m),h.add(m),p.add(m),i.setXYZ(S,u.x,u.y,u.z),i.setXYZ(A,h.x,h.y,h.z),i.setXYZ(M,p.x,p.y,p.z)}else for(let _=0,b=e.count;_<b;_+=3)r.fromBufferAttribute(e,_+0),a.fromBufferAttribute(e,_+1),l.fromBufferAttribute(e,_+2),m.subVectors(l,a),v.subVectors(r,a),m.cross(v),i.setXYZ(_+0,m.x,m.y,m.z),i.setXYZ(_+1,m.x,m.y,m.z),i.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)wr.fromBufferAttribute(t,e),wr.normalize(),t.setXYZ(e,wr.x,wr.y,wr.z)}toNonIndexed(){function t(u,h){const p=u.array,m=u.itemSize,v=u.normalized,_=new p.constructor(h.length*m);let b=0,S=0;for(let A=0,M=h.length;A<M;A++){u.isInterleavedBufferAttribute?b=h[A]*u.data.stride+u.offset:b=h[A]*m;for(let x=0;x<m;x++)_[S++]=p[b++]}return new li(_,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new xn,i=this.index.array,r=this.attributes;for(const u in r){const h=r[u],p=t(h,i);e.setAttribute(u,p)}const a=this.morphAttributes;for(const u in a){const h=[],p=a[u];for(let m=0,v=p.length;m<v;m++){const _=p[m],b=t(_,i);h.push(b)}e.morphAttributes[u]=h}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,h=l.length;u<h;u++){const p=l[u];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(t[p]=h[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const h in i){const p=i[h];t.data.attributes[h]=p.toJSON(t.data)}const r={};let a=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let v=0,_=p.length;v<_;v++){const b=p[v];m.push(b.toJSON(t.data))}m.length>0&&(r[h]=m,a=!0)}a&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone());const r=t.attributes;for(const p in r){const m=r[p];this.setAttribute(p,m.clone(e))}const a=t.morphAttributes;for(const p in a){const m=[],v=a[p];for(let _=0,b=v.length;_<b;_++)m.push(v[_].clone(e));this.morphAttributes[p]=m}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,m=l.length;p<m;p++){const v=l[p];this.addGroup(v.start,v.count,v.materialIndex)}const u=t.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ew=new en,Hf=new Cp,D0=new jr,nw=new ct,A0=new ct,T0=new ct,w0=new ct,m1=new ct,R0=new ct,iw=new ct,C0=new ct;class Ni extends jn{constructor(t=new xn,e=new Sc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=r.length;a<l;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}getVertexPosition(t,e){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,l=i.morphTargetsRelative;e.fromBufferAttribute(r,t);const u=this.morphTargetInfluences;if(a&&u){R0.set(0,0,0);for(let h=0,p=a.length;h<p;h++){const m=u[h],v=a[h];m!==0&&(m1.fromBufferAttribute(v,t),l?R0.addScaledVector(m1,m):R0.addScaledVector(m1.sub(e),m))}e.add(R0)}return e}raycast(t,e){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),D0.copy(i.boundingSphere),D0.applyMatrix4(a),Hf.copy(t.ray).recast(t.near),!(D0.containsPoint(Hf.origin)===!1&&(Hf.intersectSphere(D0,nw)===null||Hf.origin.distanceToSquared(nw)>(t.far-t.near)**2))&&(ew.copy(a).invert(),Hf.copy(t.ray).applyMatrix4(ew),!(i.boundingBox!==null&&Hf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Hf)))}_computeIntersections(t,e,i){let r;const a=this.geometry,l=this.material,u=a.index,h=a.attributes.position,p=a.attributes.uv,m=a.attributes.uv1,v=a.attributes.normal,_=a.groups,b=a.drawRange;if(u!==null)if(Array.isArray(l))for(let S=0,A=_.length;S<A;S++){const M=_[S],x=l[M.materialIndex],T=Math.max(M.start,b.start),R=Math.min(u.count,Math.min(M.start+M.count,b.start+b.count));for(let O=T,I=R;O<I;O+=3){const P=u.getX(O),B=u.getX(O+1),N=u.getX(O+2);r=O0(this,x,t,i,p,m,v,P,B,N),r&&(r.faceIndex=Math.floor(O/3),r.face.materialIndex=M.materialIndex,e.push(r))}}else{const S=Math.max(0,b.start),A=Math.min(u.count,b.start+b.count);for(let M=S,x=A;M<x;M+=3){const T=u.getX(M),R=u.getX(M+1),O=u.getX(M+2);r=O0(this,l,t,i,p,m,v,T,R,O),r&&(r.faceIndex=Math.floor(M/3),e.push(r))}}else if(h!==void 0)if(Array.isArray(l))for(let S=0,A=_.length;S<A;S++){const M=_[S],x=l[M.materialIndex],T=Math.max(M.start,b.start),R=Math.min(h.count,Math.min(M.start+M.count,b.start+b.count));for(let O=T,I=R;O<I;O+=3){const P=O,B=O+1,N=O+2;r=O0(this,x,t,i,p,m,v,P,B,N),r&&(r.faceIndex=Math.floor(O/3),r.face.materialIndex=M.materialIndex,e.push(r))}}else{const S=Math.max(0,b.start),A=Math.min(h.count,b.start+b.count);for(let M=S,x=A;M<x;M+=3){const T=M,R=M+1,O=M+2;r=O0(this,l,t,i,p,m,v,T,R,O),r&&(r.faceIndex=Math.floor(M/3),e.push(r))}}}}function D8(n,t,e,i,r,a,l,u){let h;if(t.side===ws?h=i.intersectTriangle(l,a,r,!0,u):h=i.intersectTriangle(r,a,l,t.side===_c,u),h===null)return null;C0.copy(u),C0.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(C0);return p<e.near||p>e.far?null:{distance:p,point:C0.clone(),object:n}}function O0(n,t,e,i,r,a,l,u,h,p){n.getVertexPosition(u,A0),n.getVertexPosition(h,T0),n.getVertexPosition(p,w0);const m=D8(n,t,e,i,A0,T0,w0,iw);if(m){const v=new ct;Zs.getBarycoord(iw,A0,T0,w0,v),r&&(m.uv=Zs.getInterpolatedAttribute(r,u,h,p,v,new ee)),a&&(m.uv1=Zs.getInterpolatedAttribute(a,u,h,p,v,new ee)),l&&(m.normal=Zs.getInterpolatedAttribute(l,u,h,p,v,new ct),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const _={a:u,b:h,c:p,normal:new ct,materialIndex:0};Zs.getNormal(A0,T0,w0,_.normal),m.face=_,m.barycoord=v}return m}class vh extends xn{constructor(t=1,e=1,i=1,r=1,a=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:a,depthSegments:l};const u=this;r=Math.floor(r),a=Math.floor(a),l=Math.floor(l);const h=[],p=[],m=[],v=[];let _=0,b=0;S("z","y","x",-1,-1,i,e,t,l,a,0),S("z","y","x",1,-1,i,e,-t,l,a,1),S("x","z","y",1,1,t,i,e,r,l,2),S("x","z","y",1,-1,t,i,-e,r,l,3),S("x","y","z",1,-1,t,e,i,r,a,4),S("x","y","z",-1,-1,t,e,-i,r,a,5),this.setIndex(h),this.setAttribute("position",new ze(p,3)),this.setAttribute("normal",new ze(m,3)),this.setAttribute("uv",new ze(v,2));function S(A,M,x,T,R,O,I,P,B,N,L){const U=O/B,F=I/N,K=O/2,tt=I/2,nt=P/2,at=B+1,H=N+1;let k=0,V=0;const Q=new ct;for(let j=0;j<H;j++){const st=j*F-tt;for(let ht=0;ht<at;ht++){const dt=ht*U-K;Q[A]=dt*T,Q[M]=st*R,Q[x]=nt,p.push(Q.x,Q.y,Q.z),Q[A]=0,Q[M]=0,Q[x]=P>0?1:-1,m.push(Q.x,Q.y,Q.z),v.push(ht/B),v.push(1-j/N),k+=1}}for(let j=0;j<N;j++)for(let st=0;st<B;st++){const ht=_+st+at*j,dt=_+st+at*(j+1),$=_+(st+1)+at*(j+1),ft=_+(st+1)+at*j;h.push(ht,dt,ft),h.push(dt,$,ft),V+=6}u.addGroup(b,V,L),b+=V,_+=k}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new vh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function gp(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=r.clone():Array.isArray(r)?t[e][i]=r.slice():t[e][i]=r}}return t}function Es(n){const t={};for(let e=0;e<n.length;e++){const i=gp(n[e]);for(const r in i)t[r]=i[r]}return t}function A8(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function mN(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Bn.workingColorSpace}const gN={clone:gp,merge:Es};var T8=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,w8=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ks extends as{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=T8,this.fragmentShader=w8,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=gp(t.uniforms),this.uniformsGroups=A8(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?e.uniforms[r]={type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?e.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?e.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?e.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?e.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?e.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?e.uniforms[r]={type:"m4",value:l.toArray()}:e.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class pb extends jn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new en,this.projectionMatrix=new en,this.projectionMatrixInverse=new en,this.coordinateSystem=Fa}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Su=new ct,rw=new ee,sw=new ee;class Rr extends pb{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=pp*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(sh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return pp*2*Math.atan(Math.tan(sh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Su.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Su.x,Su.y).multiplyScalar(-t/Su.z),Su.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Su.x,Su.y).multiplyScalar(-t/Su.z)}getViewSize(t,e){return this.getViewBounds(t,rw,sw),e.subVectors(sw,rw)}setViewOffset(t,e,i,r,a,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(sh*.5*this.fov)/this.zoom,i=2*e,r=this.aspect*i,a=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const h=l.fullWidth,p=l.fullHeight;a+=l.offsetX*r/h,e-=l.offsetY*i/p,r*=l.width/h,i*=l.height/p}const u=this.filmOffset;u!==0&&(a+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Pd=-90,Id=1;class vN extends jn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Rr(Pd,Id,t,e);r.layers=this.layers,this.add(r);const a=new Rr(Pd,Id,t,e);a.layers=this.layers,this.add(a);const l=new Rr(Pd,Id,t,e);l.layers=this.layers,this.add(l);const u=new Rr(Pd,Id,t,e);u.layers=this.layers,this.add(u);const h=new Rr(Pd,Id,t,e);h.layers=this.layers,this.add(h);const p=new Rr(Pd,Id,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,a,l,u,h]=e;for(const p of e)this.remove(p);if(t===Fa)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(t===tv)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[a,l,u,h,p,m]=this.children,v=t.getRenderTarget(),_=t.getActiveCubeFace(),b=t.getActiveMipmapLevel(),S=t.xr.enabled;t.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,r),t.render(e,a),t.setRenderTarget(i,1,r),t.render(e,l),t.setRenderTarget(i,2,r),t.render(e,u),t.setRenderTarget(i,3,r),t.render(e,h),t.setRenderTarget(i,4,r),t.render(e,p),i.texture.generateMipmaps=A,t.setRenderTarget(i,5,r),t.render(e,m),t.setRenderTarget(v,_,b),t.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class Ev extends mi{constructor(t=[],e=El,i,r,a,l,u,h,p,m){super(t,e,i,r,a,l,u,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class oD extends ka{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];this.texture=new Ev(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:oi}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new vh(5,5,5),a=new Ks({name:"CubemapFromEquirect",uniforms:gp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ws,blending:bl});a.uniforms.tEquirect.value=e;const l=new Ni(r,a),u=e.minFilter;return e.minFilter===_l&&(e.minFilter=oi),new vN(1,10,this).update(t,l),e.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(t,e=!0,i=!0,r=!0){const a=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,i,r);t.setRenderTarget(a)}}class Cu extends jn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const R8={type:"move"};class O_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Cu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Cu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ct,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ct),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Cu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ct,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ct),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let r=null,a=null,l=null;const u=this._targetRay,h=this._grip,p=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(p&&t.hand){l=!0;for(const A of t.hand.values()){const M=e.getJointPose(A,i),x=this._getHandJoint(p,A);M!==null&&(x.matrix.fromArray(M.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=M.radius),x.visible=M!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],_=m.position.distanceTo(v.position),b=.02,S=.005;p.inputState.pinching&&_>b+S?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&_<=b-S&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else h!==null&&t.gripSpace&&(a=e.getPose(t.gripSpace,i),a!==null&&(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(r=e.getPose(t.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(R8)))}return u!==null&&(u.visible=r!==null),h!==null&&(h.visible=a!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Cu;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class mb{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ce(t),this.density=e}clone(){return new mb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class gb{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ce(t),this.near=e,this.far=i}clone(){return new gb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Dv extends jn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ya,this.environmentIntensity=1,this.environmentRotation=new ya,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class vb{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=$g,this.updateRanges=[],this.version=0,this.uuid=ga()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,a=this.stride;r<a;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ga()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ga()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ms=new ct;class uh{constructor(t,e,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Ms.fromBufferAttribute(this,e),Ms.applyMatrix4(t),this.setXYZ(e,Ms.x,Ms.y,Ms.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Ms.fromBufferAttribute(this,e),Ms.applyNormalMatrix(t),this.setXYZ(e,Ms.x,Ms.y,Ms.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Ms.fromBufferAttribute(this,e),Ms.transformDirection(t),this.setXYZ(e,Ms.x,Ms.y,Ms.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=As(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Mn(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=Mn(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Mn(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Mn(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Mn(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=As(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=As(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=As(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=As(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array),r=Mn(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mn(e,this.array),i=Mn(i,this.array),r=Mn(r,this.array),a=Mn(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=a,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return new li(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new uh(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)e.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class lD extends as{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ce(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let zd;const sg=new ct,Bd=new ct,Hd=new ct,Fd=new ee,ag=new ee,yN=new en,N0=new ct,og=new ct,L0=new ct,aw=new ee,g1=new ee,ow=new ee;class _N extends jn{constructor(t=new lD){if(super(),this.isSprite=!0,this.type="Sprite",zd===void 0){zd=new xn;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new vb(e,5);zd.setIndex([0,1,2,0,2,3]),zd.setAttribute("position",new uh(i,3,0,!1)),zd.setAttribute("uv",new uh(i,2,3,!1))}this.geometry=zd,this.material=t,this.center=new ee(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Bd.setFromMatrixScale(this.matrixWorld),yN.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Hd.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Bd.multiplyScalar(-Hd.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const l=this.center;U0(N0.set(-.5,-.5,0),Hd,l,Bd,r,a),U0(og.set(.5,-.5,0),Hd,l,Bd,r,a),U0(L0.set(.5,.5,0),Hd,l,Bd,r,a),aw.set(0,0),g1.set(1,0),ow.set(1,1);let u=t.ray.intersectTriangle(N0,og,L0,!1,sg);if(u===null&&(U0(og.set(-.5,.5,0),Hd,l,Bd,r,a),g1.set(0,1),u=t.ray.intersectTriangle(N0,L0,og,!1,sg),u===null))return;const h=t.ray.origin.distanceTo(sg);h<t.near||h>t.far||e.push({distance:h,point:sg.clone(),uv:Zs.getInterpolation(sg,N0,og,L0,aw,g1,ow,new ee),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function U0(n,t,e,i,r,a){Fd.subVectors(n,e).addScalar(.5).multiply(i),r!==void 0?(ag.x=a*Fd.x-r*Fd.y,ag.y=r*Fd.x+a*Fd.y):ag.copy(Fd),n.copy(t),n.x+=ag.x,n.y+=ag.y,n.applyMatrix4(yN)}const P0=new ct,lw=new ct;class xN extends jn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,r=e.length;i<r;i++){const a=e[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const r=this.levels;let a;for(a=0;a<r.length&&!(e<r[a].distance);a++);return r.splice(a,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const r=e.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,r;for(i=1,r=e.length;i<r;i++){let a=e[i].distance;if(e[i].object.visible&&(a-=a*e[i].hysteresis),t<a)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){P0.setFromMatrixPosition(this.matrixWorld);const r=t.ray.origin.distanceTo(P0);this.getObjectForDistance(r).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){P0.setFromMatrixPosition(t.matrixWorld),lw.setFromMatrixPosition(this.matrixWorld);const i=P0.distanceTo(lw)/t.zoom;e[0].object.visible=!0;let r,a;for(r=1,a=e.length;r<a;r++){let l=e[r].distance;if(e[r].object.visible&&(l-=l*e[r].hysteresis),i>=l)e[r-1].object.visible=!1,e[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)e[r].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const l=i[r];e.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return e}}const cw=new ct,uw=new Gn,fw=new Gn,C8=new ct,hw=new en,I0=new ct,v1=new jr,dw=new en,y1=new Cp;class bN extends Ni{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=VM,this.bindMatrix=new en,this.bindMatrixInverse=new en,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Gr),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,I0),this.boundingBox.expandByPoint(I0)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new jr),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,I0),this.boundingSphere.expandByPoint(I0)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),v1.copy(this.boundingSphere),v1.applyMatrix4(r),t.ray.intersectsSphere(v1)!==!1&&(dw.copy(r).invert(),y1.copy(t.ray).applyMatrix4(dw),!(this.boundingBox!==null&&y1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,y1)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Gn,e=this.geometry.attributes.skinWeight;for(let i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);const a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===VM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===QO?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,r=this.geometry;uw.fromBufferAttribute(r.attributes.skinIndex,t),fw.fromBufferAttribute(r.attributes.skinWeight,t),cw.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let a=0;a<4;a++){const l=fw.getComponent(a);if(l!==0){const u=uw.getComponent(a);hw.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),e.addScaledVector(C8.copy(cw).applyMatrix4(hw),l)}}return e.applyMatrix4(this.bindMatrixInverse)}}class cD extends jn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class To extends mi{constructor(t=null,e=1,i=1,r,a,l,u,h,p=kr,m=kr,v,_){super(null,l,u,h,p,m,r,a,v,_),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const pw=new en,O8=new en;class yb{constructor(t=[],e=[]){this.uuid=ga(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new en)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new en;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,l=t.length;a<l;a++){const u=t[a]?t[a].matrixWorld:O8;pw.multiplyMatrices(u,e[a]),pw.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new yb(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new To(e,t,t,$i,ki);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const r=this.bones[e];if(r.name===t)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,r=t.bones.length;i<r;i++){const a=t.bones[i];let l=e[a];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),l=new cD),this.bones.push(l),this.boneInverses.push(new en().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let r=0,a=e.length;r<a;r++){const l=e[r];t.bones.push(l.uuid);const u=i[r];t.boneInverses.push(u.toArray())}return t}}class vp extends li{constructor(t,e,i,r=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Vd=new en,mw=new en,z0=[],gw=new Gr,N8=new en,lg=new Ni,cg=new jr;class SN extends Ni{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new vp(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,N8)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Gr),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Vd),gw.copy(t.boundingBox).applyMatrix4(Vd),this.boundingBox.union(gw)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new jr),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Vd),cg.copy(t.boundingSphere).applyMatrix4(Vd),this.boundingSphere.union(cg)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,l=t*a+1;for(let u=0;u<i.length;u++)i[u]=r[l+u]}raycast(t,e){const i=this.matrixWorld,r=this.count;if(lg.geometry=this.geometry,lg.material=this.material,lg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cg.copy(this.boundingSphere),cg.applyMatrix4(i),t.ray.intersectsSphere(cg)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Vd),mw.multiplyMatrices(i,Vd),lg.matrixWorld=mw,lg.raycast(t,z0);for(let l=0,u=z0.length;l<u;l++){const h=z0[l];h.instanceId=a,h.object=this,e.push(h)}z0.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new vp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new To(new Float32Array(r*this.count),r,this.count,bv,ki));const a=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const u=this.geometry.morphTargetsRelative?1:1-l,h=r*t;a[h]=u,a.set(i,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const _1=new ct,L8=new ct,U8=new _n;class Tu{constructor(t=new ct(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=_1.subVectors(i,e).cross(L8.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(_1),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const a=-(t.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:e.copy(t.start).addScaledVector(i,a)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||U8.getNormalMatrix(t),r=this.coplanarPoint(_1).applyMatrix4(t),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ff=new jr,B0=new ct;class Op{constructor(t=new Tu,e=new Tu,i=new Tu,r=new Tu,a=new Tu,l=new Tu){this.planes=[t,e,i,r,a,l]}set(t,e,i,r,a,l){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(i),u[3].copy(r),u[4].copy(a),u[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Fa){const i=this.planes,r=t.elements,a=r[0],l=r[1],u=r[2],h=r[3],p=r[4],m=r[5],v=r[6],_=r[7],b=r[8],S=r[9],A=r[10],M=r[11],x=r[12],T=r[13],R=r[14],O=r[15];if(i[0].setComponents(h-a,_-p,M-b,O-x).normalize(),i[1].setComponents(h+a,_+p,M+b,O+x).normalize(),i[2].setComponents(h+l,_+m,M+S,O+T).normalize(),i[3].setComponents(h-l,_-m,M-S,O-T).normalize(),i[4].setComponents(h-u,_-v,M-A,O-R).normalize(),e===Fa)i[5].setComponents(h+u,_+v,M+A,O+R).normalize();else if(e===tv)i[5].setComponents(u,v,A,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Ff.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Ff.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Ff)}intersectsSprite(t){return Ff.center.set(0,0,0),Ff.radius=.7071067811865476,Ff.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ff)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let a=0;a<6;a++)if(e[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(B0.x=r.normal.x>0?t.max.x:t.min.x,B0.y=r.normal.y>0?t.max.y:t.min.y,B0.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(B0)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const pl=new en,ml=new Op;class _b{constructor(){this.coordinateSystem=Fa}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(pl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ml.setFromProjectionMatrix(pl,this.coordinateSystem),ml.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(pl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ml.setFromProjectionMatrix(pl,this.coordinateSystem),ml.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(pl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ml.setFromProjectionMatrix(pl,this.coordinateSystem),ml.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(pl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ml.setFromProjectionMatrix(pl,this.coordinateSystem),ml.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(pl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ml.setFromProjectionMatrix(pl,this.coordinateSystem),ml.containsPoint(t))return!0}return!1}clone(){return new _b}}function x1(n,t){return n-t}function P8(n,t){return n.z-t.z}function I8(n,t){return t.z-n.z}class z8{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,r){const a=this.pool,l=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const u=a[this.index];l.push(u),this.index++,u.start=t,u.count=e,u.z=i,u.index=r}reset(){this.list.length=0,this.index=0}}const Ys=new en,B8=new Ce(1,1,1),vw=new Op,H8=new _b,H0=new Gr,Vf=new jr,ug=new ct,yw=new ct,F8=new ct,b1=new z8,rs=new Ni,F0=[];function V8(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let l=0;l<i;l++)t.setComponent(a+e,l,n.getComponent(a,l))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function kf(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class MN extends Ni{constructor(t,e,i=e*2,r){super(new xn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new To(e,t,t,$i,ki);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new To(e,t,t,Sv,Dl);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new To(e,t,t,$i,ki);i.colorSpace=Bn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in t.attributes){const l=t.getAttribute(a),{array:u,itemSize:h,normalized:p}=l,m=new u.constructor(i*h),v=new li(m,h,p);e.setAttribute(a,v)}if(t.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);e.setIndex(new li(a,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=t.getAttribute(i),a=e.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gr);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Ys),this.getBoundingBoxAt(a,H0).applyMatrix4(Ys),t.union(H0)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jr);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(e[i].active===!1)continue;const a=e[i].geometryIndex;this.getMatrixAt(i,Ys),this.getBoundingSphereAt(a,Vf).applyMatrix4(Ys),t.union(Vf)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(x1),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Ys.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const l=this._colorsTexture;return l&&(B8.toArray(l.image.data,r*4),l.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const l=t.getIndex();if(l!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?l.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(x1),h=this._availableGeometryIds.shift(),a[h]=r):(h=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(h,t),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,h}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),l=e.getIndex(),u=this._geometryInfo[t];if(r&&l.count>u.reservedIndexCount||e.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const v=e.getAttribute(m),_=i.getAttribute(m);V8(v,_,h);const b=v.itemSize;for(let S=v.count,A=p;S<A;S++){const M=h+S;for(let x=0;x<b;x++)_.setComponent(M,x,0)}_.needsUpdate=!0,_.addUpdateRange(h*b,p*b)}if(r){const m=u.indexStart,v=u.reservedIndexCount;u.indexCount=e.getIndex().count;for(let _=0;_<l.count;_++)a.setX(m+_,h+l.getX(_));for(let _=l.count,b=v;_<b;_++)a.setX(m+_,h);a.needsUpdate=!0,a.addUpdateRange(m,u.reservedIndexCount)}return u.start=r?u.indexStart:u.vertexStart,u.count=r?u.indexCount:u.vertexCount,u.boundingBox=null,e.boundingBox!==null&&(u.boundingBox=e.boundingBox.clone()),u.boundingSphere=null,e.boundingSphere!==null&&(u.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===t&&this.deleteInstance(r);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,r=i.map((l,u)=>u).sort((l,u)=>i[l].vertexStart-i[u].vertexStart),a=this.geometry;for(let l=0,u=i.length;l<u;l++){const h=r[l],p=i[h];if(p.active!==!1){if(a.index!==null){if(p.indexStart!==e){const{indexStart:m,vertexStart:v,reservedIndexCount:_}=p,b=a.index,S=b.array,A=t-v;for(let M=m;M<m+_;M++)S[M]=S[M]+A;b.array.copyWithin(e,m,m+_),b.addUpdateRange(e,_),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:m,reservedVertexCount:v}=p,_=a.attributes;for(const b in _){const S=_[b],{array:A,itemSize:M}=S;A.copyWithin(t*M,m*M,(m+v)*M),S.addUpdateRange(t*M,v*M)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=a.index?p.indexStart:p.vertexStart,this._nextIndexStart=a.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(r.boundingBox===null){const a=new Gr,l=i.index,u=i.attributes.position;for(let h=r.start,p=r.start+r.count;h<p;h++){let m=h;l&&(m=l.getX(m)),a.expandByPoint(ug.fromBufferAttribute(u,m))}r.boundingBox=a}return e.copy(r.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(r.boundingSphere===null){const a=new jr;this.getBoundingBoxAt(t,H0),H0.getCenter(a.center);const l=i.index,u=i.attributes.position;let h=0;for(let p=r.start,m=r.start+r.count;p<m;p++){let v=p;l&&(v=l.getX(v)),ug.fromBufferAttribute(u,v),h=Math.max(h,a.center.distanceToSquared(ug))}a.radius=Math.sqrt(h),r.boundingSphere=a}return e.copy(r.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,r=this._matricesTexture.image.data;return e.toArray(r,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(x1);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const r=new Int32Array(t),a=new Int32Array(t);kf(this._multiDrawCounts,r),kf(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=t;const l=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;l.dispose(),this._initIndirectTexture(),kf(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),kf(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),kf(h.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new xn,this._initializeGeometry(a));const l=this.geometry;a.index&&kf(a.index.array,l.index.array);for(const u in a.attributes)kf(a.attributes[u].array,l.attributes[u].array)}raycast(t,e){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,l=this.geometry;rs.material=this.material,rs.geometry.index=l.index,rs.geometry.attributes=l.attributes,rs.geometry.boundingBox===null&&(rs.geometry.boundingBox=new Gr),rs.geometry.boundingSphere===null&&(rs.geometry.boundingSphere=new jr);for(let u=0,h=i.length;u<h;u++){if(!i[u].visible||!i[u].active)continue;const p=i[u].geometryIndex,m=r[p];rs.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,rs.matrixWorld).premultiply(a),this.getBoundingBoxAt(p,rs.geometry.boundingBox),this.getBoundingSphereAt(p,rs.geometry.boundingSphere),rs.raycast(t,F0);for(let v=0,_=F0.length;v<_;v++){const b=F0[v];b.object=this,b.batchId=u,e.push(b)}F0.length=0}rs.material=null,rs.geometry.index=null,rs.geometry.attributes={},rs.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=r.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,_=this.perObjectFrustumCulled,b=this._indirectTexture,S=b.image.data,A=i.isArrayCamera?H8:vw;_&&!i.isArrayCamera&&(Ys.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),vw.setFromProjectionMatrix(Ys,t.coordinateSystem));let M=0;if(this.sortObjects){Ys.copy(this.matrixWorld).invert(),ug.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ys),yw.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ys);for(let R=0,O=h.length;R<O;R++)if(h[R].visible&&h[R].active){const I=h[R].geometryIndex;this.getMatrixAt(R,Ys),this.getBoundingSphereAt(I,Vf).applyMatrix4(Ys);let P=!1;if(_&&(P=!A.intersectsSphere(Vf,i)),!P){const B=v[I],N=F8.subVectors(Vf.center,ug).dot(yw);b1.push(B.start,B.count,N,R)}}const x=b1.list,T=this.customSort;T===null?x.sort(a.transparent?I8:P8):T.call(this,x,i);for(let R=0,O=x.length;R<O;R++){const I=x[R];p[M]=I.start*u,m[M]=I.count,S[M]=I.index,M++}b1.reset()}else for(let x=0,T=h.length;x<T;x++)if(h[x].visible&&h[x].active){const R=h[x].geometryIndex;let O=!1;if(_&&(this.getMatrixAt(x,Ys),this.getBoundingSphereAt(R,Vf).applyMatrix4(Ys),O=!A.intersectsSphere(Vf,i)),!O){const I=v[R];p[M]=I.start*u,m[M]=I.count,S[M]=x,M++}}b.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(t,e,i,r,a,l){this.onBeforeRender(t,null,r,a,l)}}class os extends as{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ce(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Tx=new ct,wx=new ct,_w=new en,fg=new Cp,V0=new jr,S1=new ct,xw=new ct;class xc extends jn{constructor(t=new xn,e=new os){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let r=1,a=e.count;r<a;r++)Tx.fromBufferAttribute(e,r-1),wx.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=Tx.distanceTo(wx);t.setAttribute("lineDistance",new ze(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,a=t.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),V0.copy(i.boundingSphere),V0.applyMatrix4(r),V0.radius+=a,t.ray.intersectsSphere(V0)===!1)return;_w.copy(r).invert(),fg.copy(t.ray).applyMatrix4(_w);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=this.isLineSegments?2:1,m=i.index,_=i.attributes.position;if(m!==null){const b=Math.max(0,l.start),S=Math.min(m.count,l.start+l.count);for(let A=b,M=S-1;A<M;A+=p){const x=m.getX(A),T=m.getX(A+1),R=k0(this,t,fg,h,x,T,A);R&&e.push(R)}if(this.isLineLoop){const A=m.getX(S-1),M=m.getX(b),x=k0(this,t,fg,h,A,M,S-1);x&&e.push(x)}}else{const b=Math.max(0,l.start),S=Math.min(_.count,l.start+l.count);for(let A=b,M=S-1;A<M;A+=p){const x=k0(this,t,fg,h,A,A+1,A);x&&e.push(x)}if(this.isLineLoop){const A=k0(this,t,fg,h,S-1,b,S-1);A&&e.push(A)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=r.length;a<l;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function k0(n,t,e,i,r,a,l){const u=n.geometry.attributes.position;if(Tx.fromBufferAttribute(u,r),wx.fromBufferAttribute(u,a),e.distanceSqToSegment(Tx,wx,S1,xw)>i)return;S1.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(S1);if(!(p<t.near||p>t.far))return{distance:p,point:xw.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const bw=new ct,Sw=new ct;class wl extends xc{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let r=0,a=e.count;r<a;r+=2)bw.fromBufferAttribute(e,r),Sw.fromBufferAttribute(e,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+bw.distanceTo(Sw);t.setAttribute("lineDistance",new ze(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EN extends xc{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class uD extends as{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ce(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const Mw=new en,qM=new Cp,G0=new jr,j0=new ct;class DN extends jn{constructor(t=new xn,e=new uD){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,a=t.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),G0.copy(i.boundingSphere),G0.applyMatrix4(r),G0.radius+=a,t.ray.intersectsSphere(G0)===!1)return;Mw.copy(r).invert(),qM.copy(t.ray).applyMatrix4(Mw);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=i.index,v=i.attributes.position;if(p!==null){const _=Math.max(0,l.start),b=Math.min(p.count,l.start+l.count);for(let S=_,A=b;S<A;S++){const M=p.getX(S);j0.fromBufferAttribute(v,M),Ew(j0,M,h,r,t,e,this)}}else{const _=Math.max(0,l.start),b=Math.min(v.count,l.start+l.count);for(let S=_,A=b;S<A;S++)j0.fromBufferAttribute(v,S),Ew(j0,S,h,r,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=r.length;a<l;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function Ew(n,t,e,i,r,a,l){const u=qM.distanceSqToPoint(n);if(u<e){const h=new ct;qM.closestPointToPoint(n,h),h.applyMatrix4(i);const p=r.ray.origin.distanceTo(h);if(p<r.near||p>r.far)return;a.push({distance:p,distanceToRay:Math.sqrt(u),point:h,index:t,face:null,faceIndex:null,barycoord:null,object:l})}}class AN extends mi{constructor(t,e,i,r,a=oi,l=oi,u,h,p){super(t,e,i,r,a,l,u,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class k8 extends AN{constructor(t,e,i,r,a,l,u,h){super({},t,e,i,r,a,l,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class G8 extends mi{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=kr,this.minFilter=kr,this.generateMipmaps=!1,this.needsUpdate=!0}}class xb extends mi{constructor(t,e,i,r,a,l,u,h,p,m,v,_){super(null,l,u,h,p,m,r,a,v,_),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class j8 extends xb{constructor(t,e,i,r,a,l){super(t,e,i,a,l),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=or,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class q8 extends xb{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,El),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class X8 extends mi{constructor(t,e,i,r,a,l,u,h,p){super(t,e,i,r,a,l,u,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class bb extends mi{constructor(t,e,i=Dl,r,a,l,u=kr,h=kr,p,m=hp){if(m!==hp&&m!==dp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,a,l,u,h,m,i,p),this.isDepthTexture=!0,this.image={width:t,height:e},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Ru(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class Y8 extends bb{constructor(t=1,e=1,i=1){super(t,e),this.isDepthArrayTexture=!0,this.image={width:t,height:e,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Sb extends xn{constructor(t=1,e=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:i,radialSegments:r,heightSegments:a},e=Math.max(0,e),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const l=[],u=[],h=[],p=[],m=e/2,v=Math.PI/2*t,_=e,b=2*v+_,S=i*2+a,A=r+1,M=new ct,x=new ct;for(let T=0;T<=S;T++){let R=0,O=0,I=0,P=0;if(T<=i){const L=T/i,U=L*Math.PI/2;O=-m-t*Math.cos(U),I=t*Math.sin(U),P=-t*Math.cos(U),R=L*v}else if(T<=i+a){const L=(T-i)/a;O=-m+L*e,I=t,P=0,R=v+L*_}else{const L=(T-i-a)/i,U=L*Math.PI/2;O=m+t*Math.sin(U),I=t*Math.cos(U),P=t*Math.sin(U),R=v+_+L*v}const B=Math.max(0,Math.min(1,R/b));let N=0;T===0?N=.5/r:T===S&&(N=-.5/r);for(let L=0;L<=r;L++){const U=L/r,F=U*Math.PI*2,K=Math.sin(F),tt=Math.cos(F);x.x=-I*tt,x.y=O,x.z=I*K,u.push(x.x,x.y,x.z),M.set(-I*tt,P,I*K),M.normalize(),h.push(M.x,M.y,M.z),p.push(U+N,B)}if(T>0){const L=(T-1)*A;for(let U=0;U<r;U++){const F=L+U,K=L+U+1,tt=T*A+U,nt=T*A+U+1;l.push(F,K,tt),l.push(K,nt,tt)}}}this.setIndex(l),this.setAttribute("position",new ze(u,3)),this.setAttribute("normal",new ze(h,3)),this.setAttribute("uv",new ze(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Sb(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class Mb extends xn{constructor(t=1,e=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},e=Math.max(3,e);const a=[],l=[],u=[],h=[],p=new ct,m=new ee;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let v=0,_=3;v<=e;v++,_+=3){const b=i+v/e*r;p.x=t*Math.cos(b),p.y=t*Math.sin(b),l.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(l[_]/t+1)/2,m.y=(l[_+1]/t+1)/2,h.push(m.x,m.y)}for(let v=1;v<=e;v++)a.push(v,v+1,0);this.setIndex(a),this.setAttribute("position",new ze(l,3)),this.setAttribute("normal",new ze(u,3)),this.setAttribute("uv",new ze(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Mb(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Np extends xn{constructor(t=1,e=1,i=1,r=32,a=1,l=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:a,openEnded:l,thetaStart:u,thetaLength:h};const p=this;r=Math.floor(r),a=Math.floor(a);const m=[],v=[],_=[],b=[];let S=0;const A=[],M=i/2;let x=0;T(),l===!1&&(t>0&&R(!0),e>0&&R(!1)),this.setIndex(m),this.setAttribute("position",new ze(v,3)),this.setAttribute("normal",new ze(_,3)),this.setAttribute("uv",new ze(b,2));function T(){const O=new ct,I=new ct;let P=0;const B=(e-t)/i;for(let N=0;N<=a;N++){const L=[],U=N/a,F=U*(e-t)+t;for(let K=0;K<=r;K++){const tt=K/r,nt=tt*h+u,at=Math.sin(nt),H=Math.cos(nt);I.x=F*at,I.y=-U*i+M,I.z=F*H,v.push(I.x,I.y,I.z),O.set(at,B,H).normalize(),_.push(O.x,O.y,O.z),b.push(tt,1-U),L.push(S++)}A.push(L)}for(let N=0;N<r;N++)for(let L=0;L<a;L++){const U=A[L][N],F=A[L+1][N],K=A[L+1][N+1],tt=A[L][N+1];(t>0||L!==0)&&(m.push(U,F,tt),P+=3),(e>0||L!==a-1)&&(m.push(F,K,tt),P+=3)}p.addGroup(x,P,0),x+=P}function R(O){const I=S,P=new ee,B=new ct;let N=0;const L=O===!0?t:e,U=O===!0?1:-1;for(let K=1;K<=r;K++)v.push(0,M*U,0),_.push(0,U,0),b.push(.5,.5),S++;const F=S;for(let K=0;K<=r;K++){const nt=K/r*h+u,at=Math.cos(nt),H=Math.sin(nt);B.x=L*H,B.y=M*U,B.z=L*at,v.push(B.x,B.y,B.z),_.push(0,U,0),P.x=at*.5+.5,P.y=H*.5*U+.5,b.push(P.x,P.y),S++}for(let K=0;K<r;K++){const tt=I+K,nt=F+K;O===!0?m.push(nt,nt+1,tt):m.push(nt+1,nt,tt),N+=3}p.addGroup(x,N,O===!0?1:2),x+=N}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Np(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Lp extends Np{constructor(t=1,e=1,i=32,r=1,a=!1,l=0,u=Math.PI*2){super(0,t,e,i,r,a,l,u),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:l,thetaLength:u}}static fromJSON(t){return new Lp(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Vu extends xn{constructor(t=[],e=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r};const a=[],l=[];u(r),p(i),m(),this.setAttribute("position",new ze(a,3)),this.setAttribute("normal",new ze(a.slice(),3)),this.setAttribute("uv",new ze(l,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(T){const R=new ct,O=new ct,I=new ct;for(let P=0;P<e.length;P+=3)b(e[P+0],R),b(e[P+1],O),b(e[P+2],I),h(R,O,I,T)}function h(T,R,O,I){const P=I+1,B=[];for(let N=0;N<=P;N++){B[N]=[];const L=T.clone().lerp(O,N/P),U=R.clone().lerp(O,N/P),F=P-N;for(let K=0;K<=F;K++)K===0&&N===P?B[N][K]=L:B[N][K]=L.clone().lerp(U,K/F)}for(let N=0;N<P;N++)for(let L=0;L<2*(P-N)-1;L++){const U=Math.floor(L/2);L%2===0?(_(B[N][U+1]),_(B[N+1][U]),_(B[N][U])):(_(B[N][U+1]),_(B[N+1][U+1]),_(B[N+1][U]))}}function p(T){const R=new ct;for(let O=0;O<a.length;O+=3)R.x=a[O+0],R.y=a[O+1],R.z=a[O+2],R.normalize().multiplyScalar(T),a[O+0]=R.x,a[O+1]=R.y,a[O+2]=R.z}function m(){const T=new ct;for(let R=0;R<a.length;R+=3){T.x=a[R+0],T.y=a[R+1],T.z=a[R+2];const O=M(T)/2/Math.PI+.5,I=x(T)/Math.PI+.5;l.push(O,1-I)}S(),v()}function v(){for(let T=0;T<l.length;T+=6){const R=l[T+0],O=l[T+2],I=l[T+4],P=Math.max(R,O,I),B=Math.min(R,O,I);P>.9&&B<.1&&(R<.2&&(l[T+0]+=1),O<.2&&(l[T+2]+=1),I<.2&&(l[T+4]+=1))}}function _(T){a.push(T.x,T.y,T.z)}function b(T,R){const O=T*3;R.x=t[O+0],R.y=t[O+1],R.z=t[O+2]}function S(){const T=new ct,R=new ct,O=new ct,I=new ct,P=new ee,B=new ee,N=new ee;for(let L=0,U=0;L<a.length;L+=9,U+=6){T.set(a[L+0],a[L+1],a[L+2]),R.set(a[L+3],a[L+4],a[L+5]),O.set(a[L+6],a[L+7],a[L+8]),P.set(l[U+0],l[U+1]),B.set(l[U+2],l[U+3]),N.set(l[U+4],l[U+5]),I.copy(T).add(R).add(O).divideScalar(3);const F=M(I);A(P,U+0,T,F),A(B,U+2,R,F),A(N,U+4,O,F)}}function A(T,R,O,I){I<0&&T.x===1&&(l[R]=T.x-1),O.x===0&&O.z===0&&(l[R]=I/2/Math.PI+.5)}function M(T){return Math.atan2(T.z,-T.x)}function x(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Vu(t.vertices,t.indices,t.radius,t.details)}}class Eb extends Vu{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,l,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Eb(t.radius,t.detail)}}const q0=new ct,X0=new ct,M1=new ct,Y0=new Zs;class TN extends xn{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const r=Math.pow(10,4),a=Math.cos(sh*e),l=t.getIndex(),u=t.getAttribute("position"),h=l?l.count:u.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),_={},b=[];for(let S=0;S<h;S+=3){l?(p[0]=l.getX(S),p[1]=l.getX(S+1),p[2]=l.getX(S+2)):(p[0]=S,p[1]=S+1,p[2]=S+2);const{a:A,b:M,c:x}=Y0;if(A.fromBufferAttribute(u,p[0]),M.fromBufferAttribute(u,p[1]),x.fromBufferAttribute(u,p[2]),Y0.getNormal(M1),v[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,v[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,v[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let T=0;T<3;T++){const R=(T+1)%3,O=v[T],I=v[R],P=Y0[m[T]],B=Y0[m[R]],N=`${O}_${I}`,L=`${I}_${O}`;L in _&&_[L]?(M1.dot(_[L].normal)<=a&&(b.push(P.x,P.y,P.z),b.push(B.x,B.y,B.z)),_[L]=null):N in _||(_[N]={index0:p[T],index1:p[R],normal:M1.clone()})}}for(const S in _)if(_[S]){const{index0:A,index1:M}=_[S];q0.fromBufferAttribute(u,A),X0.fromBufferAttribute(u,M),b.push(q0.x,q0.y,q0.z),b.push(X0.x,X0.y,X0.z)}this.setAttribute("position",new ze(b,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Lo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,r=this.getPoint(0),a=0;e.push(0);for(let l=1;l<=t;l++)i=this.getPoint(l/t),a+=i.distanceTo(r),e.push(a),r=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let r=0;const a=i.length;let l;e?l=e:l=t*i[a-1];let u=0,h=a-1,p;for(;u<=h;)if(r=Math.floor(u+(h-u)/2),p=i[r]-l,p<0)u=r+1;else if(p>0)h=r-1;else{h=r;break}if(r=h,i[r]===l)return r/(a-1);const m=i[r],_=i[r+1]-m,b=(l-m)/_;return(r+b)/(a-1)}getTangent(t,e){let r=t-1e-4,a=t+1e-4;r<0&&(r=0),a>1&&(a=1);const l=this.getPoint(r),u=this.getPoint(a),h=e||(l.isVector2?new ee:new ct);return h.copy(u).sub(l).normalize(),h}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new ct,r=[],a=[],l=[],u=new ct,h=new en;for(let b=0;b<=t;b++){const S=b/t;r[b]=this.getTangentAt(S,new ct)}a[0]=new ct,l[0]=new ct;let p=Number.MAX_VALUE;const m=Math.abs(r[0].x),v=Math.abs(r[0].y),_=Math.abs(r[0].z);m<=p&&(p=m,i.set(1,0,0)),v<=p&&(p=v,i.set(0,1,0)),_<=p&&i.set(0,0,1),u.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],u),l[0].crossVectors(r[0],a[0]);for(let b=1;b<=t;b++){if(a[b]=a[b-1].clone(),l[b]=l[b-1].clone(),u.crossVectors(r[b-1],r[b]),u.length()>Number.EPSILON){u.normalize();const S=Math.acos(gn(r[b-1].dot(r[b]),-1,1));a[b].applyMatrix4(h.makeRotationAxis(u,S))}l[b].crossVectors(r[b],a[b])}if(e===!0){let b=Math.acos(gn(a[0].dot(a[t]),-1,1));b/=t,r[0].dot(u.crossVectors(a[0],a[t]))>0&&(b=-b);for(let S=1;S<=t;S++)a[S].applyMatrix4(h.makeRotationAxis(r[S],b*S)),l[S].crossVectors(r[S],a[S])}return{tangents:r,normals:a,binormals:l}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Db extends Lo{constructor(t=0,e=0,i=1,r=1,a=0,l=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=l,this.aClockwise=u,this.aRotation=h}getPoint(t,e=new ee){const i=e,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const l=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(l?a=0:a=r),this.aClockwise===!0&&!l&&(a===r?a=-r:a=a-r);const u=this.aStartAngle+t*a;let h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),_=h-this.aX,b=p-this.aY;h=_*m-b*v+this.aX,p=_*v+b*m+this.aY}return i.set(h,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class wN extends Db{constructor(t,e,i,r,a,l){super(t,e,i,i,r,a,l),this.isArcCurve=!0,this.type="ArcCurve"}}function fD(){let n=0,t=0,e=0,i=0;function r(a,l,u,h){n=a,t=u,e=-3*a+3*l-2*u-h,i=2*a-2*l+u+h}return{initCatmullRom:function(a,l,u,h,p){r(l,u,p*(u-a),p*(h-l))},initNonuniformCatmullRom:function(a,l,u,h,p,m,v){let _=(l-a)/p-(u-a)/(p+m)+(u-l)/m,b=(u-l)/m-(h-l)/(m+v)+(h-u)/v;_*=m,b*=m,r(l,u,_,b)},calc:function(a){const l=a*a,u=l*a;return n+t*a+e*l+i*u}}}const W0=new ct,E1=new fD,D1=new fD,A1=new fD;class RN extends Lo{constructor(t=[],e=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=r}getPoint(t,e=new ct){const i=e,r=this.points,a=r.length,l=(a-(this.closed?0:1))*t;let u=Math.floor(l),h=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/a)+1)*a:h===0&&u===a-1&&(u=a-2,h=1);let p,m;this.closed||u>0?p=r[(u-1)%a]:(W0.subVectors(r[0],r[1]).add(r[0]),p=W0);const v=r[u%a],_=r[(u+1)%a];if(this.closed||u+2<a?m=r[(u+2)%a]:(W0.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=W0),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let S=Math.pow(p.distanceToSquared(v),b),A=Math.pow(v.distanceToSquared(_),b),M=Math.pow(_.distanceToSquared(m),b);A<1e-4&&(A=1),S<1e-4&&(S=A),M<1e-4&&(M=A),E1.initNonuniformCatmullRom(p.x,v.x,_.x,m.x,S,A,M),D1.initNonuniformCatmullRom(p.y,v.y,_.y,m.y,S,A,M),A1.initNonuniformCatmullRom(p.z,v.z,_.z,m.z,S,A,M)}else this.curveType==="catmullrom"&&(E1.initCatmullRom(p.x,v.x,_.x,m.x,this.tension),D1.initCatmullRom(p.y,v.y,_.y,m.y,this.tension),A1.initCatmullRom(p.z,v.z,_.z,m.z,this.tension));return i.set(E1.calc(h),D1.calc(h),A1.calc(h)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new ct().fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Dw(n,t,e,i,r){const a=(i-t)*.5,l=(r-e)*.5,u=n*n,h=n*u;return(2*e-2*i+a+l)*h+(-3*e+3*i-2*a-l)*u+a*n+e}function W8(n,t){const e=1-n;return e*e*t}function Z8(n,t){return 2*(1-n)*n*t}function K8(n,t){return n*n*t}function Ig(n,t,e,i){return W8(n,t)+Z8(n,e)+K8(n,i)}function Q8(n,t){const e=1-n;return e*e*e*t}function J8(n,t){const e=1-n;return 3*e*e*n*t}function $8(n,t){return 3*(1-n)*n*n*t}function tV(n,t){return n*n*n*t}function zg(n,t,e,i,r){return Q8(n,t)+J8(n,e)+$8(n,i)+tV(n,r)}class hD extends Lo{constructor(t=new ee,e=new ee,i=new ee,r=new ee){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new ee){const i=e,r=this.v0,a=this.v1,l=this.v2,u=this.v3;return i.set(zg(t,r.x,a.x,l.x,u.x),zg(t,r.y,a.y,l.y,u.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class dD extends Lo{constructor(t=new ct,e=new ct,i=new ct,r=new ct){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new ct){const i=e,r=this.v0,a=this.v1,l=this.v2,u=this.v3;return i.set(zg(t,r.x,a.x,l.x,u.x),zg(t,r.y,a.y,l.y,u.y),zg(t,r.z,a.z,l.z,u.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class pD extends Lo{constructor(t=new ee,e=new ee){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new ee){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new ee){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class CN extends Lo{constructor(t=new ct,e=new ct){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new ct){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new ct){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class mD extends Lo{constructor(t=new ee,e=new ee,i=new ee){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new ee){const i=e,r=this.v0,a=this.v1,l=this.v2;return i.set(Ig(t,r.x,a.x,l.x),Ig(t,r.y,a.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Ab extends Lo{constructor(t=new ct,e=new ct,i=new ct){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new ct){const i=e,r=this.v0,a=this.v1,l=this.v2;return i.set(Ig(t,r.x,a.x,l.x),Ig(t,r.y,a.y,l.y),Ig(t,r.z,a.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class gD extends Lo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new ee){const i=e,r=this.points,a=(r.length-1)*t,l=Math.floor(a),u=a-l,h=r[l===0?l:l-1],p=r[l],m=r[l>r.length-2?r.length-1:l+1],v=r[l>r.length-3?r.length-1:l+2];return i.set(Dw(u,h.x,p.x,m.x,v.x),Dw(u,h.y,p.y,m.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const r=this.points[e];t.points.push(r.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push(new ee().fromArray(r))}return this}}var Rx=Object.freeze({__proto__:null,ArcCurve:wN,CatmullRomCurve3:RN,CubicBezierCurve:hD,CubicBezierCurve3:dD,EllipseCurve:Db,LineCurve:pD,LineCurve3:CN,QuadraticBezierCurve:mD,QuadraticBezierCurve3:Ab,SplineCurve:gD});class ON extends Lo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Rx[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const l=r[a]-i,u=this.curves[a],h=u.getLength(),p=h===0?0:1-l/h;return u.getPointAt(p,e)}a++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const l=a[r],u=l.isEllipseCurve?t*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?t*l.points.length:t,h=l.getPoints(u);for(let p=0;p<h.length;p++){const m=h[p];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const r=this.curves[e];t.curves.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push(new Rx[r.type]().fromJSON(r))}return this}}class Cx extends ON{constructor(t){super(),this.type="Path",this.currentPoint=new ee,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new pD(this.currentPoint.clone(),new ee(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,r){const a=new mD(this.currentPoint.clone(),new ee(t,e),new ee(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(t,e,i,r,a,l){const u=new hD(this.currentPoint.clone(),new ee(t,e),new ee(i,r),new ee(a,l));return this.curves.push(u),this.currentPoint.set(a,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new gD(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,r,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+u,e+h,i,r,a,l),this}absarc(t,e,i,r,a,l){return this.absellipse(t,e,i,i,r,a,l),this}ellipse(t,e,i,r,a,l,u,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+p,e+m,i,r,a,l,u,h),this}absellipse(t,e,i,r,a,l,u,h){const p=new Db(t,e,i,r,a,l,u,h);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class ah extends Cx{constructor(t){super(t),this.uuid=ga(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(r.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const r=this.holes[e];t.holes.push(r.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push(new Cx().fromJSON(r))}return this}}function eV(n,t,e=2){const i=t&&t.length,r=i?t[0]*e:n.length;let a=NN(n,0,r,e,!0);const l=[];if(!a||a.next===a.prev)return l;let u,h,p;if(i&&(a=aV(n,t,a,e)),n.length>80*e){u=1/0,h=1/0;let m=-1/0,v=-1/0;for(let _=e;_<r;_+=e){const b=n[_],S=n[_+1];b<u&&(u=b),S<h&&(h=S),b>m&&(m=b),S>v&&(v=S)}p=Math.max(m-u,v-h),p=p!==0?32767/p:0}return nv(a,l,e,u,h,p,0),l}function NN(n,t,e,i,r){let a;if(r===vV(n,t,e,i)>0)for(let l=t;l<e;l+=i)a=Aw(l/i|0,n[l],n[l+1],a);else for(let l=e-i;l>=t;l-=i)a=Aw(l/i|0,n[l],n[l+1],a);return a&&yp(a,a.next)&&(rv(a),a=a.next),a}function fh(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(yp(e,e.next)||Vi(e.prev,e,e.next)===0)){if(rv(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function nv(n,t,e,i,r,a,l){if(!n)return;!l&&a&&fV(n,i,r,a);let u=n;for(;n.prev!==n.next;){const h=n.prev,p=n.next;if(a?iV(n,i,r,a):nV(n)){t.push(h.i,n.i,p.i),rv(n),n=p.next,u=p.next;continue}if(n=p,n===u){l?l===1?(n=rV(fh(n),t),nv(n,t,e,i,r,a,2)):l===2&&sV(n,t,e,i,r,a):nv(fh(n),t,e,i,r,a,1);break}}}function nV(n){const t=n.prev,e=n,i=n.next;if(Vi(t,e,i)>=0)return!1;const r=t.x,a=e.x,l=i.x,u=t.y,h=e.y,p=i.y,m=Math.min(r,a,l),v=Math.min(u,h,p),_=Math.max(r,a,l),b=Math.max(u,h,p);let S=i.next;for(;S!==t;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=b&&Mg(r,u,a,h,l,p,S.x,S.y)&&Vi(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function iV(n,t,e,i){const r=n.prev,a=n,l=n.next;if(Vi(r,a,l)>=0)return!1;const u=r.x,h=a.x,p=l.x,m=r.y,v=a.y,_=l.y,b=Math.min(u,h,p),S=Math.min(m,v,_),A=Math.max(u,h,p),M=Math.max(m,v,_),x=XM(b,S,t,e,i),T=XM(A,M,t,e,i);let R=n.prevZ,O=n.nextZ;for(;R&&R.z>=x&&O&&O.z<=T;){if(R.x>=b&&R.x<=A&&R.y>=S&&R.y<=M&&R!==r&&R!==l&&Mg(u,m,h,v,p,_,R.x,R.y)&&Vi(R.prev,R,R.next)>=0||(R=R.prevZ,O.x>=b&&O.x<=A&&O.y>=S&&O.y<=M&&O!==r&&O!==l&&Mg(u,m,h,v,p,_,O.x,O.y)&&Vi(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;R&&R.z>=x;){if(R.x>=b&&R.x<=A&&R.y>=S&&R.y<=M&&R!==r&&R!==l&&Mg(u,m,h,v,p,_,R.x,R.y)&&Vi(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;O&&O.z<=T;){if(O.x>=b&&O.x<=A&&O.y>=S&&O.y<=M&&O!==r&&O!==l&&Mg(u,m,h,v,p,_,O.x,O.y)&&Vi(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function rV(n,t){let e=n;do{const i=e.prev,r=e.next.next;!yp(i,r)&&UN(i,e,e.next,r)&&iv(i,r)&&iv(r,i)&&(t.push(i.i,e.i,r.i),rv(e),rv(e.next),e=n=r),e=e.next}while(e!==n);return fh(e)}function sV(n,t,e,i,r,a){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&pV(l,u)){let h=PN(l,u);l=fh(l,l.next),h=fh(h,h.next),nv(l,t,e,i,r,a,0),nv(h,t,e,i,r,a,0);return}u=u.next}l=l.next}while(l!==n)}function aV(n,t,e,i){const r=[];for(let a=0,l=t.length;a<l;a++){const u=t[a]*i,h=a<l-1?t[a+1]*i:n.length,p=NN(n,u,h,i,!1);p===p.next&&(p.steiner=!0),r.push(dV(p))}r.sort(oV);for(let a=0;a<r.length;a++)e=lV(r[a],e);return e}function oV(n,t){let e=n.x-t.x;if(e===0&&(e=n.y-t.y,e===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(t.next.y-t.y)/(t.next.x-t.x);e=i-r}return e}function lV(n,t){const e=cV(n,t);if(!e)return t;const i=PN(e,n);return fh(i,i.next),fh(e,e.next)}function cV(n,t){let e=t;const i=n.x,r=n.y;let a=-1/0,l;if(yp(n,e))return e;do{if(yp(n,e.next))return e.next;if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const v=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(v<=i&&v>a&&(a=v,l=e.x<e.next.x?e:e.next,v===i))return l}e=e.next}while(e!==t);if(!l)return null;const u=l,h=l.x,p=l.y;let m=1/0;e=l;do{if(i>=e.x&&e.x>=h&&i!==e.x&&LN(r<p?i:a,r,h,p,r<p?a:i,r,e.x,e.y)){const v=Math.abs(r-e.y)/(i-e.x);iv(e,n)&&(v<m||v===m&&(e.x>l.x||e.x===l.x&&uV(l,e)))&&(l=e,m=v)}e=e.next}while(e!==u);return l}function uV(n,t){return Vi(n.prev,n,t.prev)<0&&Vi(t.next,n,n.next)<0}function fV(n,t,e,i){let r=n;do r.z===0&&(r.z=XM(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,hV(r)}function hV(n){let t,e=1;do{let i=n,r;n=null;let a=null;for(t=0;i;){t++;let l=i,u=0;for(let p=0;p<e&&(u++,l=l.nextZ,!!l);p++);let h=e;for(;u>0||h>0&&l;)u!==0&&(h===0||!l||i.z<=l.z)?(r=i,i=i.nextZ,u--):(r=l,l=l.nextZ,h--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=l}a.nextZ=null,e*=2}while(t>1);return n}function XM(n,t,e,i,r){return n=(n-e)*r|0,t=(t-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function dV(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function LN(n,t,e,i,r,a,l,u){return(r-l)*(t-u)>=(n-l)*(a-u)&&(n-l)*(i-u)>=(e-l)*(t-u)&&(e-l)*(a-u)>=(r-l)*(i-u)}function Mg(n,t,e,i,r,a,l,u){return!(n===l&&t===u)&&LN(n,t,e,i,r,a,l,u)}function pV(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!mV(n,t)&&(iv(n,t)&&iv(t,n)&&gV(n,t)&&(Vi(n.prev,n,t.prev)||Vi(n,t.prev,t))||yp(n,t)&&Vi(n.prev,n,n.next)>0&&Vi(t.prev,t,t.next)>0)}function Vi(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function yp(n,t){return n.x===t.x&&n.y===t.y}function UN(n,t,e,i){const r=K0(Vi(n,t,e)),a=K0(Vi(n,t,i)),l=K0(Vi(e,i,n)),u=K0(Vi(e,i,t));return!!(r!==a&&l!==u||r===0&&Z0(n,e,t)||a===0&&Z0(n,i,t)||l===0&&Z0(e,n,i)||u===0&&Z0(e,t,i))}function Z0(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function K0(n){return n>0?1:n<0?-1:0}function mV(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&UN(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function iv(n,t){return Vi(n.prev,n,n.next)<0?Vi(n,t,n.next)>=0&&Vi(n,n.prev,t)>=0:Vi(n,t,n.prev)<0||Vi(n,n.next,t)<0}function gV(n,t){let e=n,i=!1;const r=(n.x+t.x)/2,a=(n.y+t.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&r<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function PN(n,t){const e=YM(n.i,n.x,n.y),i=YM(t.i,t.x,t.y),r=n.next,a=t.prev;return n.next=t,t.prev=n,e.next=r,r.prev=e,i.next=e,e.prev=i,a.next=i,i.prev=a,i}function Aw(n,t,e,i){const r=YM(n,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function rv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function YM(n,t,e){return{i:n,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function vV(n,t,e,i){let r=0;for(let a=t,l=e-i;a<e;a+=i)r+=(n[l]-n[a])*(n[a+1]+n[l+1]),l=a;return r}class yV{static triangulate(t,e,i=2){return eV(t,e,i)}}class Do{static area(t){const e=t.length;let i=0;for(let r=e-1,a=0;a<e;r=a++)i+=t[r].x*t[a].y-t[a].x*t[r].y;return i*.5}static isClockWise(t){return Do.area(t)<0}static triangulateShape(t,e){const i=[],r=[],a=[];Tw(t),ww(i,t);let l=t.length;e.forEach(Tw);for(let h=0;h<e.length;h++)r.push(l),l+=e[h].length,ww(i,e[h]);const u=yV.triangulate(i,r);for(let h=0;h<u.length;h+=3)a.push(u.slice(h,h+3));return a}}function Tw(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function ww(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class Tb extends xn{constructor(t=new ah([new ee(.5,.5),new ee(-.5,.5),new ee(-.5,-.5),new ee(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,r=[],a=[];for(let u=0,h=t.length;u<h;u++){const p=t[u];l(p)}this.setAttribute("position",new ze(r,3)),this.setAttribute("uv",new ze(a,2)),this.computeVertexNormals();function l(u){const h=[],p=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let _=e.bevelEnabled!==void 0?e.bevelEnabled:!0,b=e.bevelThickness!==void 0?e.bevelThickness:.2,S=e.bevelSize!==void 0?e.bevelSize:b-.1,A=e.bevelOffset!==void 0?e.bevelOffset:0,M=e.bevelSegments!==void 0?e.bevelSegments:3;const x=e.extrudePath,T=e.UVGenerator!==void 0?e.UVGenerator:_V;let R,O=!1,I,P,B,N;x&&(R=x.getSpacedPoints(m),O=!0,_=!1,I=x.computeFrenetFrames(m,!1),P=new ct,B=new ct,N=new ct),_||(M=0,b=0,S=0,A=0);const L=u.extractPoints(p);let U=L.shape;const F=L.holes;if(!Do.isClockWise(U)){U=U.reverse();for(let et=0,Wt=F.length;et<Wt;et++){const Ut=F[et];Do.isClockWise(Ut)&&(F[et]=Ut.reverse())}}function tt(et){const Ut=10000000000000001e-36;let Xt=et[0];for(let It=1;It<=et.length;It++){const ue=It%et.length,Zt=et[ue],ot=Zt.x-Xt.x,Z=Zt.y-Xt.y,Dt=ot*ot+Z*Z,Ft=Math.max(Math.abs(Zt.x),Math.abs(Zt.y),Math.abs(Xt.x),Math.abs(Xt.y)),Qt=Ut*Ft*Ft;if(Dt<=Qt){et.splice(ue,1),It--;continue}Xt=Zt}}tt(U),F.forEach(tt);const nt=F.length,at=U;for(let et=0;et<nt;et++){const Wt=F[et];U=U.concat(Wt)}function H(et,Wt,Ut){return Wt||console.error("THREE.ExtrudeGeometry: vec does not exist"),et.clone().addScaledVector(Wt,Ut)}const k=U.length;function V(et,Wt,Ut){let Xt,It,ue;const Zt=et.x-Wt.x,ot=et.y-Wt.y,Z=Ut.x-et.x,Dt=Ut.y-et.y,Ft=Zt*Zt+ot*ot,Qt=Zt*Dt-ot*Z;if(Math.abs(Qt)>Number.EPSILON){const Nt=Math.sqrt(Ft),de=Math.sqrt(Z*Z+Dt*Dt),fe=Wt.x-ot/Nt,Me=Wt.y+Zt/Nt,He=Ut.x-Dt/de,oe=Ut.y+Z/de,ge=((He-fe)*Dt-(oe-Me)*Z)/(Zt*Dt-ot*Z);Xt=fe+Zt*ge-et.x,It=Me+ot*ge-et.y;const Ae=Xt*Xt+It*It;if(Ae<=2)return new ee(Xt,It);ue=Math.sqrt(Ae/2)}else{let Nt=!1;Zt>Number.EPSILON?Z>Number.EPSILON&&(Nt=!0):Zt<-Number.EPSILON?Z<-Number.EPSILON&&(Nt=!0):Math.sign(ot)===Math.sign(Dt)&&(Nt=!0),Nt?(Xt=-ot,It=Zt,ue=Math.sqrt(Ft)):(Xt=Zt,It=ot,ue=Math.sqrt(Ft/2))}return new ee(Xt/ue,It/ue)}const Q=[];for(let et=0,Wt=at.length,Ut=Wt-1,Xt=et+1;et<Wt;et++,Ut++,Xt++)Ut===Wt&&(Ut=0),Xt===Wt&&(Xt=0),Q[et]=V(at[et],at[Ut],at[Xt]);const j=[];let st,ht=Q.concat();for(let et=0,Wt=nt;et<Wt;et++){const Ut=F[et];st=[];for(let Xt=0,It=Ut.length,ue=It-1,Zt=Xt+1;Xt<It;Xt++,ue++,Zt++)ue===It&&(ue=0),Zt===It&&(Zt=0),st[Xt]=V(Ut[Xt],Ut[ue],Ut[Zt]);j.push(st),ht=ht.concat(st)}let dt;if(M===0)dt=Do.triangulateShape(at,F);else{const et=[],Wt=[];for(let Ut=0;Ut<M;Ut++){const Xt=Ut/M,It=b*Math.cos(Xt*Math.PI/2),ue=S*Math.sin(Xt*Math.PI/2)+A;for(let Zt=0,ot=at.length;Zt<ot;Zt++){const Z=H(at[Zt],Q[Zt],ue);Ct(Z.x,Z.y,-It),Xt===0&&et.push(Z)}for(let Zt=0,ot=nt;Zt<ot;Zt++){const Z=F[Zt];st=j[Zt];const Dt=[];for(let Ft=0,Qt=Z.length;Ft<Qt;Ft++){const Nt=H(Z[Ft],st[Ft],ue);Ct(Nt.x,Nt.y,-It),Xt===0&&Dt.push(Nt)}Xt===0&&Wt.push(Dt)}}dt=Do.triangulateShape(et,Wt)}const $=dt.length,ft=S+A;for(let et=0;et<k;et++){const Wt=_?H(U[et],ht[et],ft):U[et];O?(B.copy(I.normals[0]).multiplyScalar(Wt.x),P.copy(I.binormals[0]).multiplyScalar(Wt.y),N.copy(R[0]).add(B).add(P),Ct(N.x,N.y,N.z)):Ct(Wt.x,Wt.y,0)}for(let et=1;et<=m;et++)for(let Wt=0;Wt<k;Wt++){const Ut=_?H(U[Wt],ht[Wt],ft):U[Wt];O?(B.copy(I.normals[et]).multiplyScalar(Ut.x),P.copy(I.binormals[et]).multiplyScalar(Ut.y),N.copy(R[et]).add(B).add(P),Ct(N.x,N.y,N.z)):Ct(Ut.x,Ut.y,v/m*et)}for(let et=M-1;et>=0;et--){const Wt=et/M,Ut=b*Math.cos(Wt*Math.PI/2),Xt=S*Math.sin(Wt*Math.PI/2)+A;for(let It=0,ue=at.length;It<ue;It++){const Zt=H(at[It],Q[It],Xt);Ct(Zt.x,Zt.y,v+Ut)}for(let It=0,ue=F.length;It<ue;It++){const Zt=F[It];st=j[It];for(let ot=0,Z=Zt.length;ot<Z;ot++){const Dt=H(Zt[ot],st[ot],Xt);O?Ct(Dt.x,Dt.y+R[m-1].y,R[m-1].x+Ut):Ct(Dt.x,Dt.y,v+Ut)}}}lt(),pt();function lt(){const et=r.length/3;if(_){let Wt=0,Ut=k*Wt;for(let Xt=0;Xt<$;Xt++){const It=dt[Xt];Ht(It[2]+Ut,It[1]+Ut,It[0]+Ut)}Wt=m+M*2,Ut=k*Wt;for(let Xt=0;Xt<$;Xt++){const It=dt[Xt];Ht(It[0]+Ut,It[1]+Ut,It[2]+Ut)}}else{for(let Wt=0;Wt<$;Wt++){const Ut=dt[Wt];Ht(Ut[2],Ut[1],Ut[0])}for(let Wt=0;Wt<$;Wt++){const Ut=dt[Wt];Ht(Ut[0]+k*m,Ut[1]+k*m,Ut[2]+k*m)}}i.addGroup(et,r.length/3-et,0)}function pt(){const et=r.length/3;let Wt=0;xt(at,Wt),Wt+=at.length;for(let Ut=0,Xt=F.length;Ut<Xt;Ut++){const It=F[Ut];xt(It,Wt),Wt+=It.length}i.addGroup(et,r.length/3-et,1)}function xt(et,Wt){let Ut=et.length;for(;--Ut>=0;){const Xt=Ut;let It=Ut-1;It<0&&(It=et.length-1);for(let ue=0,Zt=m+M*2;ue<Zt;ue++){const ot=k*ue,Z=k*(ue+1),Dt=Wt+Xt+ot,Ft=Wt+It+ot,Qt=Wt+It+Z,Nt=Wt+Xt+Z;Kt(Dt,Ft,Qt,Nt)}}}function Ct(et,Wt,Ut){h.push(et),h.push(Wt),h.push(Ut)}function Ht(et,Wt,Ut){le(et),le(Wt),le(Ut);const Xt=r.length/3,It=T.generateTopUV(i,r,Xt-3,Xt-2,Xt-1);ce(It[0]),ce(It[1]),ce(It[2])}function Kt(et,Wt,Ut,Xt){le(et),le(Wt),le(Xt),le(Wt),le(Ut),le(Xt);const It=r.length/3,ue=T.generateSideWallUV(i,r,It-6,It-3,It-2,It-1);ce(ue[0]),ce(ue[1]),ce(ue[3]),ce(ue[1]),ce(ue[2]),ce(ue[3])}function le(et){r.push(h[et*3+0]),r.push(h[et*3+1]),r.push(h[et*3+2])}function ce(et){a.push(et.x),a.push(et.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return xV(e,i,t)}static fromJSON(t,e){const i=[];for(let a=0,l=t.shapes.length;a<l;a++){const u=e[t.shapes[a]];i.push(u)}const r=t.options.extrudePath;return r!==void 0&&(t.options.extrudePath=new Rx[r.type]().fromJSON(r)),new Tb(i,t.options)}}const _V={generateTopUV:function(n,t,e,i,r){const a=t[e*3],l=t[e*3+1],u=t[i*3],h=t[i*3+1],p=t[r*3],m=t[r*3+1];return[new ee(a,l),new ee(u,h),new ee(p,m)]},generateSideWallUV:function(n,t,e,i,r,a){const l=t[e*3],u=t[e*3+1],h=t[e*3+2],p=t[i*3],m=t[i*3+1],v=t[i*3+2],_=t[r*3],b=t[r*3+1],S=t[r*3+2],A=t[a*3],M=t[a*3+1],x=t[a*3+2];return Math.abs(u-m)<Math.abs(l-p)?[new ee(l,1-h),new ee(p,1-v),new ee(_,1-S),new ee(A,1-x)]:[new ee(u,1-h),new ee(m,1-v),new ee(b,1-S),new ee(M,1-x)]}};function xV(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class Av extends Vu{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Av(t.radius,t.detail)}}class wb extends xn{constructor(t=[new ee(0,-.5),new ee(.5,0),new ee(0,.5)],e=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e),r=gn(r,0,Math.PI*2);const a=[],l=[],u=[],h=[],p=[],m=1/e,v=new ct,_=new ee,b=new ct,S=new ct,A=new ct;let M=0,x=0;for(let T=0;T<=t.length-1;T++)switch(T){case 0:M=t[T+1].x-t[T].x,x=t[T+1].y-t[T].y,b.x=x*1,b.y=-M,b.z=x*0,A.copy(b),b.normalize(),h.push(b.x,b.y,b.z);break;case t.length-1:h.push(A.x,A.y,A.z);break;default:M=t[T+1].x-t[T].x,x=t[T+1].y-t[T].y,b.x=x*1,b.y=-M,b.z=x*0,S.copy(b),b.x+=A.x,b.y+=A.y,b.z+=A.z,b.normalize(),h.push(b.x,b.y,b.z),A.copy(S)}for(let T=0;T<=e;T++){const R=i+T*m*r,O=Math.sin(R),I=Math.cos(R);for(let P=0;P<=t.length-1;P++){v.x=t[P].x*O,v.y=t[P].y,v.z=t[P].x*I,l.push(v.x,v.y,v.z),_.x=T/e,_.y=P/(t.length-1),u.push(_.x,_.y);const B=h[3*P+0]*O,N=h[3*P+1],L=h[3*P+0]*I;p.push(B,N,L)}}for(let T=0;T<e;T++)for(let R=0;R<t.length-1;R++){const O=R+T*t.length,I=O,P=O+t.length,B=O+t.length+1,N=O+1;a.push(I,P,N),a.push(B,N,P)}this.setIndex(a),this.setAttribute("position",new ze(l,3)),this.setAttribute("uv",new ze(u,2)),this.setAttribute("normal",new ze(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new wb(t.points,t.segments,t.phiStart,t.phiLength)}}class Tv extends Vu{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Tv(t.radius,t.detail)}}class ku extends xn{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const a=t/2,l=e/2,u=Math.floor(i),h=Math.floor(r),p=u+1,m=h+1,v=t/u,_=e/h,b=[],S=[],A=[],M=[];for(let x=0;x<m;x++){const T=x*_-l;for(let R=0;R<p;R++){const O=R*v-a;S.push(O,-T,0),A.push(0,0,1),M.push(R/u),M.push(1-x/h)}}for(let x=0;x<h;x++)for(let T=0;T<u;T++){const R=T+p*x,O=T+p*(x+1),I=T+1+p*(x+1),P=T+1+p*x;b.push(R,O,P),b.push(O,I,P)}this.setIndex(b),this.setAttribute("position",new ze(S,3)),this.setAttribute("normal",new ze(A,3)),this.setAttribute("uv",new ze(M,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ku(t.width,t.height,t.widthSegments,t.heightSegments)}}class Rb extends xn{constructor(t=.5,e=1,i=32,r=1,a=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:l},i=Math.max(3,i),r=Math.max(1,r);const u=[],h=[],p=[],m=[];let v=t;const _=(e-t)/r,b=new ct,S=new ee;for(let A=0;A<=r;A++){for(let M=0;M<=i;M++){const x=a+M/i*l;b.x=v*Math.cos(x),b.y=v*Math.sin(x),h.push(b.x,b.y,b.z),p.push(0,0,1),S.x=(b.x/e+1)/2,S.y=(b.y/e+1)/2,m.push(S.x,S.y)}v+=_}for(let A=0;A<r;A++){const M=A*(i+1);for(let x=0;x<i;x++){const T=x+M,R=T,O=T+i+1,I=T+i+2,P=T+1;u.push(R,O,P),u.push(O,I,P)}}this.setIndex(u),this.setAttribute("position",new ze(h,3)),this.setAttribute("normal",new ze(p,3)),this.setAttribute("uv",new ze(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Rb(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Cb extends xn{constructor(t=new ah([new ee(0,.5),new ee(-.5,-.5),new ee(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],r=[],a=[],l=[];let u=0,h=0;if(Array.isArray(t)===!1)p(t);else for(let m=0;m<t.length;m++)p(t[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new ze(r,3)),this.setAttribute("normal",new ze(a,3)),this.setAttribute("uv",new ze(l,2));function p(m){const v=r.length/3,_=m.extractPoints(e);let b=_.shape;const S=_.holes;Do.isClockWise(b)===!1&&(b=b.reverse());for(let M=0,x=S.length;M<x;M++){const T=S[M];Do.isClockWise(T)===!0&&(S[M]=T.reverse())}const A=Do.triangulateShape(b,S);for(let M=0,x=S.length;M<x;M++){const T=S[M];b=b.concat(T)}for(let M=0,x=b.length;M<x;M++){const T=b[M];r.push(T.x,T.y,0),a.push(0,0,1),l.push(T.x,T.y)}for(let M=0,x=A.length;M<x;M++){const T=A[M],R=T[0]+v,O=T[1]+v,I=T[2]+v;i.push(R,O,I),h+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return bV(e,t)}static fromJSON(t,e){const i=[];for(let r=0,a=t.shapes.length;r<a;r++){const l=e[t.shapes[r]];i.push(l)}return new Cb(i,t.curveSegments)}}function bV(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const r=n[e];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t}class Up extends xn{constructor(t=1,e=32,i=16,r=0,a=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:a,thetaStart:l,thetaLength:u},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const h=Math.min(l+u,Math.PI);let p=0;const m=[],v=new ct,_=new ct,b=[],S=[],A=[],M=[];for(let x=0;x<=i;x++){const T=[],R=x/i;let O=0;x===0&&l===0?O=.5/e:x===i&&h===Math.PI&&(O=-.5/e);for(let I=0;I<=e;I++){const P=I/e;v.x=-t*Math.cos(r+P*a)*Math.sin(l+R*u),v.y=t*Math.cos(l+R*u),v.z=t*Math.sin(r+P*a)*Math.sin(l+R*u),S.push(v.x,v.y,v.z),_.copy(v).normalize(),A.push(_.x,_.y,_.z),M.push(P+O,1-R),T.push(p++)}m.push(T)}for(let x=0;x<i;x++)for(let T=0;T<e;T++){const R=m[x][T+1],O=m[x][T],I=m[x+1][T],P=m[x+1][T+1];(x!==0||l>0)&&b.push(R,O,P),(x!==i-1||h<Math.PI)&&b.push(O,I,P)}this.setIndex(b),this.setAttribute("position",new ze(S,3)),this.setAttribute("normal",new ze(A,3)),this.setAttribute("uv",new ze(M,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Up(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class Ob extends Vu{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Ob(t.radius,t.detail)}}class Nb extends xn{constructor(t=1,e=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const l=[],u=[],h=[],p=[],m=new ct,v=new ct,_=new ct;for(let b=0;b<=i;b++)for(let S=0;S<=r;S++){const A=S/r*a,M=b/i*Math.PI*2;v.x=(t+e*Math.cos(M))*Math.cos(A),v.y=(t+e*Math.cos(M))*Math.sin(A),v.z=e*Math.sin(M),u.push(v.x,v.y,v.z),m.x=t*Math.cos(A),m.y=t*Math.sin(A),_.subVectors(v,m).normalize(),h.push(_.x,_.y,_.z),p.push(S/r),p.push(b/i)}for(let b=1;b<=i;b++)for(let S=1;S<=r;S++){const A=(r+1)*b+S-1,M=(r+1)*(b-1)+S-1,x=(r+1)*(b-1)+S,T=(r+1)*b+S;l.push(A,M,T),l.push(M,x,T)}this.setIndex(l),this.setAttribute("position",new ze(u,3)),this.setAttribute("normal",new ze(h,3)),this.setAttribute("uv",new ze(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Nb(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class Lb extends xn{constructor(t=1,e=.4,i=64,r=8,a=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:a,q:l},i=Math.floor(i),r=Math.floor(r);const u=[],h=[],p=[],m=[],v=new ct,_=new ct,b=new ct,S=new ct,A=new ct,M=new ct,x=new ct;for(let R=0;R<=i;++R){const O=R/i*a*Math.PI*2;T(O,a,l,t,b),T(O+.01,a,l,t,S),M.subVectors(S,b),x.addVectors(S,b),A.crossVectors(M,x),x.crossVectors(A,M),A.normalize(),x.normalize();for(let I=0;I<=r;++I){const P=I/r*Math.PI*2,B=-e*Math.cos(P),N=e*Math.sin(P);v.x=b.x+(B*x.x+N*A.x),v.y=b.y+(B*x.y+N*A.y),v.z=b.z+(B*x.z+N*A.z),h.push(v.x,v.y,v.z),_.subVectors(v,b).normalize(),p.push(_.x,_.y,_.z),m.push(R/i),m.push(I/r)}}for(let R=1;R<=i;R++)for(let O=1;O<=r;O++){const I=(r+1)*(R-1)+(O-1),P=(r+1)*R+(O-1),B=(r+1)*R+O,N=(r+1)*(R-1)+O;u.push(I,P,N),u.push(P,B,N)}this.setIndex(u),this.setAttribute("position",new ze(h,3)),this.setAttribute("normal",new ze(p,3)),this.setAttribute("uv",new ze(m,2));function T(R,O,I,P,B){const N=Math.cos(R),L=Math.sin(R),U=I/O*R,F=Math.cos(U);B.x=P*(2+F)*.5*N,B.y=P*(2+F)*L*.5,B.z=P*Math.sin(U)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Lb(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class wv extends xn{constructor(t=new Ab(new ct(-1,-1,0),new ct(-1,1,0),new ct(1,1,0)),e=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:a};const l=t.computeFrenetFrames(e,a);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new ct,h=new ct,p=new ee;let m=new ct;const v=[],_=[],b=[],S=[];A(),this.setIndex(S),this.setAttribute("position",new ze(v,3)),this.setAttribute("normal",new ze(_,3)),this.setAttribute("uv",new ze(b,2));function A(){for(let R=0;R<e;R++)M(R);M(a===!1?e:0),T(),x()}function M(R){m=t.getPointAt(R/e,m);const O=l.normals[R],I=l.binormals[R];for(let P=0;P<=r;P++){const B=P/r*Math.PI*2,N=Math.sin(B),L=-Math.cos(B);h.x=L*O.x+N*I.x,h.y=L*O.y+N*I.y,h.z=L*O.z+N*I.z,h.normalize(),_.push(h.x,h.y,h.z),u.x=m.x+i*h.x,u.y=m.y+i*h.y,u.z=m.z+i*h.z,v.push(u.x,u.y,u.z)}}function x(){for(let R=1;R<=e;R++)for(let O=1;O<=r;O++){const I=(r+1)*(R-1)+(O-1),P=(r+1)*R+(O-1),B=(r+1)*R+O,N=(r+1)*(R-1)+O;S.push(I,P,N),S.push(P,B,N)}}function T(){for(let R=0;R<=e;R++)for(let O=0;O<=r;O++)p.x=R/e,p.y=O/r,b.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new wv(new Rx[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class IN extends xn{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,r=new ct,a=new ct;if(t.index!==null){const l=t.attributes.position,u=t.index;let h=t.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const v=h[p],_=v.start,b=v.count;for(let S=_,A=_+b;S<A;S+=3)for(let M=0;M<3;M++){const x=u.getX(S+M),T=u.getX(S+(M+1)%3);r.fromBufferAttribute(l,x),a.fromBufferAttribute(l,T),Rw(r,a,i)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}}else{const l=t.attributes.position;for(let u=0,h=l.count/3;u<h;u++)for(let p=0;p<3;p++){const m=3*u+p,v=3*u+(p+1)%3;r.fromBufferAttribute(l,m),a.fromBufferAttribute(l,v),Rw(r,a,i)===!0&&(e.push(r.x,r.y,r.z),e.push(a.x,a.y,a.z))}}this.setAttribute("position",new ze(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Rw(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(r)===!0?!1:(e.add(i),e.add(r),!0)}var Cw=Object.freeze({__proto__:null,BoxGeometry:vh,CapsuleGeometry:Sb,CircleGeometry:Mb,ConeGeometry:Lp,CylinderGeometry:Np,DodecahedronGeometry:Eb,EdgesGeometry:TN,ExtrudeGeometry:Tb,IcosahedronGeometry:Av,LatheGeometry:wb,OctahedronGeometry:Tv,PlaneGeometry:ku,PolyhedronGeometry:Vu,RingGeometry:Rb,ShapeGeometry:Cb,SphereGeometry:Up,TetrahedronGeometry:Ob,TorusGeometry:Nb,TorusKnotGeometry:Lb,TubeGeometry:wv,WireframeGeometry:IN});class zN extends as{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ce(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class BN extends Ks{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class vD extends as{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ce(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fu,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ya,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class HN extends vD{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ee(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return gn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ce(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ce(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ce(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class FN extends as{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ce(16777215),this.specular=new Ce(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fu,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ya,this.combine=_v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class VN extends as{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ce(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fu,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class kN extends as{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fu,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class yD extends as{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fu,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ya,this.combine=_v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class _D extends as{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=eN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class xD extends as{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class GN extends as{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ce(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fu,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class jN extends os{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function nh(n,t){return!n||n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function qN(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function XN(n){function t(r,a){return n[r]-n[a]}const e=n.length,i=new Array(e);for(let r=0;r!==e;++r)i[r]=r;return i.sort(t),i}function WM(n,t,e){const i=n.length,r=new n.constructor(i);for(let a=0,l=0;l!==i;++a){const u=e[a]*t;for(let h=0;h!==t;++h)r[l++]=n[u+h]}return r}function bD(n,t,e,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let l=a[i];if(l!==void 0)if(Array.isArray(l))do l=a[i],l!==void 0&&(t.push(a.time),e.push(...l)),a=n[r++];while(a!==void 0);else if(l.toArray!==void 0)do l=a[i],l!==void 0&&(t.push(a.time),l.toArray(e,e.length)),a=n[r++];while(a!==void 0);else do l=a[i],l!==void 0&&(t.push(a.time),e.push(l)),a=n[r++];while(a!==void 0)}function SV(n,t,e,i,r=30){const a=n.clone();a.name=t;const l=[];for(let h=0;h<a.tracks.length;++h){const p=a.tracks[h],m=p.getValueSize(),v=[],_=[];for(let b=0;b<p.times.length;++b){const S=p.times[b]*r;if(!(S<e||S>=i)){v.push(p.times[b]);for(let A=0;A<m;++A)_.push(p.values[b*m+A])}}v.length!==0&&(p.times=nh(v,p.times.constructor),p.values=nh(_,p.values.constructor),l.push(p))}a.tracks=l;let u=1/0;for(let h=0;h<a.tracks.length;++h)u>a.tracks[h].times[0]&&(u=a.tracks[h].times[0]);for(let h=0;h<a.tracks.length;++h)a.tracks[h].shift(-1*u);return a.resetDuration(),a}function MV(n,t=0,e=n,i=30){i<=0&&(i=30);const r=e.tracks.length,a=t/i;for(let l=0;l<r;++l){const u=e.tracks[l],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const p=n.tracks.find(function(x){return x.name===u.name&&x.ValueTypeName===h});if(p===void 0)continue;let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let _=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=b/3);const S=u.times.length-1;let A;if(a<=u.times[0]){const x=m,T=v-m;A=u.values.slice(x,T)}else if(a>=u.times[S]){const x=S*v+m,T=x+v-m;A=u.values.slice(x,T)}else{const x=u.createInterpolant(),T=m,R=v-m;x.evaluate(a),A=x.resultBuffer.slice(T,R)}h==="quaternion"&&new Rs().fromArray(A).normalize().conjugate().toArray(A);const M=p.times.length;for(let x=0;x<M;++x){const T=x*b+_;if(h==="quaternion")Rs.multiplyQuaternionsFlat(p.values,T,A,0,p.values,T);else{const R=b-_*2;for(let O=0;O<R;++O)p.values[T+O]-=A[O]}}}return n.blendMode=nD,n}class EV{static convertArray(t,e){return nh(t,e)}static isTypedArray(t){return qN(t)}static getKeyframeOrder(t){return XN(t)}static sortedArray(t,e,i){return WM(t,e,i)}static flattenJSON(t,e,i,r){bD(t,e,i,r)}static subclip(t,e,i,r,a=30){return SV(t,e,i,r,a)}static makeClipAdditive(t,e=0,i=t,r=30){return MV(t,e,i,r)}}class Rv{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],a=e[i-1];t:{e:{let l;n:{i:if(!(t<r)){for(let u=i+2;;){if(r===void 0){if(t<a)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(a=r,r=e[++i],t<r)break e}l=e.length;break n}if(!(t>=a)){const u=e[1];t<u&&(i=2,a=u);for(let h=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(r=a,a=e[--i-1],t>=a)break e}l=i,i=0;break n}break t}for(;i<l;){const u=i+l>>>1;t<e[u]?l=u:i=u+1}if(r=e[i],a=e[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=t*r;for(let l=0;l!==r;++l)e[l]=i[a+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class YN extends Rv{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:$f,endingEnd:$f}}intervalChanged_(t,e,i){const r=this.parameterPositions;let a=t-2,l=t+1,u=r[a],h=r[l];if(u===void 0)switch(this.getSettings_().endingStart){case th:a=t,u=2*e-i;break;case Qg:a=r.length-2,u=e+r[a]-r[a+1];break;default:a=t,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case th:l=t,h=2*i-e;break;case Qg:l=1,h=i+r[1]-r[0];break;default:l=t-1,h=e}const p=(i-e)*.5,m=this.valueSize;this._weightPrev=p/(e-u),this._weightNext=p/(h-i),this._offsetPrev=a*m,this._offsetNext=l*m}interpolate_(t,e,i,r){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=t*u,p=h-u,m=this._offsetPrev,v=this._offsetNext,_=this._weightPrev,b=this._weightNext,S=(i-e)/(r-e),A=S*S,M=A*S,x=-_*M+2*_*A-_*S,T=(1+_)*M+(-1.5-2*_)*A+(-.5+_)*S+1,R=(-1-b)*M+(1.5+b)*A+.5*S,O=b*M-b*A;for(let I=0;I!==u;++I)a[I]=x*l[m+I]+T*l[p+I]+R*l[h+I]+O*l[v+I];return a}}class SD extends Rv{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=t*u,p=h-u,m=(i-e)/(r-e),v=1-m;for(let _=0;_!==u;++_)a[_]=l[p+_]*v+l[h+_]*m;return a}}class WN extends Rv{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ga{constructor(t,e,i,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=nh(e,this.TimeBufferType),this.values=nh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:nh(t.times,Array),values:nh(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new WN(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new SD(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new YN(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Kg:e=this.InterpolantFactoryMethodDiscrete;break;case Ax:e=this.InterpolantFactoryMethodLinear;break;case R_:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kg;case this.InterpolantFactoryMethodLinear:return Ax;case this.InterpolantFactoryMethodSmooth:return R_}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let a=0,l=r-1;for(;a!==r&&i[a]<t;)++a;for(;l!==-1&&i[l]>e;)--l;if(++l,a!==0||l!==r){a>=l&&(l=Math.max(l,1),a=l-1);const u=this.getValueSize();this.times=i.slice(a,l),this.values=this.values.slice(a*u,l*u)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let u=0;u!==a;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),t=!1;break}if(l!==null&&l>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,l),t=!1;break}l=h}if(r!==void 0&&qN(r))for(let u=0,h=r.length;u!==h;++u){const p=r[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===R_,a=t.length-1;let l=1;for(let u=1;u<a;++u){let h=!1;const p=t[u],m=t[u+1];if(p!==m&&(u!==1||p!==t[0]))if(r)h=!0;else{const v=u*i,_=v-i,b=v+i;for(let S=0;S!==i;++S){const A=e[v+S];if(A!==e[_+S]||A!==e[b+S]){h=!0;break}}}if(h){if(u!==l){t[l]=t[u];const v=u*i,_=l*i;for(let b=0;b!==i;++b)e[_+b]=e[v+b]}++l}}if(a>0){t[l]=t[a];for(let u=a*i,h=l*i,p=0;p!==i;++p)e[h+p]=e[u+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,r=new i(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Ga.prototype.ValueTypeName="";Ga.prototype.TimeBufferType=Float32Array;Ga.prototype.ValueBufferType=Float32Array;Ga.prototype.DefaultInterpolation=Ax;class yh extends Ga{constructor(t,e,i){super(t,e,i)}}yh.prototype.ValueTypeName="bool";yh.prototype.ValueBufferType=Array;yh.prototype.DefaultInterpolation=Kg;yh.prototype.InterpolantFactoryMethodLinear=void 0;yh.prototype.InterpolantFactoryMethodSmooth=void 0;class MD extends Ga{constructor(t,e,i,r){super(t,e,i,r)}}MD.prototype.ValueTypeName="color";class sv extends Ga{constructor(t,e,i,r){super(t,e,i,r)}}sv.prototype.ValueTypeName="number";class ZN extends Rv{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=(i-e)/(r-e);let p=t*u;for(let m=p+u;p!==m;p+=4)Rs.slerpFlat(a,0,l,p-u,l,p,h);return a}}class Cv extends Ga{constructor(t,e,i,r){super(t,e,i,r)}InterpolantFactoryMethodLinear(t){return new ZN(this.times,this.values,this.getValueSize(),t)}}Cv.prototype.ValueTypeName="quaternion";Cv.prototype.InterpolantFactoryMethodSmooth=void 0;class _h extends Ga{constructor(t,e,i){super(t,e,i)}}_h.prototype.ValueTypeName="string";_h.prototype.ValueBufferType=Array;_h.prototype.DefaultInterpolation=Kg;_h.prototype.InterpolantFactoryMethodLinear=void 0;_h.prototype.InterpolantFactoryMethodSmooth=void 0;class av extends Ga{constructor(t,e,i,r){super(t,e,i,r)}}av.prototype.ValueTypeName="vector";class ov{constructor(t="",e=-1,i=[],r=fb){this.name=t,this.tracks=i,this.duration=e,this.blendMode=r,this.uuid=ga(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,r=1/(t.fps||1);for(let l=0,u=i.length;l!==u;++l)e.push(AV(i[l]).scale(r));const a=new this(t.name,t.duration,e,t.blendMode);return a.uuid=t.uuid,a}static toJSON(t){const e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let a=0,l=i.length;a!==l;++a)e.push(Ga.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(t,e,i,r){const a=e.length,l=[];for(let u=0;u<a;u++){let h=[],p=[];h.push((u+a-1)%a,u,(u+1)%a),p.push(0,1,0);const m=XN(h);h=WM(h,1,m),p=WM(p,1,m),!r&&h[0]===0&&(h.push(a),p.push(p[0])),l.push(new sv(".morphTargetInfluences["+e[u].name+"]",h,p).scale(1/i))}return new this(t,-1,l)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const r=t;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let u=0,h=t.length;u<h;u++){const p=t[u],m=p.name.match(a);if(m&&m.length>1){const v=m[1];let _=r[v];_||(r[v]=_=[]),_.push(p)}}const l=[];for(const u in r)l.push(this.CreateFromMorphTargetSequence(u,r[u],e,i));return l}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,_,b,S,A){if(b.length!==0){const M=[],x=[];bD(b,M,x,S),M.length!==0&&A.push(new v(_,M,x))}},r=[],a=t.name||"default",l=t.fps||30,u=t.blendMode;let h=t.length||-1;const p=t.hierarchy||[];for(let v=0;v<p.length;v++){const _=p[v].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const b={};let S;for(S=0;S<_.length;S++)if(_[S].morphTargets)for(let A=0;A<_[S].morphTargets.length;A++)b[_[S].morphTargets[A]]=-1;for(const A in b){const M=[],x=[];for(let T=0;T!==_[S].morphTargets.length;++T){const R=_[S];M.push(R.time),x.push(R.morphTarget===A?1:0)}r.push(new sv(".morphTargetInfluence["+A+"]",M,x))}h=b.length*l}else{const b=".bones["+e[v].name+"]";i(av,b+".position",_,"pos",r),i(Cv,b+".quaternion",_,"rot",r),i(av,b+".scale",_,"scl",r)}}return r.length===0?null:new this(a,h,r,u)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,r=t.length;i!==r;++i){const a=this.tracks[i];e=Math.max(e,a.times[a.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function DV(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sv;case"vector":case"vector2":case"vector3":case"vector4":return av;case"color":return MD;case"quaternion":return Cv;case"bool":case"boolean":return yh;case"string":return _h}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function AV(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=DV(n.type);if(n.times===void 0){const e=[],i=[];bD(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const fc={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Ub{constructor(t,e,i){const r=this;let a=!1,l=0,u=0,h;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){u++,a===!1&&r.onStart!==void 0&&r.onStart(m,l,u),a=!0},this.itemEnd=function(m){l++,r.onProgress!==void 0&&r.onProgress(m,l,u),l===u&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,_=p.length;v<_;v+=2){const b=p[v],S=p[v+1];if(b.global&&(b.lastIndex=0),b.test(m))return S}return null}}}const KN=new Ub;class Ns{constructor(t){this.manager=t!==void 0?t:KN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(r,a){i.load(t,r,e,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}Ns.DEFAULT_MATERIAL_NAME="__DEFAULT";const rc={};class TV extends Error{constructor(t,e){super(t),this.response=e}}class va extends Ns{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=fc.get(t);if(a!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(a),this.manager.itemEnd(t)},0),a;if(rc[t]!==void 0){rc[t].push({onLoad:e,onProgress:i,onError:r});return}rc[t]=[],rc[t].push({onLoad:e,onProgress:i,onError:r});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,h=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=rc[t],v=p.body.getReader(),_=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=_?parseInt(_):0,S=b!==0;let A=0;const M=new ReadableStream({start(x){T();function T(){v.read().then(({done:R,value:O})=>{if(R)x.close();else{A+=O.byteLength;const I=new ProgressEvent("progress",{lengthComputable:S,loaded:A,total:b});for(let P=0,B=m.length;P<B;P++){const N=m[P];N.onProgress&&N.onProgress(I)}x.enqueue(O),T()}},R=>{x.error(R)})}}});return new Response(M)}else throw new TV(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return p.json();default:if(u==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),_=v&&v[1]?v[1].toLowerCase():void 0,b=new TextDecoder(_);return p.arrayBuffer().then(S=>b.decode(S))}}}).then(p=>{fc.add(t,p);const m=rc[t];delete rc[t];for(let v=0,_=m.length;v<_;v++){const b=m[v];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=rc[t];if(m===void 0)throw this.manager.itemError(t),p;delete rc[t];for(let v=0,_=m.length;v<_;v++){const b=m[v];b.onError&&b.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class wV extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=this,l=new va(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(u){try{e(a.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),a.manager.itemError(t)}},i,r)}parse(t){const e=[];for(let i=0;i<t.length;i++){const r=ov.parse(t[i]);e.push(r)}return e}}class RV extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=this,l=[],u=new xb,h=new va(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(a.withCredentials);let p=0;function m(v){h.load(t[v],function(_){const b=a.parse(_,!0);l[v]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(u.minFilter=oi),u.image=l,u.format=b.format,u.needsUpdate=!0,e&&e(u))},i,r)}if(Array.isArray(t))for(let v=0,_=t.length;v<_;++v)m(v);else h.load(t,function(v){const _=a.parse(v,!0);if(_.isCubemap){const b=_.mipmaps.length/_.mipmapCount;for(let S=0;S<b;S++){l[S]={mipmaps:[]};for(let A=0;A<_.mipmapCount;A++)l[S].mipmaps.push(_.mipmaps[S*_.mipmapCount+A]),l[S].format=_.format,l[S].width=_.width,l[S].height=_.height}u.image=l}else u.image.width=_.width,u.image.height=_.height,u.mipmaps=_.mipmaps;_.mipmapCount===1&&(u.minFilter=oi),u.format=_.format,u.needsUpdate=!0,e&&e(u)},i,r);return u}}class lv extends Ns{constructor(t){super(t)}load(t,e,i,r){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,l=fc.get(t);if(l!==void 0)return a.manager.itemStart(t),setTimeout(function(){e&&e(l),a.manager.itemEnd(t)},0),l;const u=ev("img");function h(){m(),fc.add(t,this),e&&e(this),a.manager.itemEnd(t)}function p(v){m(),r&&r(v),a.manager.itemError(t),a.manager.itemEnd(t)}function m(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),a.manager.itemStart(t),u.src=t,u}}class QN extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=new Ev;a.colorSpace=Vr;const l=new lv(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function h(p){l.load(t[p],function(m){a.images[p]=m,u++,u===6&&(a.needsUpdate=!0,e&&e(a))},void 0,r)}for(let p=0;p<t.length;++p)h(p);return a}}class ED extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=this,l=new To,u=new va(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(a.withCredentials),u.load(t,function(h){let p;try{p=a.parse(h)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:or,l.wrapT=p.wrapT!==void 0?p.wrapT:or,l.magFilter=p.magFilter!==void 0?p.magFilter:oi,l.minFilter=p.minFilter!==void 0?p.minFilter:oi,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=_l),p.mipmapCount===1&&(l.minFilter=oi),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,e&&e(l,p)},i,r),l}}class CV extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=new mi,l=new lv(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(u){a.image=u,a.needsUpdate=!0,e!==void 0&&e(a)},i,r),a}}class Gu extends jn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Ce(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class JN extends Gu{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ce(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const T1=new en,Ow=new ct,Nw=new ct;class DD{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ee(512,512),this.mapType=Cs,this.map=null,this.mapPass=null,this.matrix=new en,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Op,this._frameExtents=new ee(1,1),this._viewportCount=1,this._viewports=[new Gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;Ow.setFromMatrixPosition(t.matrixWorld),e.position.copy(Ow),Nw.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Nw),e.updateMatrixWorld(),T1.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(T1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(T1)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class OV extends DD{constructor(){super(new Rr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=pp*2*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=t.distance||e.far;(i!==e.fov||r!==e.aspect||a!==e.far)&&(e.fov=i,e.aspect=r,e.far=a,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class $N extends Gu{constructor(t,e,i=0,r=Math.PI/3,a=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.target=new jn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=l,this.map=null,this.shadow=new OV}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Lw=new en,hg=new ct,w1=new ct;class NV extends DD{constructor(){super(new Rr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ee(4,2),this._viewportCount=6,this._viewports=[new Gn(2,1,1,1),new Gn(0,1,1,1),new Gn(3,1,1,1),new Gn(1,1,1,1),new Gn(3,0,1,1),new Gn(1,0,1,1)],this._cubeDirections=[new ct(1,0,0),new ct(-1,0,0),new ct(0,0,1),new ct(0,0,-1),new ct(0,1,0),new ct(0,-1,0)],this._cubeUps=[new ct(0,1,0),new ct(0,1,0),new ct(0,1,0),new ct(0,1,0),new ct(0,0,1),new ct(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,r=this.matrix,a=t.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),hg.setFromMatrixPosition(t.matrixWorld),i.position.copy(hg),w1.copy(i.position),w1.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(w1),i.updateMatrixWorld(),r.makeTranslation(-hg.x,-hg.y,-hg.z),Lw.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Lw)}}class tL extends Gu{constructor(t,e,i=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new NV}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Pp extends pb{constructor(t=-1,e=1,i=1,r=-1,a=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=a,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,a,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-t,l=i+t,u=r+e,h=r-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,l=a+p*this.view.width,u-=m*this.view.offsetY,h=u-m*this.view.height}this.projectionMatrix.makeOrthographic(a,l,u,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class LV extends DD{constructor(){super(new Pp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class eL extends Gu{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.target=new jn,this.shadow=new LV}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class nL extends Gu{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class iL extends Gu{constructor(t,e,i=10,r=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class rL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new ct)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,r=t.y,a=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*r),e.addScaledVector(l[2],.488603*a),e.addScaledVector(l[3],.488603*i),e.addScaledVector(l[4],1.092548*(i*r)),e.addScaledVector(l[5],1.092548*(r*a)),e.addScaledVector(l[6],.315392*(3*a*a-1)),e.addScaledVector(l[7],1.092548*(i*a)),e.addScaledVector(l[8],.546274*(i*i-r*r)),e}getIrradianceAt(t,e){const i=t.x,r=t.y,a=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],2*.511664*r),e.addScaledVector(l[2],2*.511664*a),e.addScaledVector(l[3],2*.511664*i),e.addScaledVector(l[4],2*.429043*i*r),e.addScaledVector(l[5],2*.429043*r*a),e.addScaledVector(l[6],.743125*a*a-.247708),e.addScaledVector(l[7],2*.429043*i*a),e.addScaledVector(l[8],.429043*(i*i-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,e+r*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,e+r*3);return t}static getBasisAt(t,e){const i=t.x,r=t.y,a=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*a,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*a,e[6]=.315392*(3*a*a-1),e[7]=1.092548*i*a,e[8]=.546274*(i*i-r*r)}}class sL extends Gu{constructor(t=new rL,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class Pb extends Ns{constructor(t){super(t),this.textures={}}load(t,e,i,r){const a=this,l=new va(a.manager);l.setPath(a.path),l.setRequestHeader(a.requestHeader),l.setWithCredentials(a.withCredentials),l.load(t,function(u){try{e(a.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),a.manager.itemError(t)}},i,r)}parse(t){const e=this.textures;function i(a){return e[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),e[a]}const r=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(r.uuid=t.uuid),t.name!==void 0&&(r.name=t.name),t.color!==void 0&&r.color!==void 0&&r.color.setHex(t.color),t.roughness!==void 0&&(r.roughness=t.roughness),t.metalness!==void 0&&(r.metalness=t.metalness),t.sheen!==void 0&&(r.sheen=t.sheen),t.sheenColor!==void 0&&(r.sheenColor=new Ce().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(r.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(t.emissive),t.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(t.specular),t.specularIntensity!==void 0&&(r.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(r.shininess=t.shininess),t.clearcoat!==void 0&&(r.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(r.dispersion=t.dispersion),t.iridescence!==void 0&&(r.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(r.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(r.transmission=t.transmission),t.thickness!==void 0&&(r.thickness=t.thickness),t.attenuationDistance!==void 0&&(r.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(r.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(r.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(r.fog=t.fog),t.flatShading!==void 0&&(r.flatShading=t.flatShading),t.blending!==void 0&&(r.blending=t.blending),t.combine!==void 0&&(r.combine=t.combine),t.side!==void 0&&(r.side=t.side),t.shadowSide!==void 0&&(r.shadowSide=t.shadowSide),t.opacity!==void 0&&(r.opacity=t.opacity),t.transparent!==void 0&&(r.transparent=t.transparent),t.alphaTest!==void 0&&(r.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(r.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(r.depthFunc=t.depthFunc),t.depthTest!==void 0&&(r.depthTest=t.depthTest),t.depthWrite!==void 0&&(r.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(r.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(r.blendSrc=t.blendSrc),t.blendDst!==void 0&&(r.blendDst=t.blendDst),t.blendEquation!==void 0&&(r.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(r.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(r.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(r.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(r.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(r.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(r.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(r.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(r.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(r.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(r.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(r.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(r.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(r.rotation=t.rotation),t.linewidth!==void 0&&(r.linewidth=t.linewidth),t.dashSize!==void 0&&(r.dashSize=t.dashSize),t.gapSize!==void 0&&(r.gapSize=t.gapSize),t.scale!==void 0&&(r.scale=t.scale),t.polygonOffset!==void 0&&(r.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(r.dithering=t.dithering),t.alphaToCoverage!==void 0&&(r.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(r.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(r.visible=t.visible),t.toneMapped!==void 0&&(r.toneMapped=t.toneMapped),t.userData!==void 0&&(r.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const a in t.uniforms){const l=t.uniforms[a];switch(r.uniforms[a]={},l.type){case"t":r.uniforms[a].value=i(l.value);break;case"c":r.uniforms[a].value=new Ce().setHex(l.value);break;case"v2":r.uniforms[a].value=new ee().fromArray(l.value);break;case"v3":r.uniforms[a].value=new ct().fromArray(l.value);break;case"v4":r.uniforms[a].value=new Gn().fromArray(l.value);break;case"m3":r.uniforms[a].value=new _n().fromArray(l.value);break;case"m4":r.uniforms[a].value=new en().fromArray(l.value);break;default:r.uniforms[a].value=l.value}}if(t.defines!==void 0&&(r.defines=t.defines),t.vertexShader!==void 0&&(r.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(r.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(r.glslVersion=t.glslVersion),t.extensions!==void 0)for(const a in t.extensions)r.extensions[a]=t.extensions[a];if(t.lights!==void 0&&(r.lights=t.lights),t.clipping!==void 0&&(r.clipping=t.clipping),t.size!==void 0&&(r.size=t.size),t.sizeAttenuation!==void 0&&(r.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(r.map=i(t.map)),t.matcap!==void 0&&(r.matcap=i(t.matcap)),t.alphaMap!==void 0&&(r.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(r.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(r.bumpScale=t.bumpScale),t.normalMap!==void 0&&(r.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(r.normalMapType=t.normalMapType),t.normalScale!==void 0){let a=t.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new ee().fromArray(a)}return t.displacementMap!==void 0&&(r.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(r.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(r.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(r.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(r.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(r.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(r.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(r.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(r.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(r.envMap=i(t.envMap)),t.envMapRotation!==void 0&&r.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(r.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(r.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(r.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(r.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(r.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(r.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(r.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(r.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(r.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ee().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(r.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(r.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(r.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(r.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(r.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(t.sheenRoughnessMap)),r}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return Pb.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:zN,SpriteMaterial:lD,RawShaderMaterial:BN,ShaderMaterial:Ks,PointsMaterial:uD,MeshPhysicalMaterial:HN,MeshStandardMaterial:vD,MeshPhongMaterial:FN,MeshToonMaterial:VN,MeshNormalMaterial:kN,MeshLambertMaterial:yD,MeshDepthMaterial:_D,MeshDistanceMaterial:xD,MeshBasicMaterial:Sc,MeshMatcapMaterial:GN,LineDashedMaterial:jN,LineBasicMaterial:os,Material:as};return new e[t]}}class ZM{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class aL extends xn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class oL extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=this,l=new va(a.manager);l.setPath(a.path),l.setRequestHeader(a.requestHeader),l.setWithCredentials(a.withCredentials),l.load(t,function(u){try{e(a.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),a.manager.itemError(t)}},i,r)}parse(t){const e={},i={};function r(b,S){if(e[S]!==void 0)return e[S];const M=b.interleavedBuffers[S],x=a(b,M.buffer),T=Jd(M.type,x),R=new vb(T,M.stride);return R.uuid=M.uuid,e[S]=R,R}function a(b,S){if(i[S]!==void 0)return i[S];const M=b.arrayBuffers[S],x=new Uint32Array(M).buffer;return i[S]=x,x}const l=t.isInstancedBufferGeometry?new aL:new xn,u=t.data.index;if(u!==void 0){const b=Jd(u.type,u.array);l.setIndex(new li(b,1))}const h=t.data.attributes;for(const b in h){const S=h[b];let A;if(S.isInterleavedBufferAttribute){const M=r(t.data,S.data);A=new uh(M,S.itemSize,S.offset,S.normalized)}else{const M=Jd(S.type,S.array),x=S.isInstancedBufferAttribute?vp:li;A=new x(M,S.itemSize,S.normalized)}S.name!==void 0&&(A.name=S.name),S.usage!==void 0&&A.setUsage(S.usage),l.setAttribute(b,A)}const p=t.data.morphAttributes;if(p)for(const b in p){const S=p[b],A=[];for(let M=0,x=S.length;M<x;M++){const T=S[M];let R;if(T.isInterleavedBufferAttribute){const O=r(t.data,T.data);R=new uh(O,T.itemSize,T.offset,T.normalized)}else{const O=Jd(T.type,T.array);R=new li(O,T.itemSize,T.normalized)}T.name!==void 0&&(R.name=T.name),A.push(R)}l.morphAttributes[b]=A}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let b=0,S=v.length;b!==S;++b){const A=v[b];l.addGroup(A.start,A.count,A.materialIndex)}const _=t.data.boundingSphere;if(_!==void 0){const b=new ct;_.center!==void 0&&b.fromArray(_.center),l.boundingSphere=new jr(b,_.radius)}return t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}}class UV extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=this,l=this.path===""?ZM.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||l;const u=new va(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(h){let p=null;try{p=JSON.parse(h)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+t+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}a.parse(p,e)},i,r)}async loadAsync(t,e){const i=this,r=this.path===""?ZM.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||r;const a=new va(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const l=await a.loadAsync(t,e),u=JSON.parse(l),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(u)}parse(t,e){const i=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,r),l=this.parseImages(t.images,function(){e!==void 0&&e(p)}),u=this.parseTextures(t.textures,l),h=this.parseMaterials(t.materials,u),p=this.parseObject(t.object,a,h,u,i),m=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),e!==void 0){let v=!1;for(const _ in l)if(l[_].data instanceof HTMLImageElement){v=!0;break}v===!1&&e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),a=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,a),u=this.parseMaterials(t.materials,l),h=this.parseObject(t.object,r,u,l,e),p=this.parseSkeletons(t.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(t){const e={};if(t!==void 0)for(let i=0,r=t.length;i<r;i++){const a=new ah().fromJSON(t[i]);e[a.uuid]=a}return e}parseSkeletons(t,e){const i={},r={};if(e.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),t!==void 0)for(let a=0,l=t.length;a<l;a++){const u=new yb().fromJSON(t[a],r);i[u.uuid]=u}return i}parseGeometries(t,e){const i={};if(t!==void 0){const r=new oL;for(let a=0,l=t.length;a<l;a++){let u;const h=t[a];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(h);break;default:h.type in Cw?u=Cw[h.type].fromJSON(h,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),i[h.uuid]=u}}return i}parseMaterials(t,e){const i={},r={};if(t!==void 0){const a=new Pb;a.setTextures(e);for(let l=0,u=t.length;l<u;l++){const h=t[l];i[h.uuid]===void 0&&(i[h.uuid]=a.parse(h)),r[h.uuid]=i[h.uuid]}}return r}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const r=t[i],a=ov.parse(r);e[a.uuid]=a}return e}parseImages(t,e){const i=this,r={};let a;function l(h){return i.manager.itemStart(h),a.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(m)}else return h.data?{data:Jd(h.type,h.data),width:h.width,height:h.height}:null}if(t!==void 0&&t.length>0){const h=new Ub(e);a=new lv(h),a.setCrossOrigin(this.crossOrigin);for(let p=0,m=t.length;p<m;p++){const v=t[p],_=v.url;if(Array.isArray(_)){const b=[];for(let S=0,A=_.length;S<A;S++){const M=_[S],x=u(M);x!==null&&(x instanceof HTMLImageElement?b.push(x):b.push(new To(x.data,x.width,x.height)))}r[v.uuid]=new Ru(b)}else{const b=u(v.url);r[v.uuid]=new Ru(b)}}}return r}async parseImagesAsync(t){const e=this,i={};let r;async function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:e.resourcePath+u;return await r.loadAsync(h)}else return l.data?{data:Jd(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){r=new lv(this.manager),r.setCrossOrigin(this.crossOrigin);for(let l=0,u=t.length;l<u;l++){const h=t[l],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const b=p[v],S=await a(b);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new To(S.data,S.width,S.height)))}i[h.uuid]=new Ru(m)}else{const m=await a(h.url);i[h.uuid]=new Ru(m)}}}return i}parseTextures(t,e){function i(a,l){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),l[a])}const r={};if(t!==void 0)for(let a=0,l=t.length;a<l;a++){const u=t[a];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),e[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const h=e[u.image],p=h.data;let m;Array.isArray(p)?(m=new Ev,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new To:m=new mi,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,PV)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],Uw),m.wrapT=i(u.wrap[1],Uw)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,Pw)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,Pw)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),r[u.uuid]=m}return r}parseObject(t,e,i,r,a){let l;function u(_){return e[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),e[_]}function h(_){if(_!==void 0){if(Array.isArray(_)){const b=[];for(let S=0,A=_.length;S<A;S++){const M=_[S];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),b.push(i[M])}return b}return i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),i[_]}}function p(_){return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),r[_]}let m,v;switch(t.type){case"Scene":l=new Dv,t.background!==void 0&&(Number.isInteger(t.background)?l.background=new Ce(t.background):l.background=p(t.background)),t.environment!==void 0&&(l.environment=p(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?l.fog=new gb(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(l.fog=new mb(t.fog.color,t.fog.density)),t.fog.name!==""&&(l.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(l.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(l.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&l.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":l=new Rr(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(l.focus=t.focus),t.zoom!==void 0&&(l.zoom=t.zoom),t.filmGauge!==void 0&&(l.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(l.filmOffset=t.filmOffset),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"OrthographicCamera":l=new Pp(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(l.zoom=t.zoom),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"AmbientLight":l=new nL(t.color,t.intensity);break;case"DirectionalLight":l=new eL(t.color,t.intensity),l.target=t.target||"";break;case"PointLight":l=new tL(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":l=new iL(t.color,t.intensity,t.width,t.height);break;case"SpotLight":l=new $N(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),l.target=t.target||"";break;case"HemisphereLight":l=new JN(t.color,t.groundColor,t.intensity);break;case"LightProbe":l=new sL().fromJSON(t);break;case"SkinnedMesh":m=u(t.geometry),v=h(t.material),l=new bN(m,v),t.bindMode!==void 0&&(l.bindMode=t.bindMode),t.bindMatrix!==void 0&&l.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(l.skeleton=t.skeleton);break;case"Mesh":m=u(t.geometry),v=h(t.material),l=new Ni(m,v);break;case"InstancedMesh":m=u(t.geometry),v=h(t.material);const _=t.count,b=t.instanceMatrix,S=t.instanceColor;l=new SN(m,v,_),l.instanceMatrix=new vp(new Float32Array(b.array),16),S!==void 0&&(l.instanceColor=new vp(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=u(t.geometry),v=h(t.material),l=new MN(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),l.geometry=m,l.perObjectFrustumCulled=t.perObjectFrustumCulled,l.sortObjects=t.sortObjects,l._drawRanges=t.drawRanges,l._reservedRanges=t.reservedRanges,l._geometryInfo=t.geometryInfo.map(A=>{let M=null,x=null;return A.boundingBox!==void 0&&(M=new Gr,M.min.fromArray(A.boundingBox.min),M.max.fromArray(A.boundingBox.max)),A.boundingSphere!==void 0&&(x=new jr,x.radius=A.boundingSphere.radius,x.center.fromArray(A.boundingSphere.center)),{...A,boundingBox:M,boundingSphere:x}}),l._instanceInfo=t.instanceInfo,l._availableInstanceIds=t._availableInstanceIds,l._availableGeometryIds=t._availableGeometryIds,l._nextIndexStart=t.nextIndexStart,l._nextVertexStart=t.nextVertexStart,l._geometryCount=t.geometryCount,l._maxInstanceCount=t.maxInstanceCount,l._maxVertexCount=t.maxVertexCount,l._maxIndexCount=t.maxIndexCount,l._geometryInitialized=t.geometryInitialized,l._matricesTexture=p(t.matricesTexture.uuid),l._indirectTexture=p(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(l._colorsTexture=p(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(l.boundingSphere=new jr,l.boundingSphere.center.fromArray(t.boundingSphere.center),l.boundingSphere.radius=t.boundingSphere.radius),t.boundingBox!==void 0&&(l.boundingBox=new Gr,l.boundingBox.min.fromArray(t.boundingBox.min),l.boundingBox.max.fromArray(t.boundingBox.max));break;case"LOD":l=new xN;break;case"Line":l=new xc(u(t.geometry),h(t.material));break;case"LineLoop":l=new EN(u(t.geometry),h(t.material));break;case"LineSegments":l=new wl(u(t.geometry),h(t.material));break;case"PointCloud":case"Points":l=new DN(u(t.geometry),h(t.material));break;case"Sprite":l=new _N(h(t.material));break;case"Group":l=new Cu;break;case"Bone":l=new cD;break;default:l=new jn}if(l.uuid=t.uuid,t.name!==void 0&&(l.name=t.name),t.matrix!==void 0?(l.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=t.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(t.position!==void 0&&l.position.fromArray(t.position),t.rotation!==void 0&&l.rotation.fromArray(t.rotation),t.quaternion!==void 0&&l.quaternion.fromArray(t.quaternion),t.scale!==void 0&&l.scale.fromArray(t.scale)),t.up!==void 0&&l.up.fromArray(t.up),t.castShadow!==void 0&&(l.castShadow=t.castShadow),t.receiveShadow!==void 0&&(l.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(l.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(l.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(l.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(l.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(l.visible=t.visible),t.frustumCulled!==void 0&&(l.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(l.renderOrder=t.renderOrder),t.userData!==void 0&&(l.userData=t.userData),t.layers!==void 0&&(l.layers.mask=t.layers),t.children!==void 0){const _=t.children;for(let b=0;b<_.length;b++)l.add(this.parseObject(_[b],e,i,r,a))}if(t.animations!==void 0){const _=t.animations;for(let b=0;b<_.length;b++){const S=_[b];l.animations.push(a[S])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(l.autoUpdate=t.autoUpdate);const _=t.levels;for(let b=0;b<_.length;b++){const S=_[b],A=l.getObjectByProperty("uuid",S.object);A!==void 0&&l.addLevel(A,S.distance,S.hysteresis)}}return l}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=e[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,r=t.getObjectByProperty("uuid",i);r!==void 0?e.target=r:e.target=new jn}})}}const PV={UVMapping:zu,CubeReflectionMapping:El,CubeRefractionMapping:Bu,EquirectangularReflectionMapping:cp,EquirectangularRefractionMapping:Yg,CubeUVReflectionMapping:Rp},Uw={RepeatWrapping:Wg,ClampToEdgeWrapping:or,MirroredRepeatWrapping:Zg},Pw={NearestFilter:kr,NearestMipmapNearestFilter:KE,NearestMipmapLinearFilter:Qd,LinearFilter:oi,LinearMipmapNearestFilter:Rg,LinearMipmapLinearFilter:_l};class IV extends Ns{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,r){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=this,l=fc.get(t);if(l!==void 0){if(a.manager.itemStart(t),l.then){l.then(p=>{e&&e(p),a.manager.itemEnd(t)}).catch(p=>{r&&r(p)});return}return setTimeout(function(){e&&e(l),a.manager.itemEnd(t)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader;const h=fetch(t,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){return fc.add(t,p),e&&e(p),a.manager.itemEnd(t),p}).catch(function(p){r&&r(p),fc.remove(t),a.manager.itemError(t),a.manager.itemEnd(t)});fc.add(t,h),a.manager.itemStart(t)}}let Q0;class AD{static getContext(){return Q0===void 0&&(Q0=new(window.AudioContext||window.webkitAudioContext)),Q0}static setContext(t){Q0=t}}class zV extends Ns{constructor(t){super(t)}load(t,e,i,r){const a=this,l=new va(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(h){try{const p=h.slice(0);AD.getContext().decodeAudioData(p,function(v){e(v)}).catch(u)}catch(p){u(p)}},i,r);function u(h){r?r(h):console.error(h),a.manager.itemError(t)}}}const Iw=new en,zw=new en,Gf=new en;class BV{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Rr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Rr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Gf.copy(t.projectionMatrix);const r=e.eyeSep/2,a=r*e.near/e.focus,l=e.near*Math.tan(sh*e.fov*.5)/e.zoom;let u,h;zw.elements[12]=-r,Iw.elements[12]=r,u=-l*e.aspect+a,h=l*e.aspect+a,Gf.elements[0]=2*e.near/(h-u),Gf.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(Gf),u=-l*e.aspect-a,h=l*e.aspect-a,Gf.elements[0]=2*e.near/(h-u),Gf.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(Gf)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(zw),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Iw)}}class lL extends Rr{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class TD{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Bw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Bw();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Bw(){return performance.now()}const jf=new ct,Hw=new Rs,HV=new ct,qf=new ct;class FV extends jn{constructor(){super(),this.type="AudioListener",this.context=AD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new TD}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(jf,Hw,HV),qf.set(0,0,-1).applyQuaternion(Hw),e.positionX){const r=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(jf.x,r),e.positionY.linearRampToValueAtTime(jf.y,r),e.positionZ.linearRampToValueAtTime(jf.z,r),e.forwardX.linearRampToValueAtTime(qf.x,r),e.forwardY.linearRampToValueAtTime(qf.y,r),e.forwardZ.linearRampToValueAtTime(qf.z,r),e.upX.linearRampToValueAtTime(i.x,r),e.upY.linearRampToValueAtTime(i.y,r),e.upZ.linearRampToValueAtTime(i.z,r)}else e.setPosition(jf.x,jf.y,jf.z),e.setOrientation(qf.x,qf.y,qf.z,i.x,i.y,i.z)}}class cL extends jn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const Xf=new ct,Fw=new Rs,VV=new ct,Yf=new ct;class kV extends cL{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xf,Fw,VV),Yf.set(0,0,1).applyQuaternion(Fw);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Xf.x,i),e.positionY.linearRampToValueAtTime(Xf.y,i),e.positionZ.linearRampToValueAtTime(Xf.z,i),e.orientationX.linearRampToValueAtTime(Yf.x,i),e.orientationY.linearRampToValueAtTime(Yf.y,i),e.orientationZ.linearRampToValueAtTime(Yf.z,i)}else e.setPosition(Xf.x,Xf.y,Xf.z),e.setOrientation(Yf.x,Yf.y,Yf.z)}}class GV{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class uL{constructor(t,e,i){this.binding=t,this.valueSize=i;let r,a,l;switch(e){case"quaternion":r=this._slerp,a=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,r=this.valueSize,a=t*r+r;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==r;++u)i[a+u]=i[u];l=e}else{l+=e;const u=e/l;this._mixBufferRegion(i,a,0,u,r)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,r=t*e+e,a=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const h=e*this._origIndex;this._mixBufferRegion(i,r,h,1-a,e)}l>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*e,1,e);for(let h=e,p=e+e;h!==p;++h)if(i[h]!==i[h+e]){u.setValue(i,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(e,r);for(let a=i,l=r;a!==l;++a)e[a]=e[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,r,a){if(r>=.5)for(let l=0;l!==a;++l)t[e+l]=t[i+l]}_slerp(t,e,i,r){Rs.slerpFlat(t,e,t,e,t,i,r)}_slerpAdditive(t,e,i,r,a){const l=this._workIndex*a;Rs.multiplyQuaternionsFlat(t,l,t,e,t,i),Rs.slerpFlat(t,e,t,e,t,l,r)}_lerp(t,e,i,r,a){const l=1-r;for(let u=0;u!==a;++u){const h=e+u;t[h]=t[h]*l+t[i+u]*r}}_lerpAdditive(t,e,i,r,a){for(let l=0;l!==a;++l){const u=e+l;t[u]=t[u]+t[i+l]*r}}}const wD="\\[\\]\\.:\\/",jV=new RegExp("["+wD+"]","g"),RD="[^"+wD+"]",qV="[^"+wD.replace("\\.","")+"]",XV=/((?:WC+[\/:])*)/.source.replace("WC",RD),YV=/(WCOD+)?/.source.replace("WCOD",qV),WV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",RD),ZV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",RD),KV=new RegExp("^"+XV+YV+WV+ZV+"$"),QV=["material","materials","bones","map"];class JV{constructor(t,e,i){const r=i||kn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class kn{constructor(t,e,i){this.path=e,this.parsedPath=i||kn.parseTrackName(e),this.node=kn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new kn.Composite(t,e,i):new kn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(jV,"")}static parseTrackName(t){const e=KV.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);QV.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(a){for(let l=0;l<a.length;l++){const u=a[l];if(u.name===e||u.uuid===e)return u;const h=i(u.children);if(h)return h}return null},r=i(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)t[e++]=i[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,r=e.propertyName;let a=e.propertyIndex;if(t||(t=kn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===p){p=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const l=t[r];if(l===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+r+" but it wasn't found.",t);return}let u=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?u=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[a]!==void 0&&(a=t.morphTargetDictionary[a])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else l.fromArray!==void 0&&l.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}kn.Composite=JV;kn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};kn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};kn.prototype.GetterByBindingType=[kn.prototype._getValue_direct,kn.prototype._getValue_array,kn.prototype._getValue_arrayElement,kn.prototype._getValue_toArray];kn.prototype.SetterByBindingTypeAndVersioning=[[kn.prototype._setValue_direct,kn.prototype._setValue_direct_setNeedsUpdate,kn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_array,kn.prototype._setValue_array_setNeedsUpdate,kn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_arrayElement,kn.prototype._setValue_arrayElement_setNeedsUpdate,kn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_fromArray,kn.prototype._setValue_fromArray_setNeedsUpdate,kn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $V{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ga(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,r=arguments.length;i!==r;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,l=a.length;let u,h=t.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const _=arguments[m],b=_.uuid;let S=e[b];if(S===void 0){S=h++,e[b]=S,t.push(_);for(let A=0,M=l;A!==M;++A)a[A].push(new kn(_,i[A],r[A]))}else if(S<p){u=t[S];const A=--p,M=t[A];e[M.uuid]=S,t[S]=M,e[b]=A,t[A]=_;for(let x=0,T=l;x!==T;++x){const R=a[x],O=R[A];let I=R[S];R[S]=O,I===void 0&&(I=new kn(_,i[x],r[x])),R[A]=I}}else t[S]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],p=h.uuid,m=e[p];if(m!==void 0&&m>=a){const v=a++,_=t[v];e[_.uuid]=m,t[m]=_,e[p]=v,t[v]=h;for(let b=0,S=r;b!==S;++b){const A=i[b],M=A[v],x=A[m];A[m]=M,A[v]=x}}}this.nCachedObjects_=a}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,l=t.length;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid,v=e[m];if(v!==void 0)if(delete e[m],v<a){const _=--a,b=t[_],S=--l,A=t[S];e[b.uuid]=v,t[v]=b,e[A.uuid]=_,t[_]=A,t.pop();for(let M=0,x=r;M!==x;++M){const T=i[M],R=T[_],O=T[S];T[v]=R,T[_]=O,T.pop()}}else{const _=--l,b=t[_];_>0&&(e[b.uuid]=v),t[v]=b,t.pop();for(let S=0,A=r;S!==A;++S){const M=i[S];M[v]=M[_],M.pop()}}}this.nCachedObjects_=a}subscribe_(t,e){const i=this._bindingsIndicesByPath;let r=i[t];const a=this._bindings;if(r!==void 0)return a[r];const l=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,v=new Array(p);r=a.length,i[t]=r,l.push(t),u.push(e),a.push(v);for(let _=m,b=h.length;_!==b;++_){const S=h[_];v[_]=new kn(S,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const r=this._paths,a=this._parsedPaths,l=this._bindings,u=l.length-1,h=l[u],p=t[u];e[p]=i,l[i]=h,l.pop(),a[i]=a[u],a.pop(),r[i]=r[u],r.pop()}}}class fL{constructor(t,e,i=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=r;const a=e.tracks,l=a.length,u=new Array(l),h={endingStart:$f,endingEnd:$f};for(let p=0;p!==l;++p){const m=a[p].createInterpolant(null);u[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$O,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),i===!0){const r=this._clip.duration,a=t._clip.duration,l=a/r,u=r/a;t.warp(1,l,e),this.warp(u,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const r=this._mixer,a=r.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,p=u.sampleValues;return h[0]=a,h[1]=a+i,p[0]=t/l,p[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,r){if(!this.enabled){this._updateWeight(t);return}const a=this._startTime;if(a!==null){const h=(t-a)*i;h<0||i===0?e=0:(this._startTime=null,e=i*h)}e*=this._updateTimeScale(t);const l=this._updateTime(e),u=this._updateWeight(t);if(u>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case nD:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(l),p[m].accumulateAdditive(u);break;case fb:default:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(l),p[m].accumulate(r,u)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let r=this.time+t,a=this._loopCount;const l=i===tN;if(t===0)return a===-1?r:l&&(a&1)===1?e-r:r;if(i===JO){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else if(r<0)r=0;else{this.time=r;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(a===-1&&(t>=0?(a=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),r>=e||r<0){const u=Math.floor(r/e);r-=e*u,a+=Math.abs(u);const h=this.repetitions-a;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(h===1){const p=t<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(l&&(a&1)===1)return e-r}return r}_setEndings(t,e,i){const r=this._interpolantSettings;i?(r.endingStart=th,r.endingEnd=th):(t?r.endingStart=this.zeroSlopeAtStart?th:$f:r.endingStart=Qg,e?r.endingEnd=this.zeroSlopeAtEnd?th:$f:r.endingEnd=Qg)}_scheduleFading(t,e,i){const r=this._mixer,a=r.time;let l=this._weightInterpolant;l===null&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=a,h[0]=e,u[1]=a+t,h[1]=i,this}}const tk=new Float32Array(1);class ek extends Tl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,r=t._clip.tracks,a=r.length,l=t._propertyBindings,u=t._interpolants,h=i.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let v=0;v!==a;++v){const _=r[v],b=_.name;let S=m[b];if(S!==void 0)++S.referenceCount,l[v]=S;else{if(S=l[v],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,h,b));continue}const A=e&&e._propertyBindings[v].binding.parsedPath;S=new uL(kn.create(i,b,A),_.ValueTypeName,_.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,h,b),l[v]=S}u[v].resultBuffer=S.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,r=t._clip.uuid,a=this._actionsByClip[r];this._bindAction(t,a&&a.knownActions[0]),this._addInactiveAction(t,r,i)}const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const r=this._actions,a=this._actionsByClip;let l=a[e];if(l===void 0)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,a[e]=l;else{const u=l.knownActions;t._byClipCacheIndex=u.length,u.push(t)}t._cacheIndex=r.length,r.push(t),l.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;const a=t._clip.uuid,l=this._actionsByClip,u=l[a],h=u.knownActions,p=h[h.length-1],m=t._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),t._byClipCacheIndex=null;const v=u.actionByRoot,_=(t._localRoot||this._root).uuid;delete v[_],h.length===0&&delete l[a],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,r=e.length;i!==r;++i){const a=e[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_addInactiveBinding(t,e,i){const r=this._bindingsByRootAndName,a=this._bindings;let l=r[e];l===void 0&&(l={},r[e]=l),l[i]=t,t._cacheIndex=a.length,a.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,r=i.rootNode.uuid,a=i.path,l=this._bindingsByRootAndName,u=l[r],h=e[e.length-1],p=t._cacheIndex;h._cacheIndex=p,e[p]=h,e.pop(),delete u[a],Object.keys(u).length===0&&delete l[r]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,a=e[r];t._cacheIndex=r,e[r]=t,a._cacheIndex=i,e[i]=a}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new SD(new Float32Array(2),new Float32Array(2),1,tk),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,a=e[r];t.__cacheIndex=r,e[r]=t,a.__cacheIndex=i,e[i]=a}clipAction(t,e,i){const r=e||this._root,a=r.uuid;let l=typeof t=="string"?ov.findByName(r,t):t;const u=l!==null?l.uuid:t,h=this._actionsByClip[u];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=fb),h!==void 0){const v=h.actionByRoot[a];if(v!==void 0&&v.blendMode===i)return v;p=h.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new fL(this,l,e,i);return this._bindAction(m,p),this._addInactiveAction(m,u,a),m}existingAction(t,e){const i=e||this._root,r=i.uuid,a=typeof t=="string"?ov.findByName(i,t):t,l=a?a.uuid:t,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,r=this.time+=t,a=Math.sign(t),l=this._accuIndex^=1;for(let p=0;p!==i;++p)e[p]._update(r,t,a,l);const u=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)u[p].apply(l);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const l=a.knownActions;for(let u=0,h=l.length;u!==h;++u){const p=l[u];this._deactivateAction(p);const m=p._cacheIndex,v=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,e[m]=v,e.pop(),this._removeInactiveBindingsForAction(p)}delete r[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,h=u[e];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const r=this._bindingsByRootAndName,a=r[e];if(a!==void 0)for(const l in a){const u=a[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class nk extends hb{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new db(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class ik extends hb{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new Mv(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class CD{constructor(t){this.value=t}clone(){return new CD(this.value.clone===void 0?this.value:this.value.clone())}}let rk=0;class sk extends Tl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rk++}),this.name="",this.usage=$g,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,r=e.length;i<r;i++){const a=Array.isArray(e[i])?e[i]:[e[i]];for(let l=0;l<a.length;l++)this.uniforms.push(a[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class ak extends vb{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class ok{constructor(t,e,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const Vw=new en;class OD{constructor(t,e,i=0,r=1/0){this.ray=new Cp(t,e),this.near=i,this.far=r,this.camera=null,this.layers=new mp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return Vw.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Vw),this}intersectObject(t,e=!0,i=[]){return KM(t,this,i,e),i.sort(kw),i}intersectObjects(t,e=!0,i=[]){for(let r=0,a=t.length;r<a;r++)KM(t[r],this,i,e);return i.sort(kw),i}}function kw(n,t){return n.distance-t.distance}function KM(n,t,e,i){let r=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let l=0,u=a.length;l<u;l++)KM(a[l],t,e,!0)}}class lk{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=gn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(gn(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ck{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class ND{constructor(t,e,i,r){ND.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,r){const a=this.elements;return a[0]=t,a[2]=e,a[1]=i,a[3]=r,this}}const Gw=new ee;class uk{constructor(t=new ee(1/0,1/0),e=new ee(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Gw.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Gw).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const jw=new ct,J0=new ct;class fk{constructor(t=new ct,e=new ct){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){jw.subVectors(t,this.start),J0.subVectors(this.end,this.start);const i=J0.dot(J0);let a=J0.dot(jw)/i;return e&&(a=gn(a,0,1)),a}closestPointToPoint(t,e,i){const r=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const qw=new ct;class hk extends jn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new xn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const p=l/h*Math.PI*2,m=u/h*Math.PI*2;r.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new ze(r,3));const a=new os({fog:!1,toneMapped:!1});this.cone=new wl(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),qw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Mu=new ct,$0=new en,R1=new en;class dk extends wl{constructor(t){const e=hL(t),i=new xn,r=[],a=[],l=new Ce(0,0,1),u=new Ce(0,1,0);for(let p=0;p<e.length;p++){const m=e[p];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(l.r,l.g,l.b),a.push(u.r,u.g,u.b))}i.setAttribute("position",new ze(r,3)),i.setAttribute("color",new ze(a,3));const h=new os({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,r=i.getAttribute("position");R1.copy(this.root.matrixWorld).invert();for(let a=0,l=0;a<e.length;a++){const u=e[a];u.parent&&u.parent.isBone&&($0.multiplyMatrices(R1,u.matrixWorld),Mu.setFromMatrixPosition($0),r.setXYZ(l,Mu.x,Mu.y,Mu.z),$0.multiplyMatrices(R1,u.parent.matrixWorld),Mu.setFromMatrixPosition($0),r.setXYZ(l+1,Mu.x,Mu.y,Mu.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function hL(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push(...hL(n.children[e]));return t}class pk extends Ni{constructor(t,e,i){const r=new Up(e,4,2),a=new Sc({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mk=new ct,Xw=new Ce,Yw=new Ce;class gk extends jn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Tv(e);r.rotateY(Math.PI*.5),this.material=new Sc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),l=new Float32Array(a.count*3);r.setAttribute("color",new li(l,3)),this.add(new Ni(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");Xw.copy(this.light.color),Yw.copy(this.light.groundColor);for(let i=0,r=e.count;i<r;i++){const a=i<r/2?Xw:Yw;e.setXYZ(i,a.r,a.g,a.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(mk.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vk extends wl{constructor(t=10,e=10,i=4473924,r=8947848){i=new Ce(i),r=new Ce(r);const a=e/2,l=t/e,u=t/2,h=[],p=[];for(let _=0,b=0,S=-u;_<=e;_++,S+=l){h.push(-u,0,S,u,0,S),h.push(S,0,-u,S,0,u);const A=_===a?i:r;A.toArray(p,b),b+=3,A.toArray(p,b),b+=3,A.toArray(p,b),b+=3,A.toArray(p,b),b+=3}const m=new xn;m.setAttribute("position",new ze(h,3)),m.setAttribute("color",new ze(p,3));const v=new os({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yk extends wl{constructor(t=10,e=16,i=8,r=64,a=4473924,l=8947848){a=new Ce(a),l=new Ce(l);const u=[],h=[];if(e>1)for(let v=0;v<e;v++){const _=v/e*(Math.PI*2),b=Math.sin(_)*t,S=Math.cos(_)*t;u.push(0,0,0),u.push(b,0,S);const A=v&1?a:l;h.push(A.r,A.g,A.b),h.push(A.r,A.g,A.b)}for(let v=0;v<i;v++){const _=v&1?a:l,b=t-t/i*v;for(let S=0;S<r;S++){let A=S/r*(Math.PI*2),M=Math.sin(A)*b,x=Math.cos(A)*b;u.push(M,0,x),h.push(_.r,_.g,_.b),A=(S+1)/r*(Math.PI*2),M=Math.sin(A)*b,x=Math.cos(A)*b,u.push(M,0,x),h.push(_.r,_.g,_.b)}}const p=new xn;p.setAttribute("position",new ze(u,3)),p.setAttribute("color",new ze(h,3));const m=new os({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Ww=new ct,t_=new ct,Zw=new ct;class _k extends jn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let r=new xn;r.setAttribute("position",new ze([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const a=new os({fog:!1,toneMapped:!1});this.lightPlane=new xc(r,a),this.add(this.lightPlane),r=new xn,r.setAttribute("position",new ze([0,0,0,0,0,1],3)),this.targetLine=new xc(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Ww.setFromMatrixPosition(this.light.matrixWorld),t_.setFromMatrixPosition(this.light.target.matrixWorld),Zw.subVectors(t_,Ww),this.lightPlane.lookAt(t_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t_),this.targetLine.scale.z=Zw.length()}}const e_=new ct,Xi=new pb;class xk extends wl{constructor(t){const e=new xn,i=new os({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(S,A){h(S),h(A)}function h(S){r.push(0,0,0),a.push(0,0,0),l[S]===void 0&&(l[S]=[]),l[S].push(r.length/3-1)}e.setAttribute("position",new ze(r,3)),e.setAttribute("color",new ze(a,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new Ce(16755200),m=new Ce(16711680),v=new Ce(43775),_=new Ce(16777215),b=new Ce(3355443);this.setColors(p,m,v,_,b)}setColors(t,e,i,r,a){const u=this.geometry.getAttribute("color");u.setXYZ(0,t.r,t.g,t.b),u.setXYZ(1,t.r,t.g,t.b),u.setXYZ(2,t.r,t.g,t.b),u.setXYZ(3,t.r,t.g,t.b),u.setXYZ(4,t.r,t.g,t.b),u.setXYZ(5,t.r,t.g,t.b),u.setXYZ(6,t.r,t.g,t.b),u.setXYZ(7,t.r,t.g,t.b),u.setXYZ(8,t.r,t.g,t.b),u.setXYZ(9,t.r,t.g,t.b),u.setXYZ(10,t.r,t.g,t.b),u.setXYZ(11,t.r,t.g,t.b),u.setXYZ(12,t.r,t.g,t.b),u.setXYZ(13,t.r,t.g,t.b),u.setXYZ(14,t.r,t.g,t.b),u.setXYZ(15,t.r,t.g,t.b),u.setXYZ(16,t.r,t.g,t.b),u.setXYZ(17,t.r,t.g,t.b),u.setXYZ(18,t.r,t.g,t.b),u.setXYZ(19,t.r,t.g,t.b),u.setXYZ(20,t.r,t.g,t.b),u.setXYZ(21,t.r,t.g,t.b),u.setXYZ(22,t.r,t.g,t.b),u.setXYZ(23,t.r,t.g,t.b),u.setXYZ(24,e.r,e.g,e.b),u.setXYZ(25,e.r,e.g,e.b),u.setXYZ(26,e.r,e.g,e.b),u.setXYZ(27,e.r,e.g,e.b),u.setXYZ(28,e.r,e.g,e.b),u.setXYZ(29,e.r,e.g,e.b),u.setXYZ(30,e.r,e.g,e.b),u.setXYZ(31,e.r,e.g,e.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,r.r,r.g,r.b),u.setXYZ(39,r.r,r.g,r.b),u.setXYZ(40,a.r,a.g,a.b),u.setXYZ(41,a.r,a.g,a.b),u.setXYZ(42,a.r,a.g,a.b),u.setXYZ(43,a.r,a.g,a.b),u.setXYZ(44,a.r,a.g,a.b),u.setXYZ(45,a.r,a.g,a.b),u.setXYZ(46,a.r,a.g,a.b),u.setXYZ(47,a.r,a.g,a.b),u.setXYZ(48,a.r,a.g,a.b),u.setXYZ(49,a.r,a.g,a.b),u.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,r=1;Xi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Fa?-1:0;Qi("c",e,t,Xi,0,0,a),Qi("t",e,t,Xi,0,0,1),Qi("n1",e,t,Xi,-1,-1,a),Qi("n2",e,t,Xi,i,-1,a),Qi("n3",e,t,Xi,-1,r,a),Qi("n4",e,t,Xi,i,r,a),Qi("f1",e,t,Xi,-1,-1,1),Qi("f2",e,t,Xi,i,-1,1),Qi("f3",e,t,Xi,-1,r,1),Qi("f4",e,t,Xi,i,r,1),Qi("u1",e,t,Xi,i*.7,r*1.1,a),Qi("u2",e,t,Xi,-1*.7,r*1.1,a),Qi("u3",e,t,Xi,0,r*2,a),Qi("cf1",e,t,Xi,-1,0,1),Qi("cf2",e,t,Xi,i,0,1),Qi("cf3",e,t,Xi,0,-1,1),Qi("cf4",e,t,Xi,0,r,1),Qi("cn1",e,t,Xi,-1,0,a),Qi("cn2",e,t,Xi,i,0,a),Qi("cn3",e,t,Xi,0,-1,a),Qi("cn4",e,t,Xi,0,r,a),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Qi(n,t,e,i,r,a,l){e_.set(r,a,l).unproject(i);const u=t[n];if(u!==void 0){const h=e.getAttribute("position");for(let p=0,m=u.length;p<m;p++)h.setXYZ(u[p],e_.x,e_.y,e_.z)}}const n_=new Gr;class bk extends wl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new xn;a.setIndex(new li(i,1)),a.setAttribute("position",new li(r,3)),super(a,new os({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&n_.setFromObject(this.object),n_.isEmpty())return;const t=n_.min,e=n_.max,i=this.geometry.attributes.position,r=i.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sk extends wl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new xn;a.setIndex(new li(i,1)),a.setAttribute("position",new ze(r,3)),super(a,new os({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mk extends xc{constructor(t,e=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new xn;l.setAttribute("position",new ze(a,3)),l.computeBoundingSphere(),super(l,new os({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new xn;h.setAttribute("position",new ze(u,3)),h.computeBoundingSphere(),this.add(new Ni(h,new Sc({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Kw=new ct;let i_,C1;class Ek extends jn{constructor(t=new ct(0,0,1),e=new ct(0,0,0),i=1,r=16776960,a=i*.2,l=a*.2){super(),this.type="ArrowHelper",i_===void 0&&(i_=new xn,i_.setAttribute("position",new ze([0,0,0,0,1,0],3)),C1=new Lp(.5,1,5,1),C1.translate(0,-.5,0)),this.position.copy(e),this.line=new xc(i_,new os({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ni(C1,new Sc({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,a,l)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Kw.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Kw,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Dk extends wl{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new xn;r.setAttribute("position",new ze(e,3)),r.setAttribute("color",new ze(i,3));const a=new os({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(t,e,i){const r=new Ce,a=this.geometry.attributes.color.array;return r.set(t),r.toArray(a,0),r.toArray(a,3),r.set(e),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ak{constructor(){this.type="ShapePath",this.color=new Ce,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Cx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,r){return this.currentPath.quadraticCurveTo(t,e,i,r),this}bezierCurveTo(t,e,i,r,a,l){return this.currentPath.bezierCurveTo(t,e,i,r,a,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(x){const T=[];for(let R=0,O=x.length;R<O;R++){const I=x[R],P=new ah;P.curves=I.curves,T.push(P)}return T}function i(x,T){const R=T.length;let O=!1;for(let I=R-1,P=0;P<R;I=P++){let B=T[I],N=T[P],L=N.x-B.x,U=N.y-B.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(B=T[P],L=-L,N=T[I],U=-U),x.y<B.y||x.y>N.y)continue;if(x.y===B.y){if(x.x===B.x)return!0}else{const F=U*(x.x-B.x)-L*(x.y-B.y);if(F===0)return!0;if(F<0)continue;O=!O}}else{if(x.y!==B.y)continue;if(N.x<=x.x&&x.x<=B.x||B.x<=x.x&&x.x<=N.x)return!0}}return O}const r=Do.isClockWise,a=this.subPaths;if(a.length===0)return[];let l,u,h;const p=[];if(a.length===1)return u=a[0],h=new ah,h.curves=u.curves,p.push(h),p;let m=!r(a[0].getPoints());m=t?!m:m;const v=[],_=[];let b=[],S=0,A;_[S]=void 0,b[S]=[];for(let x=0,T=a.length;x<T;x++)u=a[x],A=u.getPoints(),l=r(A),l=t?!l:l,l?(!m&&_[S]&&S++,_[S]={s:new ah,p:A},_[S].s.curves=u.curves,m&&S++,b[S]=[]):b[S].push({h:u,p:A[0]});if(!_[0])return e(a);if(_.length>1){let x=!1,T=0;for(let R=0,O=_.length;R<O;R++)v[R]=[];for(let R=0,O=_.length;R<O;R++){const I=b[R];for(let P=0;P<I.length;P++){const B=I[P];let N=!0;for(let L=0;L<_.length;L++)i(B.p,_[L].p)&&(R!==L&&T++,N?(N=!1,v[L].push(B)):x=!0);N&&v[R].push(B)}}T>0&&x===!1&&(b=v)}let M;for(let x=0,T=_.length;x<T;x++){h=_[x].s,p.push(h),M=b[x];for(let R=0,O=M.length;R<O;R++)h.holes.push(M[R].h)}return p}}class Tk extends Tl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function wk(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Rk(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Ck(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function QM(n,t,e,i){const r=Ok(i);switch(e){case JE:return n*t;case bv:return n*t/r.components*r.byteLength;case Sv:return n*t/r.components*r.byteLength;case tD:return n*t*2/r.components*r.byteLength;case cb:return n*t*2/r.components*r.byteLength;case $E:return n*t*3/r.components*r.byteLength;case $i:return n*t*4/r.components*r.byteLength;case ub:return n*t*4/r.components*r.byteLength;case Cg:case Og:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case Ng:case Lg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case ex:case ix:return Math.max(n,16)*Math.max(t,8)/4;case tx:case nx:return Math.max(n,8)*Math.max(t,8)/2;case rx:case sx:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case ax:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case ox:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case lx:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case cx:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case ux:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case fx:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case hx:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case dx:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case px:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case mx:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case gx:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case vx:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case yx:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case _x:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case xx:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case Ug:case bx:case Sx:return Math.ceil(n/4)*Math.ceil(t/4)*16;case eD:case Mx:return Math.ceil(n/4)*Math.ceil(t/4)*8;case Ex:case Dx:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function Ok(n){switch(n){case Cs:case sb:return{byteLength:1,components:1};case up:case ab:case Cr:return{byteLength:2,components:1};case ob:case lb:return{byteLength:2,components:4};case Dl:case xv:case ki:return{byteLength:4,components:1};case QE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Nk{static contain(t,e){return wk(t,e)}static cover(t,e){return Rk(t,e)}static fill(t){return Ck(t)}static getByteLength(t,e,i,r){return QM(t,e,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:yv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=yv);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function dL(){let n=null,t=!1,e=null,i=null;function r(a,l){e(a,l),i=n.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(a){e=a},setContext:function(a){n=a}}}function Lk(n){const t=new WeakMap;function e(u,h){const p=u.array,m=u.usage,v=p.byteLength,_=n.createBuffer();n.bindBuffer(h,_),n.bufferData(h,p,m),u.onUploadCallback();let b;if(p instanceof Float32Array)b=n.FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)b=n.SHORT;else if(p instanceof Uint32Array)b=n.UNSIGNED_INT;else if(p instanceof Int32Array)b=n.INT;else if(p instanceof Int8Array)b=n.BYTE;else if(p instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:_,type:b,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:v}}function i(u,h,p){const m=h.array,v=h.updateRanges;if(n.bindBuffer(p,u),v.length===0)n.bufferSubData(p,0,m);else{v.sort((b,S)=>b.start-S.start);let _=0;for(let b=1;b<v.length;b++){const S=v[_],A=v[b];A.start<=S.start+S.count+1?S.count=Math.max(S.count,A.start+A.count-S.start):(++_,v[_]=A)}v.length=_+1;for(let b=0,S=v.length;b<S;b++){const A=v[b];n.bufferSubData(p,A.start*m.BYTES_PER_ELEMENT,m,A.start,A.count)}h.clearUpdateRanges()}h.onUploadCallback()}function r(u){return u.isInterleavedBufferAttribute&&(u=u.data),t.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=t.get(u);h&&(n.deleteBuffer(h.buffer),t.delete(u))}function l(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=t.get(u);(!m||m.version<u.version)&&t.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=t.get(u);if(p===void 0)t.set(u,e(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,u,h),p.version=u.version}}return{get:r,remove:a,update:l}}var Uk=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Pk=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ik=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Bk=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Hk=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Fk=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Vk=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kk=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Gk=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,jk=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,qk=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Xk=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Yk=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Wk=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Zk=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Kk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Qk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Jk=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$k=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,tG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,eG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,nG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,iG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,rG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sG=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,aG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,oG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,lG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uG="gl_FragColor = linearToOutputTexel( gl_FragColor );",fG=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,hG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,dG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,vG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,_G=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,xG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,bG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,SG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,MG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,EG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,DG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,AG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,TG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,wG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,RG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,CG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,OG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,NG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,LG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,UG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,PG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,IG=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zG=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,BG=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,HG=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,FG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,VG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,GG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,XG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,YG=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,WG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ZG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,KG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,QG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,JG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$G=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,t7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,e7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,n7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,i7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,r7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,s7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,a7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,o7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,l7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,c7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,u7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,f7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,h7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,d7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,p7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,m7=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,g7=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,v7=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,y7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,x7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,b7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,S7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,M7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,E7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,D7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,A7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,T7=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,w7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,R7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,C7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,O7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,N7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const L7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,U7=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,P7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,I7=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,z7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,B7=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,H7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,F7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,V7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,k7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,G7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,j7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,q7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,X7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Y7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,W7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Z7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,J7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,t9=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,e9=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,n9=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,i9=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,r9=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s9=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,a9=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,l9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,c9=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,f9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,h9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dn={alphahash_fragment:Uk,alphahash_pars_fragment:Pk,alphamap_fragment:Ik,alphamap_pars_fragment:zk,alphatest_fragment:Bk,alphatest_pars_fragment:Hk,aomap_fragment:Fk,aomap_pars_fragment:Vk,batching_pars_vertex:kk,batching_vertex:Gk,begin_vertex:jk,beginnormal_vertex:qk,bsdfs:Xk,iridescence_fragment:Yk,bumpmap_pars_fragment:Wk,clipping_planes_fragment:Zk,clipping_planes_pars_fragment:Kk,clipping_planes_pars_vertex:Qk,clipping_planes_vertex:Jk,color_fragment:$k,color_pars_fragment:tG,color_pars_vertex:eG,color_vertex:nG,common:iG,cube_uv_reflection_fragment:rG,defaultnormal_vertex:sG,displacementmap_pars_vertex:aG,displacementmap_vertex:oG,emissivemap_fragment:lG,emissivemap_pars_fragment:cG,colorspace_fragment:uG,colorspace_pars_fragment:fG,envmap_fragment:hG,envmap_common_pars_fragment:dG,envmap_pars_fragment:pG,envmap_pars_vertex:mG,envmap_physical_pars_fragment:AG,envmap_vertex:gG,fog_vertex:vG,fog_pars_vertex:yG,fog_fragment:_G,fog_pars_fragment:xG,gradientmap_pars_fragment:bG,lightmap_pars_fragment:SG,lights_lambert_fragment:MG,lights_lambert_pars_fragment:EG,lights_pars_begin:DG,lights_toon_fragment:TG,lights_toon_pars_fragment:wG,lights_phong_fragment:RG,lights_phong_pars_fragment:CG,lights_physical_fragment:OG,lights_physical_pars_fragment:NG,lights_fragment_begin:LG,lights_fragment_maps:UG,lights_fragment_end:PG,logdepthbuf_fragment:IG,logdepthbuf_pars_fragment:zG,logdepthbuf_pars_vertex:BG,logdepthbuf_vertex:HG,map_fragment:FG,map_pars_fragment:VG,map_particle_fragment:kG,map_particle_pars_fragment:GG,metalnessmap_fragment:jG,metalnessmap_pars_fragment:qG,morphinstance_vertex:XG,morphcolor_vertex:YG,morphnormal_vertex:WG,morphtarget_pars_vertex:ZG,morphtarget_vertex:KG,normal_fragment_begin:QG,normal_fragment_maps:JG,normal_pars_fragment:$G,normal_pars_vertex:t7,normal_vertex:e7,normalmap_pars_fragment:n7,clearcoat_normal_fragment_begin:i7,clearcoat_normal_fragment_maps:r7,clearcoat_pars_fragment:s7,iridescence_pars_fragment:a7,opaque_fragment:o7,packing:l7,premultiplied_alpha_fragment:c7,project_vertex:u7,dithering_fragment:f7,dithering_pars_fragment:h7,roughnessmap_fragment:d7,roughnessmap_pars_fragment:p7,shadowmap_pars_fragment:m7,shadowmap_pars_vertex:g7,shadowmap_vertex:v7,shadowmask_pars_fragment:y7,skinbase_vertex:_7,skinning_pars_vertex:x7,skinning_vertex:b7,skinnormal_vertex:S7,specularmap_fragment:M7,specularmap_pars_fragment:E7,tonemapping_fragment:D7,tonemapping_pars_fragment:A7,transmission_fragment:T7,transmission_pars_fragment:w7,uv_pars_fragment:R7,uv_pars_vertex:C7,uv_vertex:O7,worldpos_vertex:N7,background_vert:L7,background_frag:U7,backgroundCube_vert:P7,backgroundCube_frag:I7,cube_vert:z7,cube_frag:B7,depth_vert:H7,depth_frag:F7,distanceRGBA_vert:V7,distanceRGBA_frag:k7,equirect_vert:G7,equirect_frag:j7,linedashed_vert:q7,linedashed_frag:X7,meshbasic_vert:Y7,meshbasic_frag:W7,meshlambert_vert:Z7,meshlambert_frag:K7,meshmatcap_vert:Q7,meshmatcap_frag:J7,meshnormal_vert:$7,meshnormal_frag:t9,meshphong_vert:e9,meshphong_frag:n9,meshphysical_vert:i9,meshphysical_frag:r9,meshtoon_vert:s9,meshtoon_frag:a9,points_vert:o9,points_frag:l9,shadow_vert:c9,shadow_frag:u9,sprite_vert:f9,sprite_frag:h9},we={common:{diffuse:{value:new Ce(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _n}},envmap:{envMap:{value:null},envMapRotation:{value:new _n},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _n}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _n}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _n},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _n},normalScale:{value:new ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _n},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _n}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _n}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _n}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ce(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ce(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0},uvTransform:{value:new _n}},sprite:{diffuse:{value:new Ce(16777215)},opacity:{value:1},center:{value:new ee(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}}},Mo={basic:{uniforms:Es([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.fog]),vertexShader:Dn.meshbasic_vert,fragmentShader:Dn.meshbasic_frag},lambert:{uniforms:Es([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new Ce(0)}}]),vertexShader:Dn.meshlambert_vert,fragmentShader:Dn.meshlambert_frag},phong:{uniforms:Es([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new Ce(0)},specular:{value:new Ce(1118481)},shininess:{value:30}}]),vertexShader:Dn.meshphong_vert,fragmentShader:Dn.meshphong_frag},standard:{uniforms:Es([we.common,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.roughnessmap,we.metalnessmap,we.fog,we.lights,{emissive:{value:new Ce(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag},toon:{uniforms:Es([we.common,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.gradientmap,we.fog,we.lights,{emissive:{value:new Ce(0)}}]),vertexShader:Dn.meshtoon_vert,fragmentShader:Dn.meshtoon_frag},matcap:{uniforms:Es([we.common,we.bumpmap,we.normalmap,we.displacementmap,we.fog,{matcap:{value:null}}]),vertexShader:Dn.meshmatcap_vert,fragmentShader:Dn.meshmatcap_frag},points:{uniforms:Es([we.points,we.fog]),vertexShader:Dn.points_vert,fragmentShader:Dn.points_frag},dashed:{uniforms:Es([we.common,we.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dn.linedashed_vert,fragmentShader:Dn.linedashed_frag},depth:{uniforms:Es([we.common,we.displacementmap]),vertexShader:Dn.depth_vert,fragmentShader:Dn.depth_frag},normal:{uniforms:Es([we.common,we.bumpmap,we.normalmap,we.displacementmap,{opacity:{value:1}}]),vertexShader:Dn.meshnormal_vert,fragmentShader:Dn.meshnormal_frag},sprite:{uniforms:Es([we.sprite,we.fog]),vertexShader:Dn.sprite_vert,fragmentShader:Dn.sprite_frag},background:{uniforms:{uvTransform:{value:new _n},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dn.background_vert,fragmentShader:Dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _n}},vertexShader:Dn.backgroundCube_vert,fragmentShader:Dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dn.cube_vert,fragmentShader:Dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dn.equirect_vert,fragmentShader:Dn.equirect_frag},distanceRGBA:{uniforms:Es([we.common,we.displacementmap,{referencePosition:{value:new ct},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dn.distanceRGBA_vert,fragmentShader:Dn.distanceRGBA_frag},shadow:{uniforms:Es([we.lights,we.fog,{color:{value:new Ce(0)},opacity:{value:1}}]),vertexShader:Dn.shadow_vert,fragmentShader:Dn.shadow_frag}};Mo.physical={uniforms:Es([Mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _n},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _n},clearcoatNormalScale:{value:new ee(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _n},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _n},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _n},sheen:{value:0},sheenColor:{value:new Ce(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _n},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _n},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _n},transmissionSamplerSize:{value:new ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _n},attenuationDistance:{value:0},attenuationColor:{value:new Ce(0)},specularColor:{value:new Ce(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _n},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _n},anisotropyVector:{value:new ee},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _n}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag};const r_={r:0,b:0,g:0},Wf=new ya,d9=new en;function p9(n,t,e,i,r,a,l){const u=new Ce(0);let h=a===!0?0:1,p,m,v=null,_=0,b=null;function S(R){let O=R.isScene===!0?R.background:null;return O&&O.isTexture&&(O=(R.backgroundBlurriness>0?e:t).get(O)),O}function A(R){let O=!1;const I=S(R);I===null?x(u,h):I&&I.isColor&&(x(I,1),O=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,l):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||O)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function M(R,O){const I=S(O);I&&(I.isCubeTexture||I.mapping===Rp)?(m===void 0&&(m=new Ni(new vh(1,1,1),new Ks({name:"BackgroundCubeMaterial",uniforms:gp(Mo.backgroundCube.uniforms),vertexShader:Mo.backgroundCube.vertexShader,fragmentShader:Mo.backgroundCube.fragmentShader,side:ws,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,B,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),Wf.copy(O.backgroundRotation),Wf.x*=-1,Wf.y*=-1,Wf.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Wf.y*=-1,Wf.z*=-1),m.material.uniforms.envMap.value=I,m.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=O.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(d9.makeRotationFromEuler(Wf)),m.material.toneMapped=Bn.getTransfer(I.colorSpace)!==ai,(v!==I||_!==I.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,v=I,_=I.version,b=n.toneMapping),m.layers.enableAll(),R.unshift(m,m.geometry,m.material,0,0,null)):I&&I.isTexture&&(p===void 0&&(p=new Ni(new ku(2,2),new Ks({name:"BackgroundMaterial",uniforms:gp(Mo.background.uniforms),vertexShader:Mo.background.vertexShader,fragmentShader:Mo.background.fragmentShader,side:_c,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(p)),p.material.uniforms.t2D.value=I,p.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,p.material.toneMapped=Bn.getTransfer(I.colorSpace)!==ai,I.matrixAutoUpdate===!0&&I.updateMatrix(),p.material.uniforms.uvTransform.value.copy(I.matrix),(v!==I||_!==I.version||b!==n.toneMapping)&&(p.material.needsUpdate=!0,v=I,_=I.version,b=n.toneMapping),p.layers.enableAll(),R.unshift(p,p.geometry,p.material,0,0,null))}function x(R,O){R.getRGB(r_,mN(n)),i.buffers.color.setClear(r_.r,r_.g,r_.b,O,l)}function T(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(R,O=1){u.set(R),h=O,x(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(R){h=R,x(u,h)},render:A,addToRenderList:M,dispose:T}}function m9(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=_(null);let a=r,l=!1;function u(U,F,K,tt,nt){let at=!1;const H=v(tt,K,F);a!==H&&(a=H,p(a.object)),at=b(U,tt,K,nt),at&&S(U,tt,K,nt),nt!==null&&t.update(nt,n.ELEMENT_ARRAY_BUFFER),(at||l)&&(l=!1,O(U,F,K,tt),nt!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(nt).buffer))}function h(){return n.createVertexArray()}function p(U){return n.bindVertexArray(U)}function m(U){return n.deleteVertexArray(U)}function v(U,F,K){const tt=K.wireframe===!0;let nt=i[U.id];nt===void 0&&(nt={},i[U.id]=nt);let at=nt[F.id];at===void 0&&(at={},nt[F.id]=at);let H=at[tt];return H===void 0&&(H=_(h()),at[tt]=H),H}function _(U){const F=[],K=[],tt=[];for(let nt=0;nt<e;nt++)F[nt]=0,K[nt]=0,tt[nt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:K,attributeDivisors:tt,object:U,attributes:{},index:null}}function b(U,F,K,tt){const nt=a.attributes,at=F.attributes;let H=0;const k=K.getAttributes();for(const V in k)if(k[V].location>=0){const j=nt[V];let st=at[V];if(st===void 0&&(V==="instanceMatrix"&&U.instanceMatrix&&(st=U.instanceMatrix),V==="instanceColor"&&U.instanceColor&&(st=U.instanceColor)),j===void 0||j.attribute!==st||st&&j.data!==st.data)return!0;H++}return a.attributesNum!==H||a.index!==tt}function S(U,F,K,tt){const nt={},at=F.attributes;let H=0;const k=K.getAttributes();for(const V in k)if(k[V].location>=0){let j=at[V];j===void 0&&(V==="instanceMatrix"&&U.instanceMatrix&&(j=U.instanceMatrix),V==="instanceColor"&&U.instanceColor&&(j=U.instanceColor));const st={};st.attribute=j,j&&j.data&&(st.data=j.data),nt[V]=st,H++}a.attributes=nt,a.attributesNum=H,a.index=tt}function A(){const U=a.newAttributes;for(let F=0,K=U.length;F<K;F++)U[F]=0}function M(U){x(U,0)}function x(U,F){const K=a.newAttributes,tt=a.enabledAttributes,nt=a.attributeDivisors;K[U]=1,tt[U]===0&&(n.enableVertexAttribArray(U),tt[U]=1),nt[U]!==F&&(n.vertexAttribDivisor(U,F),nt[U]=F)}function T(){const U=a.newAttributes,F=a.enabledAttributes;for(let K=0,tt=F.length;K<tt;K++)F[K]!==U[K]&&(n.disableVertexAttribArray(K),F[K]=0)}function R(U,F,K,tt,nt,at,H){H===!0?n.vertexAttribIPointer(U,F,K,nt,at):n.vertexAttribPointer(U,F,K,tt,nt,at)}function O(U,F,K,tt){A();const nt=tt.attributes,at=K.getAttributes(),H=F.defaultAttributeValues;for(const k in at){const V=at[k];if(V.location>=0){let Q=nt[k];if(Q===void 0&&(k==="instanceMatrix"&&U.instanceMatrix&&(Q=U.instanceMatrix),k==="instanceColor"&&U.instanceColor&&(Q=U.instanceColor)),Q!==void 0){const j=Q.normalized,st=Q.itemSize,ht=t.get(Q);if(ht===void 0)continue;const dt=ht.buffer,$=ht.type,ft=ht.bytesPerElement,lt=$===n.INT||$===n.UNSIGNED_INT||Q.gpuType===xv;if(Q.isInterleavedBufferAttribute){const pt=Q.data,xt=pt.stride,Ct=Q.offset;if(pt.isInstancedInterleavedBuffer){for(let Ht=0;Ht<V.locationSize;Ht++)x(V.location+Ht,pt.meshPerAttribute);U.isInstancedMesh!==!0&&tt._maxInstanceCount===void 0&&(tt._maxInstanceCount=pt.meshPerAttribute*pt.count)}else for(let Ht=0;Ht<V.locationSize;Ht++)M(V.location+Ht);n.bindBuffer(n.ARRAY_BUFFER,dt);for(let Ht=0;Ht<V.locationSize;Ht++)R(V.location+Ht,st/V.locationSize,$,j,xt*ft,(Ct+st/V.locationSize*Ht)*ft,lt)}else{if(Q.isInstancedBufferAttribute){for(let pt=0;pt<V.locationSize;pt++)x(V.location+pt,Q.meshPerAttribute);U.isInstancedMesh!==!0&&tt._maxInstanceCount===void 0&&(tt._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let pt=0;pt<V.locationSize;pt++)M(V.location+pt);n.bindBuffer(n.ARRAY_BUFFER,dt);for(let pt=0;pt<V.locationSize;pt++)R(V.location+pt,st/V.locationSize,$,j,st*ft,st/V.locationSize*pt*ft,lt)}}else if(H!==void 0){const j=H[k];if(j!==void 0)switch(j.length){case 2:n.vertexAttrib2fv(V.location,j);break;case 3:n.vertexAttrib3fv(V.location,j);break;case 4:n.vertexAttrib4fv(V.location,j);break;default:n.vertexAttrib1fv(V.location,j)}}}}T()}function I(){N();for(const U in i){const F=i[U];for(const K in F){const tt=F[K];for(const nt in tt)m(tt[nt].object),delete tt[nt];delete F[K]}delete i[U]}}function P(U){if(i[U.id]===void 0)return;const F=i[U.id];for(const K in F){const tt=F[K];for(const nt in tt)m(tt[nt].object),delete tt[nt];delete F[K]}delete i[U.id]}function B(U){for(const F in i){const K=i[F];if(K[U.id]===void 0)continue;const tt=K[U.id];for(const nt in tt)m(tt[nt].object),delete tt[nt];delete K[U.id]}}function N(){L(),l=!0,a!==r&&(a=r,p(a.object))}function L(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:u,reset:N,resetDefaultState:L,dispose:I,releaseStatesOfGeometry:P,releaseStatesOfProgram:B,initAttributes:A,enableAttribute:M,disableUnusedAttributes:T}}function g9(n,t,e){let i;function r(p){i=p}function a(p,m){n.drawArrays(i,p,m),e.update(m,i,1)}function l(p,m,v){v!==0&&(n.drawArraysInstanced(i,p,m,v),e.update(m,i,v))}function u(p,m,v){if(v===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,v);let b=0;for(let S=0;S<v;S++)b+=m[S];e.update(b,i,1)}function h(p,m,v,_){if(v===0)return;const b=t.get("WEBGL_multi_draw");if(b===null)for(let S=0;S<p.length;S++)l(p[S],m[S],_[S]);else{b.multiDrawArraysInstancedWEBGL(i,p,0,m,0,_,0,v);let S=0;for(let A=0;A<v;A++)S+=m[A]*_[A];e.update(S,i,1)}}this.setMode=r,this.render=a,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function v9(n,t,e,i){let r;function a(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const B=t.get("EXT_texture_filter_anisotropic");r=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function l(B){return!(B!==$i&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(B){const N=B===Cr&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(B!==Cs&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==ki&&!N)}function h(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=e.precision!==void 0?e.precision:"highp";const m=h(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=e.logarithmicDepthBuffer===!0,_=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_TEXTURE_SIZE),M=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),T=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),R=n.getParameter(n.MAX_VARYING_VECTORS),O=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),I=S>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:h,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:v,reverseDepthBuffer:_,maxTextures:b,maxVertexTextures:S,maxTextureSize:A,maxCubemapSize:M,maxAttributes:x,maxVertexUniforms:T,maxVaryings:R,maxFragmentUniforms:O,vertexTextures:I,maxSamples:P}}function y9(n){const t=this;let e=null,i=0,r=!1,a=!1;const l=new Tu,u=new _n,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,_){const b=v.length!==0||_||i!==0||r;return r=_,i=v.length,b},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(v,_){e=m(v,_,0)},this.setState=function(v,_,b){const S=v.clippingPlanes,A=v.clipIntersection,M=v.clipShadows,x=n.get(v);if(!r||S===null||S.length===0||a&&!M)a?m(null):p();else{const T=a?0:i,R=T*4;let O=x.clippingState||null;h.value=O,O=m(S,_,R,b);for(let I=0;I!==R;++I)O[I]=e[I];x.clippingState=O,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=T}};function p(){h.value!==e&&(h.value=e,h.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function m(v,_,b,S){const A=v!==null?v.length:0;let M=null;if(A!==0){if(M=h.value,S!==!0||M===null){const x=b+A*4,T=_.matrixWorldInverse;u.getNormalMatrix(T),(M===null||M.length<x)&&(M=new Float32Array(x));for(let R=0,O=b;R!==A;++R,O+=4)l.copy(v[R]).applyMatrix4(T,u),l.normal.toArray(M,O),M[O+3]=l.constant}h.value=M,h.needsUpdate=!0}return t.numPlanes=A,t.numIntersection=0,M}}function _9(n){let t=new WeakMap;function e(l,u){return u===cp?l.mapping=El:u===Yg&&(l.mapping=Bu),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===cp||u===Yg)if(t.has(l)){const h=t.get(l).texture;return e(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const p=new oD(h.height);return p.fromEquirectangularTexture(n,l),t.set(l,p),l.addEventListener("dispose",r),e(p.texture,l.mapping)}else return null}}return l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const h=t.get(u);h!==void 0&&(t.delete(u),h.dispose())}function a(){t=new WeakMap}return{get:i,dispose:a}}const $d=4,Qw=[.125,.215,.35,.446,.526,.582],Jf=20,O1=new Pp,Jw=new Ce;let N1=null,L1=0,U1=0,P1=!1;const Qf=(1+Math.sqrt(5))/2,kd=1/Qf,$w=[new ct(-Qf,kd,0),new ct(Qf,kd,0),new ct(-kd,0,Qf),new ct(kd,0,Qf),new ct(0,Qf,-kd),new ct(0,Qf,kd),new ct(-1,1,-1),new ct(1,1,-1),new ct(-1,1,1),new ct(1,1,1)],x9=new ct;class JM{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100,a={}){const{size:l=256,position:u=x9}=a;N1=this._renderer.getRenderTarget(),L1=this._renderer.getActiveCubeFace(),U1=this._renderer.getActiveMipmapLevel(),P1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(t,i,r,h,u),e>0&&this._blur(h,0,0,e),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=nR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=eR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(N1,L1,U1),this._renderer.xr.enabled=P1,t.scissorTest=!1,s_(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===El||t.mapping===Bu?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),N1=this._renderer.getRenderTarget(),L1=this._renderer.getActiveCubeFace(),U1=this._renderer.getActiveMipmapLevel(),P1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:oi,minFilter:oi,generateMipmaps:!1,type:Cr,format:$i,colorSpace:Co,depthBuffer:!1},r=tR(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tR(t,e,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=b9(a)),this._blurMaterial=S9(a,t,e)}return r}_compileMaterial(t){const e=new Ni(this._lodPlanes[0],t);this._renderer.compile(e,O1)}_sceneToCubeUV(t,e,i,r,a){const h=new Rr(90,1,e,i),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,_=v.autoClear,b=v.toneMapping;v.getClearColor(Jw),v.toneMapping=Sl,v.autoClear=!1;const S=new Sc({name:"PMREM.Background",side:ws,depthWrite:!1,depthTest:!1}),A=new Ni(new vh,S);let M=!1;const x=t.background;x?x.isColor&&(S.color.copy(x),t.background=null,M=!0):(S.color.copy(Jw),M=!0);for(let T=0;T<6;T++){const R=T%3;R===0?(h.up.set(0,p[T],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x+m[T],a.y,a.z)):R===1?(h.up.set(0,0,p[T]),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y+m[T],a.z)):(h.up.set(0,p[T],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y,a.z+m[T]));const O=this._cubeSize;s_(r,R*O,T>2?O:0,O,O),v.setRenderTarget(r),M&&v.render(A,h),v.render(t,h)}A.geometry.dispose(),A.material.dispose(),v.toneMapping=b,v.autoClear=_,t.background=x}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===El||t.mapping===Bu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=nR()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=eR());const a=r?this._cubemapMaterial:this._equirectMaterial,l=new Ni(this._lodPlanes[0],a),u=a.uniforms;u.envMap.value=t;const h=this._cubeSize;s_(e,0,0,3*h,2*h),i.setRenderTarget(e),i.render(l,O1)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const l=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),u=$w[(r-a-1)%$w.length];this._blur(t,a-1,a,l,u)}e.autoClear=i}_blur(t,e,i,r,a){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,i,r,"latitudinal",a),this._halfBlur(l,t,i,i,r,"longitudinal",a)}_halfBlur(t,e,i,r,a,l,u){const h=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Ni(this._lodPlanes[r],p),_=p.uniforms,b=this._sizeLods[i]-1,S=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*Jf-1),A=a/S,M=isFinite(a)?1+Math.floor(m*A):Jf;M>Jf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Jf}`);const x=[];let T=0;for(let B=0;B<Jf;++B){const N=B/A,L=Math.exp(-N*N/2);x.push(L),B===0?T+=L:B<M&&(T+=2*L)}for(let B=0;B<x.length;B++)x[B]=x[B]/T;_.envMap.value=t.texture,_.samples.value=M,_.weights.value=x,_.latitudinal.value=l==="latitudinal",u&&(_.poleAxis.value=u);const{_lodMax:R}=this;_.dTheta.value=S,_.mipInt.value=R-i;const O=this._sizeLods[r],I=3*O*(r>R-$d?r-R+$d:0),P=4*(this._cubeSize-O);s_(e,I,P,3*O,2*O),h.setRenderTarget(e),h.render(v,O1)}}function b9(n){const t=[],e=[],i=[];let r=n;const a=n-$d+1+Qw.length;for(let l=0;l<a;l++){const u=Math.pow(2,r);e.push(u);let h=1/u;l>n-$d?h=Qw[l-n+$d-1]:l===0&&(h=0),i.push(h);const p=1/(u-2),m=-p,v=1+p,_=[m,m,v,m,v,v,m,m,v,v,m,v],b=6,S=6,A=3,M=2,x=1,T=new Float32Array(A*S*b),R=new Float32Array(M*S*b),O=new Float32Array(x*S*b);for(let P=0;P<b;P++){const B=P%3*2/3-1,N=P>2?0:-1,L=[B,N,0,B+2/3,N,0,B+2/3,N+1,0,B,N,0,B+2/3,N+1,0,B,N+1,0];T.set(L,A*S*P),R.set(_,M*S*P);const U=[P,P,P,P,P,P];O.set(U,x*S*P)}const I=new xn;I.setAttribute("position",new li(T,A)),I.setAttribute("uv",new li(R,M)),I.setAttribute("faceIndex",new li(O,x)),t.push(I),r>$d&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function tR(n,t,e){const i=new ka(n,t,e);return i.texture.mapping=Rp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function s_(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function S9(n,t,e){const i=new Float32Array(Jf),r=new ct(0,1,0);return new Ks({name:"SphericalGaussianBlur",defines:{n:Jf,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:LD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bl,depthTest:!1,depthWrite:!1})}function eR(){return new Ks({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:LD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bl,depthTest:!1,depthWrite:!1})}function nR(){return new Ks({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:LD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bl,depthTest:!1,depthWrite:!1})}function LD(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function M9(n){let t=new WeakMap,e=null;function i(u){if(u&&u.isTexture){const h=u.mapping,p=h===cp||h===Yg,m=h===El||h===Bu;if(p||m){let v=t.get(u);const _=v!==void 0?v.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==_)return e===null&&(e=new JM(n)),v=p?e.fromEquirectangular(u,v):e.fromCubemap(u,v),v.texture.pmremVersion=u.pmremVersion,t.set(u,v),v.texture;if(v!==void 0)return v.texture;{const b=u.image;return p&&b&&b.height>0||m&&b&&r(b)?(e===null&&(e=new JM(n)),v=p?e.fromEquirectangular(u):e.fromCubemap(u),v.texture.pmremVersion=u.pmremVersion,t.set(u,v),u.addEventListener("dispose",a),v.texture):null}}}return u}function r(u){let h=0;const p=6;for(let m=0;m<p;m++)u[m]!==void 0&&h++;return h===p}function a(u){const h=u.target;h.removeEventListener("dispose",a);const p=t.get(h);p!==void 0&&(t.delete(h),p.dispose())}function l(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:l}}function E9(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const r=e(i);return r===null&&C_("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function D9(n,t,e,i){const r={},a=new WeakMap;function l(v){const _=v.target;_.index!==null&&t.remove(_.index);for(const S in _.attributes)t.remove(_.attributes[S]);_.removeEventListener("dispose",l),delete r[_.id];const b=a.get(_);b&&(t.remove(b),a.delete(_)),i.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,e.memory.geometries--}function u(v,_){return r[_.id]===!0||(_.addEventListener("dispose",l),r[_.id]=!0,e.memory.geometries++),_}function h(v){const _=v.attributes;for(const b in _)t.update(_[b],n.ARRAY_BUFFER)}function p(v){const _=[],b=v.index,S=v.attributes.position;let A=0;if(b!==null){const T=b.array;A=b.version;for(let R=0,O=T.length;R<O;R+=3){const I=T[R+0],P=T[R+1],B=T[R+2];_.push(I,P,P,B,B,I)}}else if(S!==void 0){const T=S.array;A=S.version;for(let R=0,O=T.length/3-1;R<O;R+=3){const I=R+0,P=R+1,B=R+2;_.push(I,P,P,B,B,I)}}else return;const M=new(fN(_)?aD:sD)(_,1);M.version=A;const x=a.get(v);x&&t.remove(x),a.set(v,M)}function m(v){const _=a.get(v);if(_){const b=v.index;b!==null&&_.version<b.version&&p(v)}else p(v);return a.get(v)}return{get:u,update:h,getWireframeAttribute:m}}function A9(n,t,e){let i;function r(_){i=_}let a,l;function u(_){a=_.type,l=_.bytesPerElement}function h(_,b){n.drawElements(i,b,a,_*l),e.update(b,i,1)}function p(_,b,S){S!==0&&(n.drawElementsInstanced(i,b,a,_*l,S),e.update(b,i,S))}function m(_,b,S){if(S===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,_,0,S);let M=0;for(let x=0;x<S;x++)M+=b[x];e.update(M,i,1)}function v(_,b,S,A){if(S===0)return;const M=t.get("WEBGL_multi_draw");if(M===null)for(let x=0;x<_.length;x++)p(_[x]/l,b[x],A[x]);else{M.multiDrawElementsInstancedWEBGL(i,b,0,a,_,0,A,0,S);let x=0;for(let T=0;T<S;T++)x+=b[T]*A[T];e.update(x,i,1)}}this.setMode=r,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function T9(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,l,u){switch(e.calls++,l){case n.TRIANGLES:e.triangles+=u*(a/3);break;case n.LINES:e.lines+=u*(a/2);break;case n.LINE_STRIP:e.lines+=u*(a-1);break;case n.LINE_LOOP:e.lines+=u*a;break;case n.POINTS:e.points+=u*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:i}}function w9(n,t,e){const i=new WeakMap,r=new Gn;function a(l,u,h){const p=l.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let _=i.get(u);if(_===void 0||_.count!==v){let U=function(){N.dispose(),i.delete(u),u.removeEventListener("dispose",U)};var b=U;_!==void 0&&_.texture.dispose();const S=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,x=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let O=0;S===!0&&(O=1),A===!0&&(O=2),M===!0&&(O=3);let I=u.attributes.position.count*O,P=1;I>t.maxTextureSize&&(P=Math.ceil(I/t.maxTextureSize),I=t.maxTextureSize);const B=new Float32Array(I*P*4*v),N=new Mv(B,I,P,v);N.type=ki,N.needsUpdate=!0;const L=O*4;for(let F=0;F<v;F++){const K=x[F],tt=T[F],nt=R[F],at=I*P*4*F;for(let H=0;H<K.count;H++){const k=H*L;S===!0&&(r.fromBufferAttribute(K,H),B[at+k+0]=r.x,B[at+k+1]=r.y,B[at+k+2]=r.z,B[at+k+3]=0),A===!0&&(r.fromBufferAttribute(tt,H),B[at+k+4]=r.x,B[at+k+5]=r.y,B[at+k+6]=r.z,B[at+k+7]=0),M===!0&&(r.fromBufferAttribute(nt,H),B[at+k+8]=r.x,B[at+k+9]=r.y,B[at+k+10]=r.z,B[at+k+11]=nt.itemSize===4?r.w:1)}}_={count:v,texture:N,size:new ee(I,P)},i.set(u,_),u.addEventListener("dispose",U)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",l.morphTexture,e);else{let S=0;for(let M=0;M<p.length;M++)S+=p[M];const A=u.morphTargetsRelative?1:1-S;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",p)}h.getUniforms().setValue(n,"morphTargetsTexture",_.texture,e),h.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}return{update:a}}function R9(n,t,e,i){let r=new WeakMap;function a(h){const p=i.render.frame,m=h.geometry,v=t.get(h,m);if(r.get(v)!==p&&(t.update(v),r.set(v,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),r.get(h)!==p&&(e.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&e.update(h.instanceColor,n.ARRAY_BUFFER),r.set(h,p))),h.isSkinnedMesh){const _=h.skeleton;r.get(_)!==p&&(_.update(),r.set(_,p))}return v}function l(){r=new WeakMap}function u(h){const p=h.target;p.removeEventListener("dispose",u),e.remove(p.instanceMatrix),p.instanceColor!==null&&e.remove(p.instanceColor)}return{update:a,dispose:l}}const pL=new mi,iR=new bb(1,1),mL=new Mv,gL=new db,vL=new Ev,rR=[],sR=[],aR=new Float32Array(16),oR=new Float32Array(9),lR=new Float32Array(4);function Ip(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let a=rR[r];if(a===void 0&&(a=new Float32Array(r),rR[r]=a),t!==0){i.toArray(a,0);for(let l=1,u=0;l!==t;++l)u+=e,n[l].toArray(a,u)}return a}function _r(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function xr(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function Ib(n,t){let e=sR[t];e===void 0&&(e=new Int32Array(t),sR[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function C9(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function O9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(_r(e,t))return;n.uniform2fv(this.addr,t),xr(e,t)}}function N9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(_r(e,t))return;n.uniform3fv(this.addr,t),xr(e,t)}}function L9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(_r(e,t))return;n.uniform4fv(this.addr,t),xr(e,t)}}function U9(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(_r(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),xr(e,t)}else{if(_r(e,i))return;lR.set(i),n.uniformMatrix2fv(this.addr,!1,lR),xr(e,i)}}function P9(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(_r(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),xr(e,t)}else{if(_r(e,i))return;oR.set(i),n.uniformMatrix3fv(this.addr,!1,oR),xr(e,i)}}function I9(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(_r(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),xr(e,t)}else{if(_r(e,i))return;aR.set(i),n.uniformMatrix4fv(this.addr,!1,aR),xr(e,i)}}function z9(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function B9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(_r(e,t))return;n.uniform2iv(this.addr,t),xr(e,t)}}function H9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(_r(e,t))return;n.uniform3iv(this.addr,t),xr(e,t)}}function F9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(_r(e,t))return;n.uniform4iv(this.addr,t),xr(e,t)}}function V9(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function k9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(_r(e,t))return;n.uniform2uiv(this.addr,t),xr(e,t)}}function G9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(_r(e,t))return;n.uniform3uiv(this.addr,t),xr(e,t)}}function j9(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(_r(e,t))return;n.uniform4uiv(this.addr,t),xr(e,t)}}function q9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(iR.compareFunction=iD,a=iR):a=pL,e.setTexture2D(t||a,r)}function X9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||gL,r)}function Y9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||vL,r)}function W9(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||mL,r)}function Z9(n){switch(n){case 5126:return C9;case 35664:return O9;case 35665:return N9;case 35666:return L9;case 35674:return U9;case 35675:return P9;case 35676:return I9;case 5124:case 35670:return z9;case 35667:case 35671:return B9;case 35668:case 35672:return H9;case 35669:case 35673:return F9;case 5125:return V9;case 36294:return k9;case 36295:return G9;case 36296:return j9;case 35678:case 36198:case 36298:case 36306:case 35682:return q9;case 35679:case 36299:case 36307:return X9;case 35680:case 36300:case 36308:case 36293:return Y9;case 36289:case 36303:case 36311:case 36292:return W9}}function K9(n,t){n.uniform1fv(this.addr,t)}function Q9(n,t){const e=Ip(t,this.size,2);n.uniform2fv(this.addr,e)}function J9(n,t){const e=Ip(t,this.size,3);n.uniform3fv(this.addr,e)}function $9(n,t){const e=Ip(t,this.size,4);n.uniform4fv(this.addr,e)}function tj(n,t){const e=Ip(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function ej(n,t){const e=Ip(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function nj(n,t){const e=Ip(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function ij(n,t){n.uniform1iv(this.addr,t)}function rj(n,t){n.uniform2iv(this.addr,t)}function sj(n,t){n.uniform3iv(this.addr,t)}function aj(n,t){n.uniform4iv(this.addr,t)}function oj(n,t){n.uniform1uiv(this.addr,t)}function lj(n,t){n.uniform2uiv(this.addr,t)}function cj(n,t){n.uniform3uiv(this.addr,t)}function uj(n,t){n.uniform4uiv(this.addr,t)}function fj(n,t,e){const i=this.cache,r=t.length,a=Ib(e,r);_r(i,a)||(n.uniform1iv(this.addr,a),xr(i,a));for(let l=0;l!==r;++l)e.setTexture2D(t[l]||pL,a[l])}function hj(n,t,e){const i=this.cache,r=t.length,a=Ib(e,r);_r(i,a)||(n.uniform1iv(this.addr,a),xr(i,a));for(let l=0;l!==r;++l)e.setTexture3D(t[l]||gL,a[l])}function dj(n,t,e){const i=this.cache,r=t.length,a=Ib(e,r);_r(i,a)||(n.uniform1iv(this.addr,a),xr(i,a));for(let l=0;l!==r;++l)e.setTextureCube(t[l]||vL,a[l])}function pj(n,t,e){const i=this.cache,r=t.length,a=Ib(e,r);_r(i,a)||(n.uniform1iv(this.addr,a),xr(i,a));for(let l=0;l!==r;++l)e.setTexture2DArray(t[l]||mL,a[l])}function mj(n){switch(n){case 5126:return K9;case 35664:return Q9;case 35665:return J9;case 35666:return $9;case 35674:return tj;case 35675:return ej;case 35676:return nj;case 5124:case 35670:return ij;case 35667:case 35671:return rj;case 35668:case 35672:return sj;case 35669:case 35673:return aj;case 5125:return oj;case 36294:return lj;case 36295:return cj;case 36296:return uj;case 35678:case 36198:case 36298:case 36306:case 35682:return fj;case 35679:case 36299:case 36307:return hj;case 35680:case 36300:case 36308:case 36293:return dj;case 36289:case 36303:case 36311:case 36292:return pj}}class gj{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=Z9(e.type)}}class vj{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=mj(e.type)}}class yj{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const r=this.seq;for(let a=0,l=r.length;a!==l;++a){const u=r[a];u.setValue(t,e[u.id],i)}}}const I1=/(\w+)(\])?(\[|\.)?/g;function cR(n,t){n.seq.push(t),n.map[t.id]=t}function _j(n,t,e){const i=n.name,r=i.length;for(I1.lastIndex=0;;){const a=I1.exec(i),l=I1.lastIndex;let u=a[1];const h=a[2]==="]",p=a[3];if(h&&(u=u|0),p===void 0||p==="["&&l+2===r){cR(e,p===void 0?new gj(u,n,t):new vj(u,n,t));break}else{let v=e.map[u];v===void 0&&(v=new yj(u),cR(e,v)),e=v}}}class N_{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=t.getActiveUniform(e,r),l=t.getUniformLocation(e,a.name);_j(a,l,this)}}setValue(t,e,i,r){const a=this.map[e];a!==void 0&&a.setValue(t,i,r)}setOptional(t,e,i){const r=e[i];r!==void 0&&this.setValue(t,i,r)}static upload(t,e,i,r){for(let a=0,l=e.length;a!==l;++a){const u=e[a],h=i[u.id];h.needsUpdate!==!1&&u.setValue(t,h.value,r)}}static seqWithValue(t,e){const i=[];for(let r=0,a=t.length;r!==a;++r){const l=t[r];l.id in e&&i.push(l)}return i}}function uR(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const xj=37297;let bj=0;function Sj(n,t){const e=n.split(`
`),i=[],r=Math.max(t-6,0),a=Math.min(t+6,e.length);for(let l=r;l<a;l++){const u=l+1;i.push(`${u===t?">":" "} ${u}: ${e[l]}`)}return i.join(`
`)}const fR=new _n;function Mj(n){Bn._getMatrix(fR,Bn.workingColorSpace,n);const t=`mat3( ${fR.elements.map(e=>e.toFixed(4))} )`;switch(Bn.getTransfer(n)){case Jg:return[t,"LinearTransferOETF"];case ai:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function hR(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),r=n.getShaderInfoLog(t).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const l=parseInt(a[1]);return e.toUpperCase()+`

`+r+`

`+Sj(n.getShaderSource(t),l)}else return r}function Ej(n,t){const e=Mj(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function Dj(n,t){let e;switch(t){case qO:e="Linear";break;case XO:e="Reinhard";break;case YO:e="Cineon";break;case ZE:e="ACESFilmic";break;case ZO:e="AgX";break;case KO:e="Neutral";break;case WO:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const a_=new ct;function Aj(){Bn.getLuminanceCoefficients(a_);const n=a_.x.toFixed(4),t=a_.y.toFixed(4),e=a_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Tj(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Eg).join(`
`)}function wj(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function Rj(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(t,r),l=a.name;let u=1;a.type===n.FLOAT_MAT2&&(u=2),a.type===n.FLOAT_MAT3&&(u=3),a.type===n.FLOAT_MAT4&&(u=4),e[l]={type:a.type,location:n.getAttribLocation(t,l),locationSize:u}}return e}function Eg(n){return n!==""}function dR(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function pR(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Cj=/^[ \t]*#include +<([\w\d./]+)>/gm;function $M(n){return n.replace(Cj,Nj)}const Oj=new Map;function Nj(n,t){let e=Dn[t];if(e===void 0){const i=Oj.get(t);if(i!==void 0)e=Dn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return $M(e)}const Lj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mR(n){return n.replace(Lj,Uj)}function Uj(n,t,e,i){let r="";for(let a=parseInt(t);a<parseInt(e);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function gR(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Pj(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===rb?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===wg?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xo&&(t="SHADOWMAP_TYPE_VSM"),t}function Ij(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case El:case Bu:t="ENVMAP_TYPE_CUBE";break;case Rp:t="ENVMAP_TYPE_CUBE_UV";break}return t}function zj(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Bu:t="ENVMAP_MODE_REFRACTION";break}return t}function Bj(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case _v:t="ENVMAP_BLENDING_MULTIPLY";break;case GO:t="ENVMAP_BLENDING_MIX";break;case jO:t="ENVMAP_BLENDING_ADD";break}return t}function Hj(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function Fj(n,t,e,i){const r=n.getContext(),a=e.defines;let l=e.vertexShader,u=e.fragmentShader;const h=Pj(e),p=Ij(e),m=zj(e),v=Bj(e),_=Hj(e),b=Tj(e),S=wj(a),A=r.createProgram();let M,x,T=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(M=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S].filter(Eg).join(`
`),M.length>0&&(M+=`
`),x=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S].filter(Eg).join(`
`),x.length>0&&(x+=`
`)):(M=[gR(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Eg).join(`
`),x=[gR(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+p:"",e.envMap?"#define "+m:"",e.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Sl?"#define TONE_MAPPING":"",e.toneMapping!==Sl?Dn.tonemapping_pars_fragment:"",e.toneMapping!==Sl?Dj("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Dn.colorspace_pars_fragment,Ej("linearToOutputTexel",e.outputColorSpace),Aj(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(Eg).join(`
`)),l=$M(l),l=dR(l,e),l=pR(l,e),u=$M(u),u=dR(u,e),u=pR(u,e),l=mR(l),u=mR(u),e.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,M=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,x=["#define varying in",e.glslVersion===jM?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===jM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const R=T+M+l,O=T+x+u,I=uR(r,r.VERTEX_SHADER,R),P=uR(r,r.FRAGMENT_SHADER,O);r.attachShader(A,I),r.attachShader(A,P),e.index0AttributeName!==void 0?r.bindAttribLocation(A,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A);function B(F){if(n.debug.checkShaderErrors){const K=r.getProgramInfoLog(A).trim(),tt=r.getShaderInfoLog(I).trim(),nt=r.getShaderInfoLog(P).trim();let at=!0,H=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(at=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,A,I,P);else{const k=hR(r,I,"vertex"),V=hR(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+K+`
`+k+`
`+V)}else K!==""?console.warn("THREE.WebGLProgram: Program Info Log:",K):(tt===""||nt==="")&&(H=!1);H&&(F.diagnostics={runnable:at,programLog:K,vertexShader:{log:tt,prefix:M},fragmentShader:{log:nt,prefix:x}})}r.deleteShader(I),r.deleteShader(P),N=new N_(r,A),L=Rj(r,A)}let N;this.getUniforms=function(){return N===void 0&&B(this),N};let L;this.getAttributes=function(){return L===void 0&&B(this),L};let U=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(A,xj)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=bj++,this.cacheKey=t,this.usedTimes=1,this.program=A,this.vertexShader=I,this.fragmentShader=P,this}let Vj=0;class kj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(e),a=this._getShaderStage(i),l=this._getShaderCacheForMaterial(t);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(a)===!1&&(l.add(a),a.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new Gj(t),e.set(t,i)),i}}class Gj{constructor(t){this.id=Vj++,this.code=t,this.usedTimes=0}}function jj(n,t,e,i,r,a,l){const u=new mp,h=new kj,p=new Set,m=[],v=r.logarithmicDepthBuffer,_=r.vertexTextures;let b=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(L){return p.add(L),L===0?"uv":`uv${L}`}function M(L,U,F,K,tt){const nt=K.fog,at=tt.geometry,H=L.isMeshStandardMaterial?K.environment:null,k=(L.isMeshStandardMaterial?e:t).get(L.envMap||H),V=k&&k.mapping===Rp?k.image.height:null,Q=S[L.type];L.precision!==null&&(b=r.getMaxPrecision(L.precision),b!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",b,"instead."));const j=at.morphAttributes.position||at.morphAttributes.normal||at.morphAttributes.color,st=j!==void 0?j.length:0;let ht=0;at.morphAttributes.position!==void 0&&(ht=1),at.morphAttributes.normal!==void 0&&(ht=2),at.morphAttributes.color!==void 0&&(ht=3);let dt,$,ft,lt;if(Q){const Tn=Mo[Q];dt=Tn.vertexShader,$=Tn.fragmentShader}else dt=L.vertexShader,$=L.fragmentShader,h.update(L),ft=h.getVertexShaderID(L),lt=h.getFragmentShaderID(L);const pt=n.getRenderTarget(),xt=n.state.buffers.depth.getReversed(),Ct=tt.isInstancedMesh===!0,Ht=tt.isBatchedMesh===!0,Kt=!!L.map,le=!!L.matcap,ce=!!k,et=!!L.aoMap,Wt=!!L.lightMap,Ut=!!L.bumpMap,Xt=!!L.normalMap,It=!!L.displacementMap,ue=!!L.emissiveMap,Zt=!!L.metalnessMap,ot=!!L.roughnessMap,Z=L.anisotropy>0,Dt=L.clearcoat>0,Ft=L.dispersion>0,Qt=L.iridescence>0,Nt=L.sheen>0,de=L.transmission>0,fe=Z&&!!L.anisotropyMap,Me=Dt&&!!L.clearcoatMap,He=Dt&&!!L.clearcoatNormalMap,oe=Dt&&!!L.clearcoatRoughnessMap,ge=Qt&&!!L.iridescenceMap,Ae=Qt&&!!L.iridescenceThicknessMap,De=Nt&&!!L.sheenColorMap,_e=Nt&&!!L.sheenRoughnessMap,Je=!!L.specularMap,Oe=!!L.specularColorMap,Ke=!!L.specularIntensityMap,Et=de&&!!L.transmissionMap,Gt=de&&!!L.thicknessMap,jt=!!L.gradientMap,ne=!!L.alphaMap,Ee=L.alphaTest>0,xe=!!L.alphaHash,nn=!!L.extensions;let Vn=Sl;L.toneMapped&&(pt===null||pt.isXRRenderTarget===!0)&&(Vn=n.toneMapping);const ci={shaderID:Q,shaderType:L.type,shaderName:L.name,vertexShader:dt,fragmentShader:$,defines:L.defines,customVertexShaderID:ft,customFragmentShaderID:lt,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:b,batching:Ht,batchingColor:Ht&&tt._colorsTexture!==null,instancing:Ct,instancingColor:Ct&&tt.instanceColor!==null,instancingMorph:Ct&&tt.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:pt===null?n.outputColorSpace:pt.isXRRenderTarget===!0?pt.texture.colorSpace:Co,alphaToCoverage:!!L.alphaToCoverage,map:Kt,matcap:le,envMap:ce,envMapMode:ce&&k.mapping,envMapCubeUVHeight:V,aoMap:et,lightMap:Wt,bumpMap:Ut,normalMap:Xt,displacementMap:_&&It,emissiveMap:ue,normalMapObjectSpace:Xt&&L.normalMapType===iN,normalMapTangentSpace:Xt&&L.normalMapType===Fu,metalnessMap:Zt,roughnessMap:ot,anisotropy:Z,anisotropyMap:fe,clearcoat:Dt,clearcoatMap:Me,clearcoatNormalMap:He,clearcoatRoughnessMap:oe,dispersion:Ft,iridescence:Qt,iridescenceMap:ge,iridescenceThicknessMap:Ae,sheen:Nt,sheenColorMap:De,sheenRoughnessMap:_e,specularMap:Je,specularColorMap:Oe,specularIntensityMap:Ke,transmission:de,transmissionMap:Et,thicknessMap:Gt,gradientMap:jt,opaque:L.transparent===!1&&L.blending===rh&&L.alphaToCoverage===!1,alphaMap:ne,alphaTest:Ee,alphaHash:xe,combine:L.combine,mapUv:Kt&&A(L.map.channel),aoMapUv:et&&A(L.aoMap.channel),lightMapUv:Wt&&A(L.lightMap.channel),bumpMapUv:Ut&&A(L.bumpMap.channel),normalMapUv:Xt&&A(L.normalMap.channel),displacementMapUv:It&&A(L.displacementMap.channel),emissiveMapUv:ue&&A(L.emissiveMap.channel),metalnessMapUv:Zt&&A(L.metalnessMap.channel),roughnessMapUv:ot&&A(L.roughnessMap.channel),anisotropyMapUv:fe&&A(L.anisotropyMap.channel),clearcoatMapUv:Me&&A(L.clearcoatMap.channel),clearcoatNormalMapUv:He&&A(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:oe&&A(L.clearcoatRoughnessMap.channel),iridescenceMapUv:ge&&A(L.iridescenceMap.channel),iridescenceThicknessMapUv:Ae&&A(L.iridescenceThicknessMap.channel),sheenColorMapUv:De&&A(L.sheenColorMap.channel),sheenRoughnessMapUv:_e&&A(L.sheenRoughnessMap.channel),specularMapUv:Je&&A(L.specularMap.channel),specularColorMapUv:Oe&&A(L.specularColorMap.channel),specularIntensityMapUv:Ke&&A(L.specularIntensityMap.channel),transmissionMapUv:Et&&A(L.transmissionMap.channel),thicknessMapUv:Gt&&A(L.thicknessMap.channel),alphaMapUv:ne&&A(L.alphaMap.channel),vertexTangents:!!at.attributes.tangent&&(Xt||Z),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!at.attributes.color&&at.attributes.color.itemSize===4,pointsUvs:tt.isPoints===!0&&!!at.attributes.uv&&(Kt||ne),fog:!!nt,useFog:L.fog===!0,fogExp2:!!nt&&nt.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:xt,skinning:tt.isSkinnedMesh===!0,morphTargets:at.morphAttributes.position!==void 0,morphNormals:at.morphAttributes.normal!==void 0,morphColors:at.morphAttributes.color!==void 0,morphTargetsCount:st,morphTextureStride:ht,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:Vn,decodeVideoTexture:Kt&&L.map.isVideoTexture===!0&&Bn.getTransfer(L.map.colorSpace)===ai,decodeVideoTextureEmissive:ue&&L.emissiveMap.isVideoTexture===!0&&Bn.getTransfer(L.emissiveMap.colorSpace)===ai,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Eo,flipSided:L.side===ws,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:nn&&L.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(nn&&L.extensions.multiDraw===!0||Ht)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return ci.vertexUv1s=p.has(1),ci.vertexUv2s=p.has(2),ci.vertexUv3s=p.has(3),p.clear(),ci}function x(L){const U=[];if(L.shaderID?U.push(L.shaderID):(U.push(L.customVertexShaderID),U.push(L.customFragmentShaderID)),L.defines!==void 0)for(const F in L.defines)U.push(F),U.push(L.defines[F]);return L.isRawShaderMaterial===!1&&(T(U,L),R(U,L),U.push(n.outputColorSpace)),U.push(L.customProgramCacheKey),U.join()}function T(L,U){L.push(U.precision),L.push(U.outputColorSpace),L.push(U.envMapMode),L.push(U.envMapCubeUVHeight),L.push(U.mapUv),L.push(U.alphaMapUv),L.push(U.lightMapUv),L.push(U.aoMapUv),L.push(U.bumpMapUv),L.push(U.normalMapUv),L.push(U.displacementMapUv),L.push(U.emissiveMapUv),L.push(U.metalnessMapUv),L.push(U.roughnessMapUv),L.push(U.anisotropyMapUv),L.push(U.clearcoatMapUv),L.push(U.clearcoatNormalMapUv),L.push(U.clearcoatRoughnessMapUv),L.push(U.iridescenceMapUv),L.push(U.iridescenceThicknessMapUv),L.push(U.sheenColorMapUv),L.push(U.sheenRoughnessMapUv),L.push(U.specularMapUv),L.push(U.specularColorMapUv),L.push(U.specularIntensityMapUv),L.push(U.transmissionMapUv),L.push(U.thicknessMapUv),L.push(U.combine),L.push(U.fogExp2),L.push(U.sizeAttenuation),L.push(U.morphTargetsCount),L.push(U.morphAttributeCount),L.push(U.numDirLights),L.push(U.numPointLights),L.push(U.numSpotLights),L.push(U.numSpotLightMaps),L.push(U.numHemiLights),L.push(U.numRectAreaLights),L.push(U.numDirLightShadows),L.push(U.numPointLightShadows),L.push(U.numSpotLightShadows),L.push(U.numSpotLightShadowsWithMaps),L.push(U.numLightProbes),L.push(U.shadowMapType),L.push(U.toneMapping),L.push(U.numClippingPlanes),L.push(U.numClipIntersection),L.push(U.depthPacking)}function R(L,U){u.disableAll(),U.supportsVertexTextures&&u.enable(0),U.instancing&&u.enable(1),U.instancingColor&&u.enable(2),U.instancingMorph&&u.enable(3),U.matcap&&u.enable(4),U.envMap&&u.enable(5),U.normalMapObjectSpace&&u.enable(6),U.normalMapTangentSpace&&u.enable(7),U.clearcoat&&u.enable(8),U.iridescence&&u.enable(9),U.alphaTest&&u.enable(10),U.vertexColors&&u.enable(11),U.vertexAlphas&&u.enable(12),U.vertexUv1s&&u.enable(13),U.vertexUv2s&&u.enable(14),U.vertexUv3s&&u.enable(15),U.vertexTangents&&u.enable(16),U.anisotropy&&u.enable(17),U.alphaHash&&u.enable(18),U.batching&&u.enable(19),U.dispersion&&u.enable(20),U.batchingColor&&u.enable(21),L.push(u.mask),u.disableAll(),U.fog&&u.enable(0),U.useFog&&u.enable(1),U.flatShading&&u.enable(2),U.logarithmicDepthBuffer&&u.enable(3),U.reverseDepthBuffer&&u.enable(4),U.skinning&&u.enable(5),U.morphTargets&&u.enable(6),U.morphNormals&&u.enable(7),U.morphColors&&u.enable(8),U.premultipliedAlpha&&u.enable(9),U.shadowMapEnabled&&u.enable(10),U.doubleSided&&u.enable(11),U.flipSided&&u.enable(12),U.useDepthPacking&&u.enable(13),U.dithering&&u.enable(14),U.transmission&&u.enable(15),U.sheen&&u.enable(16),U.opaque&&u.enable(17),U.pointsUvs&&u.enable(18),U.decodeVideoTexture&&u.enable(19),U.decodeVideoTextureEmissive&&u.enable(20),U.alphaToCoverage&&u.enable(21),L.push(u.mask)}function O(L){const U=S[L.type];let F;if(U){const K=Mo[U];F=gN.clone(K.uniforms)}else F=L.uniforms;return F}function I(L,U){let F;for(let K=0,tt=m.length;K<tt;K++){const nt=m[K];if(nt.cacheKey===U){F=nt,++F.usedTimes;break}}return F===void 0&&(F=new Fj(n,U,L,a),m.push(F)),F}function P(L){if(--L.usedTimes===0){const U=m.indexOf(L);m[U]=m[m.length-1],m.pop(),L.destroy()}}function B(L){h.remove(L)}function N(){h.dispose()}return{getParameters:M,getProgramCacheKey:x,getUniforms:O,acquireProgram:I,releaseProgram:P,releaseShaderCache:B,programs:m,dispose:N}}function qj(){let n=new WeakMap;function t(l){return n.has(l)}function e(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function r(l,u,h){n.get(l)[u]=h}function a(){n=new WeakMap}return{has:t,get:e,remove:i,update:r,dispose:a}}function Xj(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function vR(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function yR(){const n=[];let t=0;const e=[],i=[],r=[];function a(){t=0,e.length=0,i.length=0,r.length=0}function l(v,_,b,S,A,M){let x=n[t];return x===void 0?(x={id:v.id,object:v,geometry:_,material:b,groupOrder:S,renderOrder:v.renderOrder,z:A,group:M},n[t]=x):(x.id=v.id,x.object=v,x.geometry=_,x.material=b,x.groupOrder=S,x.renderOrder=v.renderOrder,x.z=A,x.group=M),t++,x}function u(v,_,b,S,A,M){const x=l(v,_,b,S,A,M);b.transmission>0?i.push(x):b.transparent===!0?r.push(x):e.push(x)}function h(v,_,b,S,A,M){const x=l(v,_,b,S,A,M);b.transmission>0?i.unshift(x):b.transparent===!0?r.unshift(x):e.unshift(x)}function p(v,_){e.length>1&&e.sort(v||Xj),i.length>1&&i.sort(_||vR),r.length>1&&r.sort(_||vR)}function m(){for(let v=t,_=n.length;v<_;v++){const b=n[v];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:e,transmissive:i,transparent:r,init:a,push:u,unshift:h,finish:m,sort:p}}function Yj(){let n=new WeakMap;function t(i,r){const a=n.get(i);let l;return a===void 0?(l=new yR,n.set(i,[l])):r>=a.length?(l=new yR,a.push(l)):l=a[r],l}function e(){n=new WeakMap}return{get:t,dispose:e}}function Wj(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new ct,color:new Ce};break;case"SpotLight":e={position:new ct,direction:new ct,color:new Ce,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new ct,color:new Ce,distance:0,decay:0};break;case"HemisphereLight":e={direction:new ct,skyColor:new Ce,groundColor:new Ce};break;case"RectAreaLight":e={color:new Ce,position:new ct,halfWidth:new ct,halfHeight:new ct};break}return n[t.id]=e,e}}}function Zj(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ee};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ee};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ee,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let Kj=0;function Qj(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function Jj(n){const t=new Wj,e=Zj(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new ct);const r=new ct,a=new en,l=new en;function u(p){let m=0,v=0,_=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let b=0,S=0,A=0,M=0,x=0,T=0,R=0,O=0,I=0,P=0,B=0;p.sort(Qj);for(let L=0,U=p.length;L<U;L++){const F=p[L],K=F.color,tt=F.intensity,nt=F.distance,at=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)m+=K.r*tt,v+=K.g*tt,_+=K.b*tt;else if(F.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(F.sh.coefficients[H],tt);B++}else if(F.isDirectionalLight){const H=t.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const k=F.shadow,V=e.get(F);V.shadowIntensity=k.intensity,V.shadowBias=k.bias,V.shadowNormalBias=k.normalBias,V.shadowRadius=k.radius,V.shadowMapSize=k.mapSize,i.directionalShadow[b]=V,i.directionalShadowMap[b]=at,i.directionalShadowMatrix[b]=F.shadow.matrix,T++}i.directional[b]=H,b++}else if(F.isSpotLight){const H=t.get(F);H.position.setFromMatrixPosition(F.matrixWorld),H.color.copy(K).multiplyScalar(tt),H.distance=nt,H.coneCos=Math.cos(F.angle),H.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),H.decay=F.decay,i.spot[A]=H;const k=F.shadow;if(F.map&&(i.spotLightMap[I]=F.map,I++,k.updateMatrices(F),F.castShadow&&P++),i.spotLightMatrix[A]=k.matrix,F.castShadow){const V=e.get(F);V.shadowIntensity=k.intensity,V.shadowBias=k.bias,V.shadowNormalBias=k.normalBias,V.shadowRadius=k.radius,V.shadowMapSize=k.mapSize,i.spotShadow[A]=V,i.spotShadowMap[A]=at,O++}A++}else if(F.isRectAreaLight){const H=t.get(F);H.color.copy(K).multiplyScalar(tt),H.halfWidth.set(F.width*.5,0,0),H.halfHeight.set(0,F.height*.5,0),i.rectArea[M]=H,M++}else if(F.isPointLight){const H=t.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),H.distance=F.distance,H.decay=F.decay,F.castShadow){const k=F.shadow,V=e.get(F);V.shadowIntensity=k.intensity,V.shadowBias=k.bias,V.shadowNormalBias=k.normalBias,V.shadowRadius=k.radius,V.shadowMapSize=k.mapSize,V.shadowCameraNear=k.camera.near,V.shadowCameraFar=k.camera.far,i.pointShadow[S]=V,i.pointShadowMap[S]=at,i.pointShadowMatrix[S]=F.shadow.matrix,R++}i.point[S]=H,S++}else if(F.isHemisphereLight){const H=t.get(F);H.skyColor.copy(F.color).multiplyScalar(tt),H.groundColor.copy(F.groundColor).multiplyScalar(tt),i.hemi[x]=H,x++}}M>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=we.LTC_FLOAT_1,i.rectAreaLTC2=we.LTC_FLOAT_2):(i.rectAreaLTC1=we.LTC_HALF_1,i.rectAreaLTC2=we.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=_;const N=i.hash;(N.directionalLength!==b||N.pointLength!==S||N.spotLength!==A||N.rectAreaLength!==M||N.hemiLength!==x||N.numDirectionalShadows!==T||N.numPointShadows!==R||N.numSpotShadows!==O||N.numSpotMaps!==I||N.numLightProbes!==B)&&(i.directional.length=b,i.spot.length=A,i.rectArea.length=M,i.point.length=S,i.hemi.length=x,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=O,i.spotShadowMap.length=O,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=O+I-P,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=B,N.directionalLength=b,N.pointLength=S,N.spotLength=A,N.rectAreaLength=M,N.hemiLength=x,N.numDirectionalShadows=T,N.numPointShadows=R,N.numSpotShadows=O,N.numSpotMaps=I,N.numLightProbes=B,i.version=Kj++)}function h(p,m){let v=0,_=0,b=0,S=0,A=0;const M=m.matrixWorldInverse;for(let x=0,T=p.length;x<T;x++){const R=p[x];if(R.isDirectionalLight){const O=i.directional[v];O.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),O.direction.sub(r),O.direction.transformDirection(M),v++}else if(R.isSpotLight){const O=i.spot[b];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(M),O.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),O.direction.sub(r),O.direction.transformDirection(M),b++}else if(R.isRectAreaLight){const O=i.rectArea[S];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(M),l.identity(),a.copy(R.matrixWorld),a.premultiply(M),l.extractRotation(a),O.halfWidth.set(R.width*.5,0,0),O.halfHeight.set(0,R.height*.5,0),O.halfWidth.applyMatrix4(l),O.halfHeight.applyMatrix4(l),S++}else if(R.isPointLight){const O=i.point[_];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(M),_++}else if(R.isHemisphereLight){const O=i.hemi[A];O.direction.setFromMatrixPosition(R.matrixWorld),O.direction.transformDirection(M),A++}}}return{setup:u,setupView:h,state:i}}function _R(n){const t=new Jj(n),e=[],i=[];function r(m){p.camera=m,e.length=0,i.length=0}function a(m){e.push(m)}function l(m){i.push(m)}function u(){t.setup(e)}function h(m){t.setupView(e,m)}const p={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:p,setupLights:u,setupLightsView:h,pushLight:a,pushShadow:l}}function $j(n){let t=new WeakMap;function e(r,a=0){const l=t.get(r);let u;return l===void 0?(u=new _R(n),t.set(r,[u])):a>=l.length?(u=new _R(n),l.push(u)):u=l[a],u}function i(){t=new WeakMap}return{get:e,dispose:i}}const tq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,eq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nq(n,t,e){let i=new Op;const r=new ee,a=new ee,l=new Gn,u=new _D({depthPacking:nN}),h=new xD,p={},m=e.maxTextureSize,v={[_c]:ws,[ws]:_c,[Eo]:Eo},_=new Ks({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ee},radius:{value:4}},vertexShader:tq,fragmentShader:eq}),b=_.clone();b.defines.HORIZONTAL_PASS=1;const S=new xn;S.setAttribute("position",new li(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Ni(S,_),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rb;let x=this.type;this.render=function(P,B,N){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||P.length===0)return;const L=n.getRenderTarget(),U=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),K=n.state;K.setBlending(bl),K.buffers.color.setClear(1,1,1,1),K.buffers.depth.setTest(!0),K.setScissorTest(!1);const tt=x!==xo&&this.type===xo,nt=x===xo&&this.type!==xo;for(let at=0,H=P.length;at<H;at++){const k=P[at],V=k.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;r.copy(V.mapSize);const Q=V.getFrameExtents();if(r.multiply(Q),a.copy(V.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/Q.x),r.x=a.x*Q.x,V.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/Q.y),r.y=a.y*Q.y,V.mapSize.y=a.y)),V.map===null||tt===!0||nt===!0){const st=this.type!==xo?{minFilter:kr,magFilter:kr}:{};V.map!==null&&V.map.dispose(),V.map=new ka(r.x,r.y,st),V.map.texture.name=k.name+".shadowMap",V.camera.updateProjectionMatrix()}n.setRenderTarget(V.map),n.clear();const j=V.getViewportCount();for(let st=0;st<j;st++){const ht=V.getViewport(st);l.set(a.x*ht.x,a.y*ht.y,a.x*ht.z,a.y*ht.w),K.viewport(l),V.updateMatrices(k,st),i=V.getFrustum(),O(B,N,V.camera,k,this.type)}V.isPointLightShadow!==!0&&this.type===xo&&T(V,N),V.needsUpdate=!1}x=this.type,M.needsUpdate=!1,n.setRenderTarget(L,U,F)};function T(P,B){const N=t.update(A);_.defines.VSM_SAMPLES!==P.blurSamples&&(_.defines.VSM_SAMPLES=P.blurSamples,b.defines.VSM_SAMPLES=P.blurSamples,_.needsUpdate=!0,b.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new ka(r.x,r.y)),_.uniforms.shadow_pass.value=P.map.texture,_.uniforms.resolution.value=P.mapSize,_.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(B,null,N,_,A,null),b.uniforms.shadow_pass.value=P.mapPass.texture,b.uniforms.resolution.value=P.mapSize,b.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(B,null,N,b,A,null)}function R(P,B,N,L){let U=null;const F=N.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(F!==void 0)U=F;else if(U=N.isPointLight===!0?h:u,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const K=U.uuid,tt=B.uuid;let nt=p[K];nt===void 0&&(nt={},p[K]=nt);let at=nt[tt];at===void 0&&(at=U.clone(),nt[tt]=at,B.addEventListener("dispose",I)),U=at}if(U.visible=B.visible,U.wireframe=B.wireframe,L===xo?U.side=B.shadowSide!==null?B.shadowSide:B.side:U.side=B.shadowSide!==null?B.shadowSide:v[B.side],U.alphaMap=B.alphaMap,U.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,U.map=B.map,U.clipShadows=B.clipShadows,U.clippingPlanes=B.clippingPlanes,U.clipIntersection=B.clipIntersection,U.displacementMap=B.displacementMap,U.displacementScale=B.displacementScale,U.displacementBias=B.displacementBias,U.wireframeLinewidth=B.wireframeLinewidth,U.linewidth=B.linewidth,N.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const K=n.properties.get(U);K.light=N}return U}function O(P,B,N,L,U){if(P.visible===!1)return;if(P.layers.test(B.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&U===xo)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,P.matrixWorld);const tt=t.update(P),nt=P.material;if(Array.isArray(nt)){const at=tt.groups;for(let H=0,k=at.length;H<k;H++){const V=at[H],Q=nt[V.materialIndex];if(Q&&Q.visible){const j=R(P,Q,L,U);P.onBeforeShadow(n,P,B,N,tt,j,V),n.renderBufferDirect(N,null,tt,j,P,V),P.onAfterShadow(n,P,B,N,tt,j,V)}}}else if(nt.visible){const at=R(P,nt,L,U);P.onBeforeShadow(n,P,B,N,tt,at,null),n.renderBufferDirect(N,null,tt,at,P,null),P.onAfterShadow(n,P,B,N,tt,at,null)}}const K=P.children;for(let tt=0,nt=K.length;tt<nt;tt++)O(K[tt],B,N,L,U)}function I(P){P.target.removeEventListener("dispose",I);for(const N in p){const L=p[N],U=P.target.uuid;U in L&&(L[U].dispose(),delete L[U])}}}const iq={[Y_]:W_,[Z_]:J_,[K_]:$_,[ch]:Q_,[W_]:Y_,[J_]:Z_,[$_]:K_,[Q_]:ch};function rq(n,t){function e(){let Et=!1;const Gt=new Gn;let jt=null;const ne=new Gn(0,0,0,0);return{setMask:function(Ee){jt!==Ee&&!Et&&(n.colorMask(Ee,Ee,Ee,Ee),jt=Ee)},setLocked:function(Ee){Et=Ee},setClear:function(Ee,xe,nn,Vn,ci){ci===!0&&(Ee*=Vn,xe*=Vn,nn*=Vn),Gt.set(Ee,xe,nn,Vn),ne.equals(Gt)===!1&&(n.clearColor(Ee,xe,nn,Vn),ne.copy(Gt))},reset:function(){Et=!1,jt=null,ne.set(-1,0,0,0)}}}function i(){let Et=!1,Gt=!1,jt=null,ne=null,Ee=null;return{setReversed:function(xe){if(Gt!==xe){const nn=t.get("EXT_clip_control");xe?nn.clipControlEXT(nn.LOWER_LEFT_EXT,nn.ZERO_TO_ONE_EXT):nn.clipControlEXT(nn.LOWER_LEFT_EXT,nn.NEGATIVE_ONE_TO_ONE_EXT),Gt=xe;const Vn=Ee;Ee=null,this.setClear(Vn)}},getReversed:function(){return Gt},setTest:function(xe){xe?pt(n.DEPTH_TEST):xt(n.DEPTH_TEST)},setMask:function(xe){jt!==xe&&!Et&&(n.depthMask(xe),jt=xe)},setFunc:function(xe){if(Gt&&(xe=iq[xe]),ne!==xe){switch(xe){case Y_:n.depthFunc(n.NEVER);break;case W_:n.depthFunc(n.ALWAYS);break;case Z_:n.depthFunc(n.LESS);break;case ch:n.depthFunc(n.LEQUAL);break;case K_:n.depthFunc(n.EQUAL);break;case Q_:n.depthFunc(n.GEQUAL);break;case J_:n.depthFunc(n.GREATER);break;case $_:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ne=xe}},setLocked:function(xe){Et=xe},setClear:function(xe){Ee!==xe&&(Gt&&(xe=1-xe),n.clearDepth(xe),Ee=xe)},reset:function(){Et=!1,jt=null,ne=null,Ee=null,Gt=!1}}}function r(){let Et=!1,Gt=null,jt=null,ne=null,Ee=null,xe=null,nn=null,Vn=null,ci=null;return{setTest:function(Tn){Et||(Tn?pt(n.STENCIL_TEST):xt(n.STENCIL_TEST))},setMask:function(Tn){Gt!==Tn&&!Et&&(n.stencilMask(Tn),Gt=Tn)},setFunc:function(Tn,br,Li){(jt!==Tn||ne!==br||Ee!==Li)&&(n.stencilFunc(Tn,br,Li),jt=Tn,ne=br,Ee=Li)},setOp:function(Tn,br,Li){(xe!==Tn||nn!==br||Vn!==Li)&&(n.stencilOp(Tn,br,Li),xe=Tn,nn=br,Vn=Li)},setLocked:function(Tn){Et=Tn},setClear:function(Tn){ci!==Tn&&(n.clearStencil(Tn),ci=Tn)},reset:function(){Et=!1,Gt=null,jt=null,ne=null,Ee=null,xe=null,nn=null,Vn=null,ci=null}}}const a=new e,l=new i,u=new r,h=new WeakMap,p=new WeakMap;let m={},v={},_=new WeakMap,b=[],S=null,A=!1,M=null,x=null,T=null,R=null,O=null,I=null,P=null,B=new Ce(0,0,0),N=0,L=!1,U=null,F=null,K=null,tt=null,nt=null;const at=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,k=0;const V=n.getParameter(n.VERSION);V.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(V)[1]),H=k>=1):V.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),H=k>=2);let Q=null,j={};const st=n.getParameter(n.SCISSOR_BOX),ht=n.getParameter(n.VIEWPORT),dt=new Gn().fromArray(st),$=new Gn().fromArray(ht);function ft(Et,Gt,jt,ne){const Ee=new Uint8Array(4),xe=n.createTexture();n.bindTexture(Et,xe),n.texParameteri(Et,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Et,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let nn=0;nn<jt;nn++)Et===n.TEXTURE_3D||Et===n.TEXTURE_2D_ARRAY?n.texImage3D(Gt,0,n.RGBA,1,1,ne,0,n.RGBA,n.UNSIGNED_BYTE,Ee):n.texImage2D(Gt+nn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ee);return xe}const lt={};lt[n.TEXTURE_2D]=ft(n.TEXTURE_2D,n.TEXTURE_2D,1),lt[n.TEXTURE_CUBE_MAP]=ft(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),lt[n.TEXTURE_2D_ARRAY]=ft(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),lt[n.TEXTURE_3D]=ft(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),pt(n.DEPTH_TEST),l.setFunc(ch),Ut(!1),Xt(zM),pt(n.CULL_FACE),et(bl);function pt(Et){m[Et]!==!0&&(n.enable(Et),m[Et]=!0)}function xt(Et){m[Et]!==!1&&(n.disable(Et),m[Et]=!1)}function Ct(Et,Gt){return v[Et]!==Gt?(n.bindFramebuffer(Et,Gt),v[Et]=Gt,Et===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Gt),Et===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Gt),!0):!1}function Ht(Et,Gt){let jt=b,ne=!1;if(Et){jt=_.get(Gt),jt===void 0&&(jt=[],_.set(Gt,jt));const Ee=Et.textures;if(jt.length!==Ee.length||jt[0]!==n.COLOR_ATTACHMENT0){for(let xe=0,nn=Ee.length;xe<nn;xe++)jt[xe]=n.COLOR_ATTACHMENT0+xe;jt.length=Ee.length,ne=!0}}else jt[0]!==n.BACK&&(jt[0]=n.BACK,ne=!0);ne&&n.drawBuffers(jt)}function Kt(Et){return S!==Et?(n.useProgram(Et),S=Et,!0):!1}const le={[wu]:n.FUNC_ADD,[AO]:n.FUNC_SUBTRACT,[TO]:n.FUNC_REVERSE_SUBTRACT};le[wO]=n.MIN,le[RO]=n.MAX;const ce={[CO]:n.ZERO,[OO]:n.ONE,[NO]:n.SRC_COLOR,[q_]:n.SRC_ALPHA,[BO]:n.SRC_ALPHA_SATURATE,[IO]:n.DST_COLOR,[UO]:n.DST_ALPHA,[LO]:n.ONE_MINUS_SRC_COLOR,[X_]:n.ONE_MINUS_SRC_ALPHA,[zO]:n.ONE_MINUS_DST_COLOR,[PO]:n.ONE_MINUS_DST_ALPHA,[HO]:n.CONSTANT_COLOR,[FO]:n.ONE_MINUS_CONSTANT_COLOR,[VO]:n.CONSTANT_ALPHA,[kO]:n.ONE_MINUS_CONSTANT_ALPHA};function et(Et,Gt,jt,ne,Ee,xe,nn,Vn,ci,Tn){if(Et===bl){A===!0&&(xt(n.BLEND),A=!1);return}if(A===!1&&(pt(n.BLEND),A=!0),Et!==DO){if(Et!==M||Tn!==L){if((x!==wu||O!==wu)&&(n.blendEquation(n.FUNC_ADD),x=wu,O=wu),Tn)switch(Et){case rh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case BM:n.blendFunc(n.ONE,n.ONE);break;case HM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case FM:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Et);break}else switch(Et){case rh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case BM:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case HM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case FM:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Et);break}T=null,R=null,I=null,P=null,B.set(0,0,0),N=0,M=Et,L=Tn}return}Ee=Ee||Gt,xe=xe||jt,nn=nn||ne,(Gt!==x||Ee!==O)&&(n.blendEquationSeparate(le[Gt],le[Ee]),x=Gt,O=Ee),(jt!==T||ne!==R||xe!==I||nn!==P)&&(n.blendFuncSeparate(ce[jt],ce[ne],ce[xe],ce[nn]),T=jt,R=ne,I=xe,P=nn),(Vn.equals(B)===!1||ci!==N)&&(n.blendColor(Vn.r,Vn.g,Vn.b,ci),B.copy(Vn),N=ci),M=Et,L=!1}function Wt(Et,Gt){Et.side===Eo?xt(n.CULL_FACE):pt(n.CULL_FACE);let jt=Et.side===ws;Gt&&(jt=!jt),Ut(jt),Et.blending===rh&&Et.transparent===!1?et(bl):et(Et.blending,Et.blendEquation,Et.blendSrc,Et.blendDst,Et.blendEquationAlpha,Et.blendSrcAlpha,Et.blendDstAlpha,Et.blendColor,Et.blendAlpha,Et.premultipliedAlpha),l.setFunc(Et.depthFunc),l.setTest(Et.depthTest),l.setMask(Et.depthWrite),a.setMask(Et.colorWrite);const ne=Et.stencilWrite;u.setTest(ne),ne&&(u.setMask(Et.stencilWriteMask),u.setFunc(Et.stencilFunc,Et.stencilRef,Et.stencilFuncMask),u.setOp(Et.stencilFail,Et.stencilZFail,Et.stencilZPass)),ue(Et.polygonOffset,Et.polygonOffsetFactor,Et.polygonOffsetUnits),Et.alphaToCoverage===!0?pt(n.SAMPLE_ALPHA_TO_COVERAGE):xt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ut(Et){U!==Et&&(Et?n.frontFace(n.CW):n.frontFace(n.CCW),U=Et)}function Xt(Et){Et!==SO?(pt(n.CULL_FACE),Et!==F&&(Et===zM?n.cullFace(n.BACK):Et===MO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):xt(n.CULL_FACE),F=Et}function It(Et){Et!==K&&(H&&n.lineWidth(Et),K=Et)}function ue(Et,Gt,jt){Et?(pt(n.POLYGON_OFFSET_FILL),(tt!==Gt||nt!==jt)&&(n.polygonOffset(Gt,jt),tt=Gt,nt=jt)):xt(n.POLYGON_OFFSET_FILL)}function Zt(Et){Et?pt(n.SCISSOR_TEST):xt(n.SCISSOR_TEST)}function ot(Et){Et===void 0&&(Et=n.TEXTURE0+at-1),Q!==Et&&(n.activeTexture(Et),Q=Et)}function Z(Et,Gt,jt){jt===void 0&&(Q===null?jt=n.TEXTURE0+at-1:jt=Q);let ne=j[jt];ne===void 0&&(ne={type:void 0,texture:void 0},j[jt]=ne),(ne.type!==Et||ne.texture!==Gt)&&(Q!==jt&&(n.activeTexture(jt),Q=jt),n.bindTexture(Et,Gt||lt[Et]),ne.type=Et,ne.texture=Gt)}function Dt(){const Et=j[Q];Et!==void 0&&Et.type!==void 0&&(n.bindTexture(Et.type,null),Et.type=void 0,Et.texture=void 0)}function Ft(){try{n.compressedTexImage2D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function Qt(){try{n.compressedTexImage3D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function Nt(){try{n.texSubImage2D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function de(){try{n.texSubImage3D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function fe(){try{n.compressedTexSubImage2D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function Me(){try{n.compressedTexSubImage3D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function He(){try{n.texStorage2D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function oe(){try{n.texStorage3D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function ge(){try{n.texImage2D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function Ae(){try{n.texImage3D(...arguments)}catch(Et){console.error("THREE.WebGLState:",Et)}}function De(Et){dt.equals(Et)===!1&&(n.scissor(Et.x,Et.y,Et.z,Et.w),dt.copy(Et))}function _e(Et){$.equals(Et)===!1&&(n.viewport(Et.x,Et.y,Et.z,Et.w),$.copy(Et))}function Je(Et,Gt){let jt=p.get(Gt);jt===void 0&&(jt=new WeakMap,p.set(Gt,jt));let ne=jt.get(Et);ne===void 0&&(ne=n.getUniformBlockIndex(Gt,Et.name),jt.set(Et,ne))}function Oe(Et,Gt){const ne=p.get(Gt).get(Et);h.get(Gt)!==ne&&(n.uniformBlockBinding(Gt,ne,Et.__bindingPointIndex),h.set(Gt,ne))}function Ke(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},Q=null,j={},v={},_=new WeakMap,b=[],S=null,A=!1,M=null,x=null,T=null,R=null,O=null,I=null,P=null,B=new Ce(0,0,0),N=0,L=!1,U=null,F=null,K=null,tt=null,nt=null,dt.set(0,0,n.canvas.width,n.canvas.height),$.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:pt,disable:xt,bindFramebuffer:Ct,drawBuffers:Ht,useProgram:Kt,setBlending:et,setMaterial:Wt,setFlipSided:Ut,setCullFace:Xt,setLineWidth:It,setPolygonOffset:ue,setScissorTest:Zt,activeTexture:ot,bindTexture:Z,unbindTexture:Dt,compressedTexImage2D:Ft,compressedTexImage3D:Qt,texImage2D:ge,texImage3D:Ae,updateUBOMapping:Je,uniformBlockBinding:Oe,texStorage2D:He,texStorage3D:oe,texSubImage2D:Nt,texSubImage3D:de,compressedTexSubImage2D:fe,compressedTexSubImage3D:Me,scissor:De,viewport:_e,reset:Ke}}function sq(n,t,e,i,r,a,l){const u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new ee,m=new WeakMap;let v;const _=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(ot,Z){return b?new OffscreenCanvas(ot,Z):ev("canvas")}function A(ot,Z,Dt){let Ft=1;const Qt=Zt(ot);if((Qt.width>Dt||Qt.height>Dt)&&(Ft=Dt/Math.max(Qt.width,Qt.height)),Ft<1)if(typeof HTMLImageElement<"u"&&ot instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ot instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ot instanceof ImageBitmap||typeof VideoFrame<"u"&&ot instanceof VideoFrame){const Nt=Math.floor(Ft*Qt.width),de=Math.floor(Ft*Qt.height);v===void 0&&(v=S(Nt,de));const fe=Z?S(Nt,de):v;return fe.width=Nt,fe.height=de,fe.getContext("2d").drawImage(ot,0,0,Nt,de),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Qt.width+"x"+Qt.height+") to ("+Nt+"x"+de+")."),fe}else return"data"in ot&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Qt.width+"x"+Qt.height+")."),ot;return ot}function M(ot){return ot.generateMipmaps}function x(ot){n.generateMipmap(ot)}function T(ot){return ot.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ot.isWebGL3DRenderTarget?n.TEXTURE_3D:ot.isWebGLArrayRenderTarget||ot.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function R(ot,Z,Dt,Ft,Qt=!1){if(ot!==null){if(n[ot]!==void 0)return n[ot];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ot+"'")}let Nt=Z;if(Z===n.RED&&(Dt===n.FLOAT&&(Nt=n.R32F),Dt===n.HALF_FLOAT&&(Nt=n.R16F),Dt===n.UNSIGNED_BYTE&&(Nt=n.R8)),Z===n.RED_INTEGER&&(Dt===n.UNSIGNED_BYTE&&(Nt=n.R8UI),Dt===n.UNSIGNED_SHORT&&(Nt=n.R16UI),Dt===n.UNSIGNED_INT&&(Nt=n.R32UI),Dt===n.BYTE&&(Nt=n.R8I),Dt===n.SHORT&&(Nt=n.R16I),Dt===n.INT&&(Nt=n.R32I)),Z===n.RG&&(Dt===n.FLOAT&&(Nt=n.RG32F),Dt===n.HALF_FLOAT&&(Nt=n.RG16F),Dt===n.UNSIGNED_BYTE&&(Nt=n.RG8)),Z===n.RG_INTEGER&&(Dt===n.UNSIGNED_BYTE&&(Nt=n.RG8UI),Dt===n.UNSIGNED_SHORT&&(Nt=n.RG16UI),Dt===n.UNSIGNED_INT&&(Nt=n.RG32UI),Dt===n.BYTE&&(Nt=n.RG8I),Dt===n.SHORT&&(Nt=n.RG16I),Dt===n.INT&&(Nt=n.RG32I)),Z===n.RGB_INTEGER&&(Dt===n.UNSIGNED_BYTE&&(Nt=n.RGB8UI),Dt===n.UNSIGNED_SHORT&&(Nt=n.RGB16UI),Dt===n.UNSIGNED_INT&&(Nt=n.RGB32UI),Dt===n.BYTE&&(Nt=n.RGB8I),Dt===n.SHORT&&(Nt=n.RGB16I),Dt===n.INT&&(Nt=n.RGB32I)),Z===n.RGBA_INTEGER&&(Dt===n.UNSIGNED_BYTE&&(Nt=n.RGBA8UI),Dt===n.UNSIGNED_SHORT&&(Nt=n.RGBA16UI),Dt===n.UNSIGNED_INT&&(Nt=n.RGBA32UI),Dt===n.BYTE&&(Nt=n.RGBA8I),Dt===n.SHORT&&(Nt=n.RGBA16I),Dt===n.INT&&(Nt=n.RGBA32I)),Z===n.RGB&&Dt===n.UNSIGNED_INT_5_9_9_9_REV&&(Nt=n.RGB9_E5),Z===n.RGBA){const de=Qt?Jg:Bn.getTransfer(Ft);Dt===n.FLOAT&&(Nt=n.RGBA32F),Dt===n.HALF_FLOAT&&(Nt=n.RGBA16F),Dt===n.UNSIGNED_BYTE&&(Nt=de===ai?n.SRGB8_ALPHA8:n.RGBA8),Dt===n.UNSIGNED_SHORT_4_4_4_4&&(Nt=n.RGBA4),Dt===n.UNSIGNED_SHORT_5_5_5_1&&(Nt=n.RGB5_A1)}return(Nt===n.R16F||Nt===n.R32F||Nt===n.RG16F||Nt===n.RG32F||Nt===n.RGBA16F||Nt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Nt}function O(ot,Z){let Dt;return ot?Z===null||Z===Dl||Z===fp?Dt=n.DEPTH24_STENCIL8:Z===ki?Dt=n.DEPTH32F_STENCIL8:Z===up&&(Dt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Dl||Z===fp?Dt=n.DEPTH_COMPONENT24:Z===ki?Dt=n.DEPTH_COMPONENT32F:Z===up&&(Dt=n.DEPTH_COMPONENT16),Dt}function I(ot,Z){return M(ot)===!0||ot.isFramebufferTexture&&ot.minFilter!==kr&&ot.minFilter!==oi?Math.log2(Math.max(Z.width,Z.height))+1:ot.mipmaps!==void 0&&ot.mipmaps.length>0?ot.mipmaps.length:ot.isCompressedTexture&&Array.isArray(ot.image)?Z.mipmaps.length:1}function P(ot){const Z=ot.target;Z.removeEventListener("dispose",P),N(Z),Z.isVideoTexture&&m.delete(Z)}function B(ot){const Z=ot.target;Z.removeEventListener("dispose",B),U(Z)}function N(ot){const Z=i.get(ot);if(Z.__webglInit===void 0)return;const Dt=ot.source,Ft=_.get(Dt);if(Ft){const Qt=Ft[Z.__cacheKey];Qt.usedTimes--,Qt.usedTimes===0&&L(ot),Object.keys(Ft).length===0&&_.delete(Dt)}i.remove(ot)}function L(ot){const Z=i.get(ot);n.deleteTexture(Z.__webglTexture);const Dt=ot.source,Ft=_.get(Dt);delete Ft[Z.__cacheKey],l.memory.textures--}function U(ot){const Z=i.get(ot);if(ot.depthTexture&&(ot.depthTexture.dispose(),i.remove(ot.depthTexture)),ot.isWebGLCubeRenderTarget)for(let Ft=0;Ft<6;Ft++){if(Array.isArray(Z.__webglFramebuffer[Ft]))for(let Qt=0;Qt<Z.__webglFramebuffer[Ft].length;Qt++)n.deleteFramebuffer(Z.__webglFramebuffer[Ft][Qt]);else n.deleteFramebuffer(Z.__webglFramebuffer[Ft]);Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[Ft])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Ft=0;Ft<Z.__webglFramebuffer.length;Ft++)n.deleteFramebuffer(Z.__webglFramebuffer[Ft]);else n.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Ft=0;Ft<Z.__webglColorRenderbuffer.length;Ft++)Z.__webglColorRenderbuffer[Ft]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[Ft]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const Dt=ot.textures;for(let Ft=0,Qt=Dt.length;Ft<Qt;Ft++){const Nt=i.get(Dt[Ft]);Nt.__webglTexture&&(n.deleteTexture(Nt.__webglTexture),l.memory.textures--),i.remove(Dt[Ft])}i.remove(ot)}let F=0;function K(){F=0}function tt(){const ot=F;return ot>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ot+" texture units while this GPU supports only "+r.maxTextures),F+=1,ot}function nt(ot){const Z=[];return Z.push(ot.wrapS),Z.push(ot.wrapT),Z.push(ot.wrapR||0),Z.push(ot.magFilter),Z.push(ot.minFilter),Z.push(ot.anisotropy),Z.push(ot.internalFormat),Z.push(ot.format),Z.push(ot.type),Z.push(ot.generateMipmaps),Z.push(ot.premultiplyAlpha),Z.push(ot.flipY),Z.push(ot.unpackAlignment),Z.push(ot.colorSpace),Z.join()}function at(ot,Z){const Dt=i.get(ot);if(ot.isVideoTexture&&It(ot),ot.isRenderTargetTexture===!1&&ot.version>0&&Dt.__version!==ot.version){const Ft=ot.image;if(Ft===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ft.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$(Dt,ot,Z);return}}e.bindTexture(n.TEXTURE_2D,Dt.__webglTexture,n.TEXTURE0+Z)}function H(ot,Z){const Dt=i.get(ot);if(ot.version>0&&Dt.__version!==ot.version){$(Dt,ot,Z);return}e.bindTexture(n.TEXTURE_2D_ARRAY,Dt.__webglTexture,n.TEXTURE0+Z)}function k(ot,Z){const Dt=i.get(ot);if(ot.version>0&&Dt.__version!==ot.version){$(Dt,ot,Z);return}e.bindTexture(n.TEXTURE_3D,Dt.__webglTexture,n.TEXTURE0+Z)}function V(ot,Z){const Dt=i.get(ot);if(ot.version>0&&Dt.__version!==ot.version){ft(Dt,ot,Z);return}e.bindTexture(n.TEXTURE_CUBE_MAP,Dt.__webglTexture,n.TEXTURE0+Z)}const Q={[Wg]:n.REPEAT,[or]:n.CLAMP_TO_EDGE,[Zg]:n.MIRRORED_REPEAT},j={[kr]:n.NEAREST,[KE]:n.NEAREST_MIPMAP_NEAREST,[Qd]:n.NEAREST_MIPMAP_LINEAR,[oi]:n.LINEAR,[Rg]:n.LINEAR_MIPMAP_NEAREST,[_l]:n.LINEAR_MIPMAP_LINEAR},st={[rN]:n.NEVER,[uN]:n.ALWAYS,[sN]:n.LESS,[iD]:n.LEQUAL,[aN]:n.EQUAL,[cN]:n.GEQUAL,[oN]:n.GREATER,[lN]:n.NOTEQUAL};function ht(ot,Z){if(Z.type===ki&&t.has("OES_texture_float_linear")===!1&&(Z.magFilter===oi||Z.magFilter===Rg||Z.magFilter===Qd||Z.magFilter===_l||Z.minFilter===oi||Z.minFilter===Rg||Z.minFilter===Qd||Z.minFilter===_l)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ot,n.TEXTURE_WRAP_S,Q[Z.wrapS]),n.texParameteri(ot,n.TEXTURE_WRAP_T,Q[Z.wrapT]),(ot===n.TEXTURE_3D||ot===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ot,n.TEXTURE_WRAP_R,Q[Z.wrapR]),n.texParameteri(ot,n.TEXTURE_MAG_FILTER,j[Z.magFilter]),n.texParameteri(ot,n.TEXTURE_MIN_FILTER,j[Z.minFilter]),Z.compareFunction&&(n.texParameteri(ot,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ot,n.TEXTURE_COMPARE_FUNC,st[Z.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===kr||Z.minFilter!==Qd&&Z.minFilter!==_l||Z.type===ki&&t.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||i.get(Z).__currentAnisotropy){const Dt=t.get("EXT_texture_filter_anisotropic");n.texParameterf(ot,Dt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,r.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy}}}function dt(ot,Z){let Dt=!1;ot.__webglInit===void 0&&(ot.__webglInit=!0,Z.addEventListener("dispose",P));const Ft=Z.source;let Qt=_.get(Ft);Qt===void 0&&(Qt={},_.set(Ft,Qt));const Nt=nt(Z);if(Nt!==ot.__cacheKey){Qt[Nt]===void 0&&(Qt[Nt]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,Dt=!0),Qt[Nt].usedTimes++;const de=Qt[ot.__cacheKey];de!==void 0&&(Qt[ot.__cacheKey].usedTimes--,de.usedTimes===0&&L(Z)),ot.__cacheKey=Nt,ot.__webglTexture=Qt[Nt].texture}return Dt}function $(ot,Z,Dt){let Ft=n.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Ft=n.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Ft=n.TEXTURE_3D);const Qt=dt(ot,Z),Nt=Z.source;e.bindTexture(Ft,ot.__webglTexture,n.TEXTURE0+Dt);const de=i.get(Nt);if(Nt.version!==de.__version||Qt===!0){e.activeTexture(n.TEXTURE0+Dt);const fe=Bn.getPrimaries(Bn.workingColorSpace),Me=Z.colorSpace===cc?null:Bn.getPrimaries(Z.colorSpace),He=Z.colorSpace===cc||fe===Me?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);let oe=A(Z.image,!1,r.maxTextureSize);oe=ue(Z,oe);const ge=a.convert(Z.format,Z.colorSpace),Ae=a.convert(Z.type);let De=R(Z.internalFormat,ge,Ae,Z.colorSpace,Z.isVideoTexture);ht(Ft,Z);let _e;const Je=Z.mipmaps,Oe=Z.isVideoTexture!==!0,Ke=de.__version===void 0||Qt===!0,Et=Nt.dataReady,Gt=I(Z,oe);if(Z.isDepthTexture)De=O(Z.format===dp,Z.type),Ke&&(Oe?e.texStorage2D(n.TEXTURE_2D,1,De,oe.width,oe.height):e.texImage2D(n.TEXTURE_2D,0,De,oe.width,oe.height,0,ge,Ae,null));else if(Z.isDataTexture)if(Je.length>0){Oe&&Ke&&e.texStorage2D(n.TEXTURE_2D,Gt,De,Je[0].width,Je[0].height);for(let jt=0,ne=Je.length;jt<ne;jt++)_e=Je[jt],Oe?Et&&e.texSubImage2D(n.TEXTURE_2D,jt,0,0,_e.width,_e.height,ge,Ae,_e.data):e.texImage2D(n.TEXTURE_2D,jt,De,_e.width,_e.height,0,ge,Ae,_e.data);Z.generateMipmaps=!1}else Oe?(Ke&&e.texStorage2D(n.TEXTURE_2D,Gt,De,oe.width,oe.height),Et&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,oe.width,oe.height,ge,Ae,oe.data)):e.texImage2D(n.TEXTURE_2D,0,De,oe.width,oe.height,0,ge,Ae,oe.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){Oe&&Ke&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Gt,De,Je[0].width,Je[0].height,oe.depth);for(let jt=0,ne=Je.length;jt<ne;jt++)if(_e=Je[jt],Z.format!==$i)if(ge!==null)if(Oe){if(Et)if(Z.layerUpdates.size>0){const Ee=QM(_e.width,_e.height,Z.format,Z.type);for(const xe of Z.layerUpdates){const nn=_e.data.subarray(xe*Ee/_e.data.BYTES_PER_ELEMENT,(xe+1)*Ee/_e.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,jt,0,0,xe,_e.width,_e.height,1,ge,nn)}Z.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,jt,0,0,0,_e.width,_e.height,oe.depth,ge,_e.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,jt,De,_e.width,_e.height,oe.depth,0,_e.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Oe?Et&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,jt,0,0,0,_e.width,_e.height,oe.depth,ge,Ae,_e.data):e.texImage3D(n.TEXTURE_2D_ARRAY,jt,De,_e.width,_e.height,oe.depth,0,ge,Ae,_e.data)}else{Oe&&Ke&&e.texStorage2D(n.TEXTURE_2D,Gt,De,Je[0].width,Je[0].height);for(let jt=0,ne=Je.length;jt<ne;jt++)_e=Je[jt],Z.format!==$i?ge!==null?Oe?Et&&e.compressedTexSubImage2D(n.TEXTURE_2D,jt,0,0,_e.width,_e.height,ge,_e.data):e.compressedTexImage2D(n.TEXTURE_2D,jt,De,_e.width,_e.height,0,_e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?Et&&e.texSubImage2D(n.TEXTURE_2D,jt,0,0,_e.width,_e.height,ge,Ae,_e.data):e.texImage2D(n.TEXTURE_2D,jt,De,_e.width,_e.height,0,ge,Ae,_e.data)}else if(Z.isDataArrayTexture)if(Oe){if(Ke&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Gt,De,oe.width,oe.height,oe.depth),Et)if(Z.layerUpdates.size>0){const jt=QM(oe.width,oe.height,Z.format,Z.type);for(const ne of Z.layerUpdates){const Ee=oe.data.subarray(ne*jt/oe.data.BYTES_PER_ELEMENT,(ne+1)*jt/oe.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ne,oe.width,oe.height,1,ge,Ae,Ee)}Z.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,oe.width,oe.height,oe.depth,ge,Ae,oe.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,De,oe.width,oe.height,oe.depth,0,ge,Ae,oe.data);else if(Z.isData3DTexture)Oe?(Ke&&e.texStorage3D(n.TEXTURE_3D,Gt,De,oe.width,oe.height,oe.depth),Et&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,oe.width,oe.height,oe.depth,ge,Ae,oe.data)):e.texImage3D(n.TEXTURE_3D,0,De,oe.width,oe.height,oe.depth,0,ge,Ae,oe.data);else if(Z.isFramebufferTexture){if(Ke)if(Oe)e.texStorage2D(n.TEXTURE_2D,Gt,De,oe.width,oe.height);else{let jt=oe.width,ne=oe.height;for(let Ee=0;Ee<Gt;Ee++)e.texImage2D(n.TEXTURE_2D,Ee,De,jt,ne,0,ge,Ae,null),jt>>=1,ne>>=1}}else if(Je.length>0){if(Oe&&Ke){const jt=Zt(Je[0]);e.texStorage2D(n.TEXTURE_2D,Gt,De,jt.width,jt.height)}for(let jt=0,ne=Je.length;jt<ne;jt++)_e=Je[jt],Oe?Et&&e.texSubImage2D(n.TEXTURE_2D,jt,0,0,ge,Ae,_e):e.texImage2D(n.TEXTURE_2D,jt,De,ge,Ae,_e);Z.generateMipmaps=!1}else if(Oe){if(Ke){const jt=Zt(oe);e.texStorage2D(n.TEXTURE_2D,Gt,De,jt.width,jt.height)}Et&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,ge,Ae,oe)}else e.texImage2D(n.TEXTURE_2D,0,De,ge,Ae,oe);M(Z)&&x(Ft),de.__version=Nt.version,Z.onUpdate&&Z.onUpdate(Z)}ot.__version=Z.version}function ft(ot,Z,Dt){if(Z.image.length!==6)return;const Ft=dt(ot,Z),Qt=Z.source;e.bindTexture(n.TEXTURE_CUBE_MAP,ot.__webglTexture,n.TEXTURE0+Dt);const Nt=i.get(Qt);if(Qt.version!==Nt.__version||Ft===!0){e.activeTexture(n.TEXTURE0+Dt);const de=Bn.getPrimaries(Bn.workingColorSpace),fe=Z.colorSpace===cc?null:Bn.getPrimaries(Z.colorSpace),Me=Z.colorSpace===cc||de===fe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Me);const He=Z.isCompressedTexture||Z.image[0].isCompressedTexture,oe=Z.image[0]&&Z.image[0].isDataTexture,ge=[];for(let ne=0;ne<6;ne++)!He&&!oe?ge[ne]=A(Z.image[ne],!0,r.maxCubemapSize):ge[ne]=oe?Z.image[ne].image:Z.image[ne],ge[ne]=ue(Z,ge[ne]);const Ae=ge[0],De=a.convert(Z.format,Z.colorSpace),_e=a.convert(Z.type),Je=R(Z.internalFormat,De,_e,Z.colorSpace),Oe=Z.isVideoTexture!==!0,Ke=Nt.__version===void 0||Ft===!0,Et=Qt.dataReady;let Gt=I(Z,Ae);ht(n.TEXTURE_CUBE_MAP,Z);let jt;if(He){Oe&&Ke&&e.texStorage2D(n.TEXTURE_CUBE_MAP,Gt,Je,Ae.width,Ae.height);for(let ne=0;ne<6;ne++){jt=ge[ne].mipmaps;for(let Ee=0;Ee<jt.length;Ee++){const xe=jt[Ee];Z.format!==$i?De!==null?Oe?Et&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee,0,0,xe.width,xe.height,De,xe.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee,Je,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Oe?Et&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee,0,0,xe.width,xe.height,De,_e,xe.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee,Je,xe.width,xe.height,0,De,_e,xe.data)}}}else{if(jt=Z.mipmaps,Oe&&Ke){jt.length>0&&Gt++;const ne=Zt(ge[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,Gt,Je,ne.width,ne.height)}for(let ne=0;ne<6;ne++)if(oe){Oe?Et&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,ge[ne].width,ge[ne].height,De,_e,ge[ne].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,Je,ge[ne].width,ge[ne].height,0,De,_e,ge[ne].data);for(let Ee=0;Ee<jt.length;Ee++){const nn=jt[Ee].image[ne].image;Oe?Et&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee+1,0,0,nn.width,nn.height,De,_e,nn.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee+1,Je,nn.width,nn.height,0,De,_e,nn.data)}}else{Oe?Et&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,De,_e,ge[ne]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,Je,De,_e,ge[ne]);for(let Ee=0;Ee<jt.length;Ee++){const xe=jt[Ee];Oe?Et&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee+1,0,0,De,_e,xe.image[ne]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ee+1,Je,De,_e,xe.image[ne])}}}M(Z)&&x(n.TEXTURE_CUBE_MAP),Nt.__version=Qt.version,Z.onUpdate&&Z.onUpdate(Z)}ot.__version=Z.version}function lt(ot,Z,Dt,Ft,Qt,Nt){const de=a.convert(Dt.format,Dt.colorSpace),fe=a.convert(Dt.type),Me=R(Dt.internalFormat,de,fe,Dt.colorSpace),He=i.get(Z),oe=i.get(Dt);if(oe.__renderTarget=Z,!He.__hasExternalTextures){const ge=Math.max(1,Z.width>>Nt),Ae=Math.max(1,Z.height>>Nt);Qt===n.TEXTURE_3D||Qt===n.TEXTURE_2D_ARRAY?e.texImage3D(Qt,Nt,Me,ge,Ae,Z.depth,0,de,fe,null):e.texImage2D(Qt,Nt,Me,ge,Ae,0,de,fe,null)}e.bindFramebuffer(n.FRAMEBUFFER,ot),Xt(Z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ft,Qt,oe.__webglTexture,0,Ut(Z)):(Qt===n.TEXTURE_2D||Qt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Qt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ft,Qt,oe.__webglTexture,Nt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function pt(ot,Z,Dt){if(n.bindRenderbuffer(n.RENDERBUFFER,ot),Z.depthBuffer){const Ft=Z.depthTexture,Qt=Ft&&Ft.isDepthTexture?Ft.type:null,Nt=O(Z.stencilBuffer,Qt),de=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=Ut(Z);Xt(Z)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,fe,Nt,Z.width,Z.height):Dt?n.renderbufferStorageMultisample(n.RENDERBUFFER,fe,Nt,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,Nt,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,de,n.RENDERBUFFER,ot)}else{const Ft=Z.textures;for(let Qt=0;Qt<Ft.length;Qt++){const Nt=Ft[Qt],de=a.convert(Nt.format,Nt.colorSpace),fe=a.convert(Nt.type),Me=R(Nt.internalFormat,de,fe,Nt.colorSpace),He=Ut(Z);Dt&&Xt(Z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,He,Me,Z.width,Z.height):Xt(Z)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,He,Me,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,Me,Z.width,Z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function xt(ot,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,ot),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ft=i.get(Z.depthTexture);Ft.__renderTarget=Z,(!Ft.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),at(Z.depthTexture,0);const Qt=Ft.__webglTexture,Nt=Ut(Z);if(Z.depthTexture.format===hp)Xt(Z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qt,0,Nt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qt,0);else if(Z.depthTexture.format===dp)Xt(Z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qt,0,Nt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qt,0);else throw new Error("Unknown depthTexture format")}function Ct(ot){const Z=i.get(ot),Dt=ot.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==ot.depthTexture){const Ft=ot.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Ft){const Qt=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Ft.removeEventListener("dispose",Qt)};Ft.addEventListener("dispose",Qt),Z.__depthDisposeCallback=Qt}Z.__boundDepthTexture=Ft}if(ot.depthTexture&&!Z.__autoAllocateDepthBuffer){if(Dt)throw new Error("target.depthTexture not supported in Cube render targets");const Ft=ot.texture.mipmaps;Ft&&Ft.length>0?xt(Z.__webglFramebuffer[0],ot):xt(Z.__webglFramebuffer,ot)}else if(Dt){Z.__webglDepthbuffer=[];for(let Ft=0;Ft<6;Ft++)if(e.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[Ft]),Z.__webglDepthbuffer[Ft]===void 0)Z.__webglDepthbuffer[Ft]=n.createRenderbuffer(),pt(Z.__webglDepthbuffer[Ft],ot,!1);else{const Qt=ot.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Nt=Z.__webglDepthbuffer[Ft];n.bindRenderbuffer(n.RENDERBUFFER,Nt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qt,n.RENDERBUFFER,Nt)}}else{const Ft=ot.texture.mipmaps;if(Ft&&Ft.length>0?e.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[0]):e.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=n.createRenderbuffer(),pt(Z.__webglDepthbuffer,ot,!1);else{const Qt=ot.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Nt=Z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Nt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qt,n.RENDERBUFFER,Nt)}}e.bindFramebuffer(n.FRAMEBUFFER,null)}function Ht(ot,Z,Dt){const Ft=i.get(ot);Z!==void 0&&lt(Ft.__webglFramebuffer,ot,ot.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Dt!==void 0&&Ct(ot)}function Kt(ot){const Z=ot.texture,Dt=i.get(ot),Ft=i.get(Z);ot.addEventListener("dispose",B);const Qt=ot.textures,Nt=ot.isWebGLCubeRenderTarget===!0,de=Qt.length>1;if(de||(Ft.__webglTexture===void 0&&(Ft.__webglTexture=n.createTexture()),Ft.__version=Z.version,l.memory.textures++),Nt){Dt.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)if(Z.mipmaps&&Z.mipmaps.length>0){Dt.__webglFramebuffer[fe]=[];for(let Me=0;Me<Z.mipmaps.length;Me++)Dt.__webglFramebuffer[fe][Me]=n.createFramebuffer()}else Dt.__webglFramebuffer[fe]=n.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){Dt.__webglFramebuffer=[];for(let fe=0;fe<Z.mipmaps.length;fe++)Dt.__webglFramebuffer[fe]=n.createFramebuffer()}else Dt.__webglFramebuffer=n.createFramebuffer();if(de)for(let fe=0,Me=Qt.length;fe<Me;fe++){const He=i.get(Qt[fe]);He.__webglTexture===void 0&&(He.__webglTexture=n.createTexture(),l.memory.textures++)}if(ot.samples>0&&Xt(ot)===!1){Dt.__webglMultisampledFramebuffer=n.createFramebuffer(),Dt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,Dt.__webglMultisampledFramebuffer);for(let fe=0;fe<Qt.length;fe++){const Me=Qt[fe];Dt.__webglColorRenderbuffer[fe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Dt.__webglColorRenderbuffer[fe]);const He=a.convert(Me.format,Me.colorSpace),oe=a.convert(Me.type),ge=R(Me.internalFormat,He,oe,Me.colorSpace,ot.isXRRenderTarget===!0),Ae=Ut(ot);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ae,ge,ot.width,ot.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+fe,n.RENDERBUFFER,Dt.__webglColorRenderbuffer[fe])}n.bindRenderbuffer(n.RENDERBUFFER,null),ot.depthBuffer&&(Dt.__webglDepthRenderbuffer=n.createRenderbuffer(),pt(Dt.__webglDepthRenderbuffer,ot,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Nt){e.bindTexture(n.TEXTURE_CUBE_MAP,Ft.__webglTexture),ht(n.TEXTURE_CUBE_MAP,Z);for(let fe=0;fe<6;fe++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let Me=0;Me<Z.mipmaps.length;Me++)lt(Dt.__webglFramebuffer[fe][Me],ot,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me);else lt(Dt.__webglFramebuffer[fe],ot,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0);M(Z)&&x(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(de){for(let fe=0,Me=Qt.length;fe<Me;fe++){const He=Qt[fe],oe=i.get(He);e.bindTexture(n.TEXTURE_2D,oe.__webglTexture),ht(n.TEXTURE_2D,He),lt(Dt.__webglFramebuffer,ot,He,n.COLOR_ATTACHMENT0+fe,n.TEXTURE_2D,0),M(He)&&x(n.TEXTURE_2D)}e.unbindTexture()}else{let fe=n.TEXTURE_2D;if((ot.isWebGL3DRenderTarget||ot.isWebGLArrayRenderTarget)&&(fe=ot.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(fe,Ft.__webglTexture),ht(fe,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let Me=0;Me<Z.mipmaps.length;Me++)lt(Dt.__webglFramebuffer[Me],ot,Z,n.COLOR_ATTACHMENT0,fe,Me);else lt(Dt.__webglFramebuffer,ot,Z,n.COLOR_ATTACHMENT0,fe,0);M(Z)&&x(fe),e.unbindTexture()}ot.depthBuffer&&Ct(ot)}function le(ot){const Z=ot.textures;for(let Dt=0,Ft=Z.length;Dt<Ft;Dt++){const Qt=Z[Dt];if(M(Qt)){const Nt=T(ot),de=i.get(Qt).__webglTexture;e.bindTexture(Nt,de),x(Nt),e.unbindTexture()}}}const ce=[],et=[];function Wt(ot){if(ot.samples>0){if(Xt(ot)===!1){const Z=ot.textures,Dt=ot.width,Ft=ot.height;let Qt=n.COLOR_BUFFER_BIT;const Nt=ot.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,de=i.get(ot),fe=Z.length>1;if(fe)for(let He=0;He<Z.length;He++)e.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,de.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,de.__webglMultisampledFramebuffer);const Me=ot.texture.mipmaps;Me&&Me.length>0?e.bindFramebuffer(n.DRAW_FRAMEBUFFER,de.__webglFramebuffer[0]):e.bindFramebuffer(n.DRAW_FRAMEBUFFER,de.__webglFramebuffer);for(let He=0;He<Z.length;He++){if(ot.resolveDepthBuffer&&(ot.depthBuffer&&(Qt|=n.DEPTH_BUFFER_BIT),ot.stencilBuffer&&ot.resolveStencilBuffer&&(Qt|=n.STENCIL_BUFFER_BIT)),fe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,de.__webglColorRenderbuffer[He]);const oe=i.get(Z[He]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,oe,0)}n.blitFramebuffer(0,0,Dt,Ft,0,0,Dt,Ft,Qt,n.NEAREST),h===!0&&(ce.length=0,et.length=0,ce.push(n.COLOR_ATTACHMENT0+He),ot.depthBuffer&&ot.resolveDepthBuffer===!1&&(ce.push(Nt),et.push(Nt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,et)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ce))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),fe)for(let He=0;He<Z.length;He++){e.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,de.__webglColorRenderbuffer[He]);const oe=i.get(Z[He]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,de.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,oe,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,de.__webglMultisampledFramebuffer)}else if(ot.depthBuffer&&ot.resolveDepthBuffer===!1&&h){const Z=ot.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Z])}}}function Ut(ot){return Math.min(r.maxSamples,ot.samples)}function Xt(ot){const Z=i.get(ot);return ot.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function It(ot){const Z=l.render.frame;m.get(ot)!==Z&&(m.set(ot,Z),ot.update())}function ue(ot,Z){const Dt=ot.colorSpace,Ft=ot.format,Qt=ot.type;return ot.isCompressedTexture===!0||ot.isVideoTexture===!0||Dt!==Co&&Dt!==cc&&(Bn.getTransfer(Dt)===ai?(Ft!==$i||Qt!==Cs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Dt)),Z}function Zt(ot){return typeof HTMLImageElement<"u"&&ot instanceof HTMLImageElement?(p.width=ot.naturalWidth||ot.width,p.height=ot.naturalHeight||ot.height):typeof VideoFrame<"u"&&ot instanceof VideoFrame?(p.width=ot.displayWidth,p.height=ot.displayHeight):(p.width=ot.width,p.height=ot.height),p}this.allocateTextureUnit=tt,this.resetTextureUnits=K,this.setTexture2D=at,this.setTexture2DArray=H,this.setTexture3D=k,this.setTextureCube=V,this.rebindTextures=Ht,this.setupRenderTarget=Kt,this.updateRenderTargetMipmap=le,this.updateMultisampleRenderTarget=Wt,this.setupDepthRenderbuffer=Ct,this.setupFrameBufferTexture=lt,this.useMultisampledRTT=Xt}function yL(n,t){function e(i,r=cc){let a;const l=Bn.getTransfer(r);if(i===Cs)return n.UNSIGNED_BYTE;if(i===ob)return n.UNSIGNED_SHORT_4_4_4_4;if(i===lb)return n.UNSIGNED_SHORT_5_5_5_1;if(i===QE)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===sb)return n.BYTE;if(i===ab)return n.SHORT;if(i===up)return n.UNSIGNED_SHORT;if(i===xv)return n.INT;if(i===Dl)return n.UNSIGNED_INT;if(i===ki)return n.FLOAT;if(i===Cr)return n.HALF_FLOAT;if(i===JE)return n.ALPHA;if(i===$E)return n.RGB;if(i===$i)return n.RGBA;if(i===hp)return n.DEPTH_COMPONENT;if(i===dp)return n.DEPTH_STENCIL;if(i===bv)return n.RED;if(i===Sv)return n.RED_INTEGER;if(i===tD)return n.RG;if(i===cb)return n.RG_INTEGER;if(i===ub)return n.RGBA_INTEGER;if(i===Cg||i===Og||i===Ng||i===Lg)if(l===ai)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Cg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Og)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ng)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Lg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Cg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Og)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ng)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Lg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===tx||i===ex||i===nx||i===ix)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===tx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===ex)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===nx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===ix)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===rx||i===sx||i===ax)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(i===rx||i===sx)return l===ai?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===ax)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===ox||i===lx||i===cx||i===ux||i===fx||i===hx||i===dx||i===px||i===mx||i===gx||i===vx||i===yx||i===_x||i===xx)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(i===ox)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===lx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===cx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===ux)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===fx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===hx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===dx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===px)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===mx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===gx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===vx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===yx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===_x)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===xx)return l===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ug||i===bx||i===Sx)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(i===Ug)return l===ai?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===bx)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Sx)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===eD||i===Mx||i===Ex||i===Dx)if(a=t.get("EXT_texture_compression_rgtc"),a!==null){if(i===Ug)return a.COMPRESSED_RED_RGTC1_EXT;if(i===Mx)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Ex)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Dx)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===fp?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const aq=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,oq=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class lq{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const r=new mi,a=t.properties.get(r);a.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new Ks({vertexShader:aq,fragmentShader:oq,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Ni(new ku(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class cq extends Tl{constructor(t,e){super();const i=this;let r=null,a=1,l=null,u="local-floor",h=1,p=null,m=null,v=null,_=null,b=null,S=null;const A=new lq,M=e.getContextAttributes();let x=null,T=null;const R=[],O=[],I=new ee;let P=null;const B=new Rr;B.viewport=new Gn;const N=new Rr;N.viewport=new Gn;const L=[B,N],U=new lL;let F=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let ft=R[$];return ft===void 0&&(ft=new O_,R[$]=ft),ft.getTargetRaySpace()},this.getControllerGrip=function($){let ft=R[$];return ft===void 0&&(ft=new O_,R[$]=ft),ft.getGripSpace()},this.getHand=function($){let ft=R[$];return ft===void 0&&(ft=new O_,R[$]=ft),ft.getHandSpace()};function tt($){const ft=O.indexOf($.inputSource);if(ft===-1)return;const lt=R[ft];lt!==void 0&&(lt.update($.inputSource,$.frame,p||l),lt.dispatchEvent({type:$.type,data:$.inputSource}))}function nt(){r.removeEventListener("select",tt),r.removeEventListener("selectstart",tt),r.removeEventListener("selectend",tt),r.removeEventListener("squeeze",tt),r.removeEventListener("squeezestart",tt),r.removeEventListener("squeezeend",tt),r.removeEventListener("end",nt),r.removeEventListener("inputsourceschange",at);for(let $=0;$<R.length;$++){const ft=O[$];ft!==null&&(O[$]=null,R[$].disconnect(ft))}F=null,K=null,A.reset(),t.setRenderTarget(x),b=null,_=null,v=null,r=null,T=null,dt.stop(),i.isPresenting=!1,t.setPixelRatio(P),t.setSize(I.width,I.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){a=$,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){u=$,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function($){p=$},this.getBaseLayer=function(){return _!==null?_:b},this.getBinding=function(){return v},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function($){if(r=$,r!==null){if(x=t.getRenderTarget(),r.addEventListener("select",tt),r.addEventListener("selectstart",tt),r.addEventListener("selectend",tt),r.addEventListener("squeeze",tt),r.addEventListener("squeezestart",tt),r.addEventListener("squeezeend",tt),r.addEventListener("end",nt),r.addEventListener("inputsourceschange",at),M.xrCompatible!==!0&&await e.makeXRCompatible(),P=t.getPixelRatio(),t.getSize(I),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let lt=null,pt=null,xt=null;M.depth&&(xt=M.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,lt=M.stencil?dp:hp,pt=M.stencil?fp:Dl);const Ct={colorFormat:e.RGBA8,depthFormat:xt,scaleFactor:a};v=new XRWebGLBinding(r,e),_=v.createProjectionLayer(Ct),r.updateRenderState({layers:[_]}),t.setPixelRatio(1),t.setSize(_.textureWidth,_.textureHeight,!1),T=new ka(_.textureWidth,_.textureHeight,{format:$i,type:Cs,depthTexture:new bb(_.textureWidth,_.textureHeight,pt,void 0,void 0,void 0,void 0,void 0,void 0,lt),stencilBuffer:M.stencil,colorSpace:t.outputColorSpace,samples:M.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const lt={antialias:M.antialias,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(r,e,lt),r.updateRenderState({baseLayer:b}),t.setPixelRatio(1),t.setSize(b.framebufferWidth,b.framebufferHeight,!1),T=new ka(b.framebufferWidth,b.framebufferHeight,{format:$i,type:Cs,colorSpace:t.outputColorSpace,stencilBuffer:M.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}T.isXRRenderTarget=!0,this.setFoveation(h),p=null,l=await r.requestReferenceSpace(u),dt.setContext(r),dt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function at($){for(let ft=0;ft<$.removed.length;ft++){const lt=$.removed[ft],pt=O.indexOf(lt);pt>=0&&(O[pt]=null,R[pt].disconnect(lt))}for(let ft=0;ft<$.added.length;ft++){const lt=$.added[ft];let pt=O.indexOf(lt);if(pt===-1){for(let Ct=0;Ct<R.length;Ct++)if(Ct>=O.length){O.push(lt),pt=Ct;break}else if(O[Ct]===null){O[Ct]=lt,pt=Ct;break}if(pt===-1)break}const xt=R[pt];xt&&xt.connect(lt)}}const H=new ct,k=new ct;function V($,ft,lt){H.setFromMatrixPosition(ft.matrixWorld),k.setFromMatrixPosition(lt.matrixWorld);const pt=H.distanceTo(k),xt=ft.projectionMatrix.elements,Ct=lt.projectionMatrix.elements,Ht=xt[14]/(xt[10]-1),Kt=xt[14]/(xt[10]+1),le=(xt[9]+1)/xt[5],ce=(xt[9]-1)/xt[5],et=(xt[8]-1)/xt[0],Wt=(Ct[8]+1)/Ct[0],Ut=Ht*et,Xt=Ht*Wt,It=pt/(-et+Wt),ue=It*-et;if(ft.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(ue),$.translateZ(It),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert(),xt[10]===-1)$.projectionMatrix.copy(ft.projectionMatrix),$.projectionMatrixInverse.copy(ft.projectionMatrixInverse);else{const Zt=Ht+It,ot=Kt+It,Z=Ut-ue,Dt=Xt+(pt-ue),Ft=le*Kt/ot*Zt,Qt=ce*Kt/ot*Zt;$.projectionMatrix.makePerspective(Z,Dt,Ft,Qt,Zt,ot),$.projectionMatrixInverse.copy($.projectionMatrix).invert()}}function Q($,ft){ft===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(ft.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(r===null)return;let ft=$.near,lt=$.far;A.texture!==null&&(A.depthNear>0&&(ft=A.depthNear),A.depthFar>0&&(lt=A.depthFar)),U.near=N.near=B.near=ft,U.far=N.far=B.far=lt,(F!==U.near||K!==U.far)&&(r.updateRenderState({depthNear:U.near,depthFar:U.far}),F=U.near,K=U.far),B.layers.mask=$.layers.mask|2,N.layers.mask=$.layers.mask|4,U.layers.mask=B.layers.mask|N.layers.mask;const pt=$.parent,xt=U.cameras;Q(U,pt);for(let Ct=0;Ct<xt.length;Ct++)Q(xt[Ct],pt);xt.length===2?V(U,B,N):U.projectionMatrix.copy(B.projectionMatrix),j($,U,pt)};function j($,ft,lt){lt===null?$.matrix.copy(ft.matrixWorld):($.matrix.copy(lt.matrixWorld),$.matrix.invert(),$.matrix.multiply(ft.matrixWorld)),$.matrix.decompose($.position,$.quaternion,$.scale),$.updateMatrixWorld(!0),$.projectionMatrix.copy(ft.projectionMatrix),$.projectionMatrixInverse.copy(ft.projectionMatrixInverse),$.isPerspectiveCamera&&($.fov=pp*2*Math.atan(1/$.projectionMatrix.elements[5]),$.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(_===null&&b===null))return h},this.setFoveation=function($){h=$,_!==null&&(_.fixedFoveation=$),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=$)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(U)};let st=null;function ht($,ft){if(m=ft.getViewerPose(p||l),S=ft,m!==null){const lt=m.views;b!==null&&(t.setRenderTargetFramebuffer(T,b.framebuffer),t.setRenderTarget(T));let pt=!1;lt.length!==U.cameras.length&&(U.cameras.length=0,pt=!0);for(let Ht=0;Ht<lt.length;Ht++){const Kt=lt[Ht];let le=null;if(b!==null)le=b.getViewport(Kt);else{const et=v.getViewSubImage(_,Kt);le=et.viewport,Ht===0&&(t.setRenderTargetTextures(T,et.colorTexture,et.depthStencilTexture),t.setRenderTarget(T))}let ce=L[Ht];ce===void 0&&(ce=new Rr,ce.layers.enable(Ht),ce.viewport=new Gn,L[Ht]=ce),ce.matrix.fromArray(Kt.transform.matrix),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.projectionMatrix.fromArray(Kt.projectionMatrix),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert(),ce.viewport.set(le.x,le.y,le.width,le.height),Ht===0&&(U.matrix.copy(ce.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),pt===!0&&U.cameras.push(ce)}const xt=r.enabledFeatures;if(xt&&xt.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&v){const Ht=v.getDepthInformation(lt[0]);Ht&&Ht.isValid&&Ht.texture&&A.init(t,Ht,r.renderState)}}for(let lt=0;lt<R.length;lt++){const pt=O[lt],xt=R[lt];pt!==null&&xt!==void 0&&xt.update(pt,ft,p||l)}st&&st($,ft),ft.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ft}),S=null}const dt=new dL;dt.setAnimationLoop(ht),this.setAnimationLoop=function($){st=$},this.dispose=function(){}}}const Zf=new ya,uq=new en;function fq(n,t){function e(M,x){M.matrixAutoUpdate===!0&&M.updateMatrix(),x.value.copy(M.matrix)}function i(M,x){x.color.getRGB(M.fogColor.value,mN(n)),x.isFog?(M.fogNear.value=x.near,M.fogFar.value=x.far):x.isFogExp2&&(M.fogDensity.value=x.density)}function r(M,x,T,R,O){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(M,x):x.isMeshToonMaterial?(a(M,x),v(M,x)):x.isMeshPhongMaterial?(a(M,x),m(M,x)):x.isMeshStandardMaterial?(a(M,x),_(M,x),x.isMeshPhysicalMaterial&&b(M,x,O)):x.isMeshMatcapMaterial?(a(M,x),S(M,x)):x.isMeshDepthMaterial?a(M,x):x.isMeshDistanceMaterial?(a(M,x),A(M,x)):x.isMeshNormalMaterial?a(M,x):x.isLineBasicMaterial?(l(M,x),x.isLineDashedMaterial&&u(M,x)):x.isPointsMaterial?h(M,x,T,R):x.isSpriteMaterial?p(M,x):x.isShadowMaterial?(M.color.value.copy(x.color),M.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(M,x){M.opacity.value=x.opacity,x.color&&M.diffuse.value.copy(x.color),x.emissive&&M.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(M.map.value=x.map,e(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,e(x.alphaMap,M.alphaMapTransform)),x.bumpMap&&(M.bumpMap.value=x.bumpMap,e(x.bumpMap,M.bumpMapTransform),M.bumpScale.value=x.bumpScale,x.side===ws&&(M.bumpScale.value*=-1)),x.normalMap&&(M.normalMap.value=x.normalMap,e(x.normalMap,M.normalMapTransform),M.normalScale.value.copy(x.normalScale),x.side===ws&&M.normalScale.value.negate()),x.displacementMap&&(M.displacementMap.value=x.displacementMap,e(x.displacementMap,M.displacementMapTransform),M.displacementScale.value=x.displacementScale,M.displacementBias.value=x.displacementBias),x.emissiveMap&&(M.emissiveMap.value=x.emissiveMap,e(x.emissiveMap,M.emissiveMapTransform)),x.specularMap&&(M.specularMap.value=x.specularMap,e(x.specularMap,M.specularMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest);const T=t.get(x),R=T.envMap,O=T.envMapRotation;R&&(M.envMap.value=R,Zf.copy(O),Zf.x*=-1,Zf.y*=-1,Zf.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Zf.y*=-1,Zf.z*=-1),M.envMapRotation.value.setFromMatrix4(uq.makeRotationFromEuler(Zf)),M.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=x.reflectivity,M.ior.value=x.ior,M.refractionRatio.value=x.refractionRatio),x.lightMap&&(M.lightMap.value=x.lightMap,M.lightMapIntensity.value=x.lightMapIntensity,e(x.lightMap,M.lightMapTransform)),x.aoMap&&(M.aoMap.value=x.aoMap,M.aoMapIntensity.value=x.aoMapIntensity,e(x.aoMap,M.aoMapTransform))}function l(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,x.map&&(M.map.value=x.map,e(x.map,M.mapTransform))}function u(M,x){M.dashSize.value=x.dashSize,M.totalSize.value=x.dashSize+x.gapSize,M.scale.value=x.scale}function h(M,x,T,R){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.size.value=x.size*T,M.scale.value=R*.5,x.map&&(M.map.value=x.map,e(x.map,M.uvTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,e(x.alphaMap,M.alphaMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function p(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.rotation.value=x.rotation,x.map&&(M.map.value=x.map,e(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,e(x.alphaMap,M.alphaMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function m(M,x){M.specular.value.copy(x.specular),M.shininess.value=Math.max(x.shininess,1e-4)}function v(M,x){x.gradientMap&&(M.gradientMap.value=x.gradientMap)}function _(M,x){M.metalness.value=x.metalness,x.metalnessMap&&(M.metalnessMap.value=x.metalnessMap,e(x.metalnessMap,M.metalnessMapTransform)),M.roughness.value=x.roughness,x.roughnessMap&&(M.roughnessMap.value=x.roughnessMap,e(x.roughnessMap,M.roughnessMapTransform)),x.envMap&&(M.envMapIntensity.value=x.envMapIntensity)}function b(M,x,T){M.ior.value=x.ior,x.sheen>0&&(M.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),M.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(M.sheenColorMap.value=x.sheenColorMap,e(x.sheenColorMap,M.sheenColorMapTransform)),x.sheenRoughnessMap&&(M.sheenRoughnessMap.value=x.sheenRoughnessMap,e(x.sheenRoughnessMap,M.sheenRoughnessMapTransform))),x.clearcoat>0&&(M.clearcoat.value=x.clearcoat,M.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(M.clearcoatMap.value=x.clearcoatMap,e(x.clearcoatMap,M.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,e(x.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(M.clearcoatNormalMap.value=x.clearcoatNormalMap,e(x.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===ws&&M.clearcoatNormalScale.value.negate())),x.dispersion>0&&(M.dispersion.value=x.dispersion),x.iridescence>0&&(M.iridescence.value=x.iridescence,M.iridescenceIOR.value=x.iridescenceIOR,M.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(M.iridescenceMap.value=x.iridescenceMap,e(x.iridescenceMap,M.iridescenceMapTransform)),x.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=x.iridescenceThicknessMap,e(x.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),x.transmission>0&&(M.transmission.value=x.transmission,M.transmissionSamplerMap.value=T.texture,M.transmissionSamplerSize.value.set(T.width,T.height),x.transmissionMap&&(M.transmissionMap.value=x.transmissionMap,e(x.transmissionMap,M.transmissionMapTransform)),M.thickness.value=x.thickness,x.thicknessMap&&(M.thicknessMap.value=x.thicknessMap,e(x.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=x.attenuationDistance,M.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(M.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(M.anisotropyMap.value=x.anisotropyMap,e(x.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=x.specularIntensity,M.specularColor.value.copy(x.specularColor),x.specularColorMap&&(M.specularColorMap.value=x.specularColorMap,e(x.specularColorMap,M.specularColorMapTransform)),x.specularIntensityMap&&(M.specularIntensityMap.value=x.specularIntensityMap,e(x.specularIntensityMap,M.specularIntensityMapTransform))}function S(M,x){x.matcap&&(M.matcap.value=x.matcap)}function A(M,x){const T=t.get(x).light;M.referencePosition.value.setFromMatrixPosition(T.matrixWorld),M.nearDistance.value=T.shadow.camera.near,M.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function hq(n,t,e,i){let r={},a={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(T,R){const O=R.program;i.uniformBlockBinding(T,O)}function p(T,R){let O=r[T.id];O===void 0&&(S(T),O=m(T),r[T.id]=O,T.addEventListener("dispose",M));const I=R.program;i.updateUBOMapping(T,I);const P=t.render.frame;a[T.id]!==P&&(_(T),a[T.id]=P)}function m(T){const R=v();T.__bindingPointIndex=R;const O=n.createBuffer(),I=T.__size,P=T.usage;return n.bindBuffer(n.UNIFORM_BUFFER,O),n.bufferData(n.UNIFORM_BUFFER,I,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,R,O),O}function v(){for(let T=0;T<u;T++)if(l.indexOf(T)===-1)return l.push(T),T;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(T){const R=r[T.id],O=T.uniforms,I=T.__cache;n.bindBuffer(n.UNIFORM_BUFFER,R);for(let P=0,B=O.length;P<B;P++){const N=Array.isArray(O[P])?O[P]:[O[P]];for(let L=0,U=N.length;L<U;L++){const F=N[L];if(b(F,P,L,I)===!0){const K=F.__offset,tt=Array.isArray(F.value)?F.value:[F.value];let nt=0;for(let at=0;at<tt.length;at++){const H=tt[at],k=A(H);typeof H=="number"||typeof H=="boolean"?(F.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,K+nt,F.__data)):H.isMatrix3?(F.__data[0]=H.elements[0],F.__data[1]=H.elements[1],F.__data[2]=H.elements[2],F.__data[3]=0,F.__data[4]=H.elements[3],F.__data[5]=H.elements[4],F.__data[6]=H.elements[5],F.__data[7]=0,F.__data[8]=H.elements[6],F.__data[9]=H.elements[7],F.__data[10]=H.elements[8],F.__data[11]=0):(H.toArray(F.__data,nt),nt+=k.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,K,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(T,R,O,I){const P=T.value,B=R+"_"+O;if(I[B]===void 0)return typeof P=="number"||typeof P=="boolean"?I[B]=P:I[B]=P.clone(),!0;{const N=I[B];if(typeof P=="number"||typeof P=="boolean"){if(N!==P)return I[B]=P,!0}else if(N.equals(P)===!1)return N.copy(P),!0}return!1}function S(T){const R=T.uniforms;let O=0;const I=16;for(let B=0,N=R.length;B<N;B++){const L=Array.isArray(R[B])?R[B]:[R[B]];for(let U=0,F=L.length;U<F;U++){const K=L[U],tt=Array.isArray(K.value)?K.value:[K.value];for(let nt=0,at=tt.length;nt<at;nt++){const H=tt[nt],k=A(H),V=O%I,Q=V%k.boundary,j=V+Q;O+=Q,j!==0&&I-j<k.storage&&(O+=I-j),K.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),K.__offset=O,O+=k.storage}}}const P=O%I;return P>0&&(O+=I-P),T.__size=O,T.__cache={},this}function A(T){const R={boundary:0,storage:0};return typeof T=="number"||typeof T=="boolean"?(R.boundary=4,R.storage=4):T.isVector2?(R.boundary=8,R.storage=8):T.isVector3||T.isColor?(R.boundary=16,R.storage=12):T.isVector4?(R.boundary=16,R.storage=16):T.isMatrix3?(R.boundary=48,R.storage=48):T.isMatrix4?(R.boundary=64,R.storage=64):T.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",T),R}function M(T){const R=T.target;R.removeEventListener("dispose",M);const O=l.indexOf(R.__bindingPointIndex);l.splice(O,1),n.deleteBuffer(r[R.id]),delete r[R.id],delete a[R.id]}function x(){for(const T in r)n.deleteBuffer(r[T]);l=[],r={},a={}}return{bind:h,update:p,dispose:x}}class UD{constructor(t={}){const{canvas:e=hN(),context:i=null,depth:r=!0,stencil:a=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:_=!1}=t;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=l;const S=new Uint32Array(4),A=new Int32Array(4);let M=null,x=null;const T=[],R=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Sl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const O=this;let I=!1;this._outputColorSpace=Vr;let P=0,B=0,N=null,L=-1,U=null;const F=new Gn,K=new Gn;let tt=null;const nt=new Ce(0);let at=0,H=e.width,k=e.height,V=1,Q=null,j=null;const st=new Gn(0,0,H,k),ht=new Gn(0,0,H,k);let dt=!1;const $=new Op;let ft=!1,lt=!1;const pt=new en,xt=new en,Ct=new ct,Ht=new Gn,Kt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let le=!1;function ce(){return N===null?V:1}let et=i;function Wt(X,ut){return e.getContext(X,ut)}try{const X={alpha:!0,depth:r,stencil:a,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${yv}`),e.addEventListener("webglcontextlost",ne,!1),e.addEventListener("webglcontextrestored",Ee,!1),e.addEventListener("webglcontextcreationerror",xe,!1),et===null){const ut="webgl2";if(et=Wt(ut,X),et===null)throw Wt(ut)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let Ut,Xt,It,ue,Zt,ot,Z,Dt,Ft,Qt,Nt,de,fe,Me,He,oe,ge,Ae,De,_e,Je,Oe,Ke,Et;function Gt(){Ut=new E9(et),Ut.init(),Oe=new yL(et,Ut),Xt=new v9(et,Ut,t,Oe),It=new rq(et,Ut),Xt.reverseDepthBuffer&&_&&It.buffers.depth.setReversed(!0),ue=new T9(et),Zt=new qj,ot=new sq(et,Ut,It,Zt,Xt,Oe,ue),Z=new _9(O),Dt=new M9(O),Ft=new Lk(et),Ke=new m9(et,Ft),Qt=new D9(et,Ft,ue,Ke),Nt=new R9(et,Qt,Ft,ue),De=new w9(et,Xt,ot),oe=new y9(Zt),de=new jj(O,Z,Dt,Ut,Xt,Ke,oe),fe=new fq(O,Zt),Me=new Yj,He=new $j(Ut),Ae=new p9(O,Z,Dt,It,Nt,b,h),ge=new nq(O,Nt,Xt),Et=new hq(et,ue,Xt,It),_e=new g9(et,Ut,ue),Je=new A9(et,Ut,ue),ue.programs=de.programs,O.capabilities=Xt,O.extensions=Ut,O.properties=Zt,O.renderLists=Me,O.shadowMap=ge,O.state=It,O.info=ue}Gt();const jt=new cq(O,et);this.xr=jt,this.getContext=function(){return et},this.getContextAttributes=function(){return et.getContextAttributes()},this.forceContextLoss=function(){const X=Ut.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Ut.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(X){X!==void 0&&(V=X,this.setSize(H,k,!1))},this.getSize=function(X){return X.set(H,k)},this.setSize=function(X,ut,gt=!0){if(jt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=X,k=ut,e.width=Math.floor(X*V),e.height=Math.floor(ut*V),gt===!0&&(e.style.width=X+"px",e.style.height=ut+"px"),this.setViewport(0,0,X,ut)},this.getDrawingBufferSize=function(X){return X.set(H*V,k*V).floor()},this.setDrawingBufferSize=function(X,ut,gt){H=X,k=ut,V=gt,e.width=Math.floor(X*gt),e.height=Math.floor(ut*gt),this.setViewport(0,0,X,ut)},this.getCurrentViewport=function(X){return X.copy(F)},this.getViewport=function(X){return X.copy(st)},this.setViewport=function(X,ut,gt,vt){X.isVector4?st.set(X.x,X.y,X.z,X.w):st.set(X,ut,gt,vt),It.viewport(F.copy(st).multiplyScalar(V).round())},this.getScissor=function(X){return X.copy(ht)},this.setScissor=function(X,ut,gt,vt){X.isVector4?ht.set(X.x,X.y,X.z,X.w):ht.set(X,ut,gt,vt),It.scissor(K.copy(ht).multiplyScalar(V).round())},this.getScissorTest=function(){return dt},this.setScissorTest=function(X){It.setScissorTest(dt=X)},this.setOpaqueSort=function(X){Q=X},this.setTransparentSort=function(X){j=X},this.getClearColor=function(X){return X.copy(Ae.getClearColor())},this.setClearColor=function(){Ae.setClearColor(...arguments)},this.getClearAlpha=function(){return Ae.getClearAlpha()},this.setClearAlpha=function(){Ae.setClearAlpha(...arguments)},this.clear=function(X=!0,ut=!0,gt=!0){let vt=0;if(X){let St=!1;if(N!==null){const Rt=N.texture.format;St=Rt===ub||Rt===cb||Rt===Sv}if(St){const Rt=N.texture.type,Yt=Rt===Cs||Rt===Dl||Rt===up||Rt===fp||Rt===ob||Rt===lb,Jt=Ae.getClearColor(),se=Ae.getClearAlpha(),be=Jt.r,ve=Jt.g,Se=Jt.b;Yt?(S[0]=be,S[1]=ve,S[2]=Se,S[3]=se,et.clearBufferuiv(et.COLOR,0,S)):(A[0]=be,A[1]=ve,A[2]=Se,A[3]=se,et.clearBufferiv(et.COLOR,0,A))}else vt|=et.COLOR_BUFFER_BIT}ut&&(vt|=et.DEPTH_BUFFER_BIT),gt&&(vt|=et.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),et.clear(vt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ne,!1),e.removeEventListener("webglcontextrestored",Ee,!1),e.removeEventListener("webglcontextcreationerror",xe,!1),Ae.dispose(),Me.dispose(),He.dispose(),Zt.dispose(),Z.dispose(),Dt.dispose(),Nt.dispose(),Ke.dispose(),Et.dispose(),de.dispose(),jt.dispose(),jt.removeEventListener("sessionstart",Di),jt.removeEventListener("sessionend",Ui),Pi.stop()};function ne(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const X=ue.autoReset,ut=ge.enabled,gt=ge.autoUpdate,vt=ge.needsUpdate,St=ge.type;Gt(),ue.autoReset=X,ge.enabled=ut,ge.autoUpdate=gt,ge.needsUpdate=vt,ge.type=St}function xe(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function nn(X){const ut=X.target;ut.removeEventListener("dispose",nn),Vn(ut)}function Vn(X){ci(X),Zt.remove(X)}function ci(X){const ut=Zt.get(X).programs;ut!==void 0&&(ut.forEach(function(gt){de.releaseProgram(gt)}),X.isShaderMaterial&&de.releaseShaderCache(X))}this.renderBufferDirect=function(X,ut,gt,vt,St,Rt){ut===null&&(ut=Kt);const Yt=St.isMesh&&St.matrixWorld.determinant()<0,Jt=_t(X,ut,gt,vt,St);It.setMaterial(vt,Yt);let se=gt.index,be=1;if(vt.wireframe===!0){if(se=Qt.getWireframeAttribute(gt),se===void 0)return;be=2}const ve=gt.drawRange,Se=gt.attributes.position;let je=ve.start*be,Be=(ve.start+ve.count)*be;Rt!==null&&(je=Math.max(je,Rt.start*be),Be=Math.min(Be,(Rt.start+Rt.count)*be)),se!==null?(je=Math.max(je,0),Be=Math.min(Be,se.count)):Se!=null&&(je=Math.max(je,0),Be=Math.min(Be,Se.count));const Nn=Be-je;if(Nn<0||Nn===1/0)return;Ke.setup(St,vt,Jt,gt,se);let Ne,ke=_e;if(se!==null&&(Ne=Ft.get(se),ke=Je,ke.setIndex(Ne)),St.isMesh)vt.wireframe===!0?(It.setLineWidth(vt.wireframeLinewidth*ce()),ke.setMode(et.LINES)):ke.setMode(et.TRIANGLES);else if(St.isLine){let Le=vt.linewidth;Le===void 0&&(Le=1),It.setLineWidth(Le*ce()),St.isLineSegments?ke.setMode(et.LINES):St.isLineLoop?ke.setMode(et.LINE_LOOP):ke.setMode(et.LINE_STRIP)}else St.isPoints?ke.setMode(et.POINTS):St.isSprite&&ke.setMode(et.TRIANGLES);if(St.isBatchedMesh)if(St._multiDrawInstances!==null)C_("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),ke.renderMultiDrawInstances(St._multiDrawStarts,St._multiDrawCounts,St._multiDrawCount,St._multiDrawInstances);else if(Ut.get("WEBGL_multi_draw"))ke.renderMultiDraw(St._multiDrawStarts,St._multiDrawCounts,St._multiDrawCount);else{const Le=St._multiDrawStarts,Kn=St._multiDrawCounts,rn=St._multiDrawCount,fn=se?Ft.get(se).bytesPerElement:1,ti=Zt.get(vt).currentProgram.getUniforms();for(let Xe=0;Xe<rn;Xe++)ti.setValue(et,"_gl_DrawID",Xe),ke.render(Le[Xe]/fn,Kn[Xe])}else if(St.isInstancedMesh)ke.renderInstances(je,Nn,St.count);else if(gt.isInstancedBufferGeometry){const Le=gt._maxInstanceCount!==void 0?gt._maxInstanceCount:1/0,Kn=Math.min(gt.instanceCount,Le);ke.renderInstances(je,Nn,Kn)}else ke.render(je,Nn)};function Tn(X,ut,gt){X.transparent===!0&&X.side===Eo&&X.forceSinglePass===!1?(X.side=ws,X.needsUpdate=!0,qn(X,ut,gt),X.side=_c,X.needsUpdate=!0,qn(X,ut,gt),X.side=Eo):qn(X,ut,gt)}this.compile=function(X,ut,gt=null){gt===null&&(gt=X),x=He.get(gt),x.init(ut),R.push(x),gt.traverseVisible(function(St){St.isLight&&St.layers.test(ut.layers)&&(x.pushLight(St),St.castShadow&&x.pushShadow(St))}),X!==gt&&X.traverseVisible(function(St){St.isLight&&St.layers.test(ut.layers)&&(x.pushLight(St),St.castShadow&&x.pushShadow(St))}),x.setupLights();const vt=new Set;return X.traverse(function(St){if(!(St.isMesh||St.isPoints||St.isLine||St.isSprite))return;const Rt=St.material;if(Rt)if(Array.isArray(Rt))for(let Yt=0;Yt<Rt.length;Yt++){const Jt=Rt[Yt];Tn(Jt,gt,St),vt.add(Jt)}else Tn(Rt,gt,St),vt.add(Rt)}),x=R.pop(),vt},this.compileAsync=function(X,ut,gt=null){const vt=this.compile(X,ut,gt);return new Promise(St=>{function Rt(){if(vt.forEach(function(Yt){Zt.get(Yt).currentProgram.isReady()&&vt.delete(Yt)}),vt.size===0){St(X);return}setTimeout(Rt,10)}Ut.get("KHR_parallel_shader_compile")!==null?Rt():setTimeout(Rt,10)})};let br=null;function Li(X){br&&br(X)}function Di(){Pi.stop()}function Ui(){Pi.start()}const Pi=new dL;Pi.setAnimationLoop(Li),typeof self<"u"&&Pi.setContext(self),this.setAnimationLoop=function(X){br=X,jt.setAnimationLoop(X),X===null?Pi.stop():Pi.start()},jt.addEventListener("sessionstart",Di),jt.addEventListener("sessionend",Ui),this.render=function(X,ut){if(ut!==void 0&&ut.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),ut.parent===null&&ut.matrixWorldAutoUpdate===!0&&ut.updateMatrixWorld(),jt.enabled===!0&&jt.isPresenting===!0&&(jt.cameraAutoUpdate===!0&&jt.updateCamera(ut),ut=jt.getCamera()),X.isScene===!0&&X.onBeforeRender(O,X,ut,N),x=He.get(X,R.length),x.init(ut),R.push(x),xt.multiplyMatrices(ut.projectionMatrix,ut.matrixWorldInverse),$.setFromProjectionMatrix(xt),lt=this.localClippingEnabled,ft=oe.init(this.clippingPlanes,lt),M=Me.get(X,T.length),M.init(),T.push(M),jt.enabled===!0&&jt.isPresenting===!0){const Rt=O.xr.getDepthSensingMesh();Rt!==null&&Sr(Rt,ut,-1/0,O.sortObjects)}Sr(X,ut,0,O.sortObjects),M.finish(),O.sortObjects===!0&&M.sort(Q,j),le=jt.enabled===!1||jt.isPresenting===!1||jt.hasDepthSensing()===!1,le&&Ae.addToRenderList(M,X),this.info.render.frame++,ft===!0&&oe.beginShadows();const gt=x.state.shadowsArray;ge.render(gt,X,ut),ft===!0&&oe.endShadows(),this.info.autoReset===!0&&this.info.reset();const vt=M.opaque,St=M.transmissive;if(x.setupLights(),ut.isArrayCamera){const Rt=ut.cameras;if(St.length>0)for(let Yt=0,Jt=Rt.length;Yt<Jt;Yt++){const se=Rt[Yt];lr(vt,St,X,se)}le&&Ae.render(X);for(let Yt=0,Jt=Rt.length;Yt<Jt;Yt++){const se=Rt[Yt];Js(M,X,se,se.viewport)}}else St.length>0&&lr(vt,St,X,ut),le&&Ae.render(X),Js(M,X,ut);N!==null&&B===0&&(ot.updateMultisampleRenderTarget(N),ot.updateRenderTargetMipmap(N)),X.isScene===!0&&X.onAfterRender(O,X,ut),Ke.resetDefaultState(),L=-1,U=null,R.pop(),R.length>0?(x=R[R.length-1],ft===!0&&oe.setGlobalState(O.clippingPlanes,x.state.camera)):x=null,T.pop(),T.length>0?M=T[T.length-1]:M=null};function Sr(X,ut,gt,vt){if(X.visible===!1)return;if(X.layers.test(ut.layers)){if(X.isGroup)gt=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(ut);else if(X.isLight)x.pushLight(X),X.castShadow&&x.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||$.intersectsSprite(X)){vt&&Ht.setFromMatrixPosition(X.matrixWorld).applyMatrix4(xt);const Yt=Nt.update(X),Jt=X.material;Jt.visible&&M.push(X,Yt,Jt,gt,Ht.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||$.intersectsObject(X))){const Yt=Nt.update(X),Jt=X.material;if(vt&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),Ht.copy(X.boundingSphere.center)):(Yt.boundingSphere===null&&Yt.computeBoundingSphere(),Ht.copy(Yt.boundingSphere.center)),Ht.applyMatrix4(X.matrixWorld).applyMatrix4(xt)),Array.isArray(Jt)){const se=Yt.groups;for(let be=0,ve=se.length;be<ve;be++){const Se=se[be],je=Jt[Se.materialIndex];je&&je.visible&&M.push(X,Yt,je,gt,Ht.z,Se)}}else Jt.visible&&M.push(X,Yt,Jt,gt,Ht.z,null)}}const Rt=X.children;for(let Yt=0,Jt=Rt.length;Yt<Jt;Yt++)Sr(Rt[Yt],ut,gt,vt)}function Js(X,ut,gt,vt){const St=X.opaque,Rt=X.transmissive,Yt=X.transparent;x.setupLightsView(gt),ft===!0&&oe.setGlobalState(O.clippingPlanes,gt),vt&&It.viewport(F.copy(vt)),St.length>0&&Ye(St,ut,gt),Rt.length>0&&Ye(Rt,ut,gt),Yt.length>0&&Ye(Yt,ut,gt),It.buffers.depth.setTest(!0),It.buffers.depth.setMask(!0),It.buffers.color.setMask(!0),It.setPolygonOffset(!1)}function lr(X,ut,gt,vt){if((gt.isScene===!0?gt.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[vt.id]===void 0&&(x.state.transmissionRenderTarget[vt.id]=new ka(1,1,{generateMipmaps:!0,type:Ut.has("EXT_color_buffer_half_float")||Ut.has("EXT_color_buffer_float")?Cr:Cs,minFilter:_l,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Bn.workingColorSpace}));const Rt=x.state.transmissionRenderTarget[vt.id],Yt=vt.viewport||F;Rt.setSize(Yt.z*O.transmissionResolutionScale,Yt.w*O.transmissionResolutionScale);const Jt=O.getRenderTarget();O.setRenderTarget(Rt),O.getClearColor(nt),at=O.getClearAlpha(),at<1&&O.setClearColor(16777215,.5),O.clear(),le&&Ae.render(gt);const se=O.toneMapping;O.toneMapping=Sl;const be=vt.viewport;if(vt.viewport!==void 0&&(vt.viewport=void 0),x.setupLightsView(vt),ft===!0&&oe.setGlobalState(O.clippingPlanes,vt),Ye(X,gt,vt),ot.updateMultisampleRenderTarget(Rt),ot.updateRenderTargetMipmap(Rt),Ut.has("WEBGL_multisampled_render_to_texture")===!1){let ve=!1;for(let Se=0,je=ut.length;Se<je;Se++){const Be=ut[Se],Nn=Be.object,Ne=Be.geometry,ke=Be.material,Le=Be.group;if(ke.side===Eo&&Nn.layers.test(vt.layers)){const Kn=ke.side;ke.side=ws,ke.needsUpdate=!0,Xr(Nn,gt,vt,Ne,ke,Le),ke.side=Kn,ke.needsUpdate=!0,ve=!0}}ve===!0&&(ot.updateMultisampleRenderTarget(Rt),ot.updateRenderTargetMipmap(Rt))}O.setRenderTarget(Jt),O.setClearColor(nt,at),be!==void 0&&(vt.viewport=be),O.toneMapping=se}function Ye(X,ut,gt){const vt=ut.isScene===!0?ut.overrideMaterial:null;for(let St=0,Rt=X.length;St<Rt;St++){const Yt=X[St],Jt=Yt.object,se=Yt.geometry,be=Yt.group;let ve=Yt.material;ve.allowOverride===!0&&vt!==null&&(ve=vt),Jt.layers.test(gt.layers)&&Xr(Jt,ut,gt,se,ve,be)}}function Xr(X,ut,gt,vt,St,Rt){X.onBeforeRender(O,ut,gt,vt,St,Rt),X.modelViewMatrix.multiplyMatrices(gt.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),St.onBeforeRender(O,ut,gt,vt,X,Rt),St.transparent===!0&&St.side===Eo&&St.forceSinglePass===!1?(St.side=ws,St.needsUpdate=!0,O.renderBufferDirect(gt,ut,vt,St,X,Rt),St.side=_c,St.needsUpdate=!0,O.renderBufferDirect(gt,ut,vt,St,X,Rt),St.side=Eo):O.renderBufferDirect(gt,ut,vt,St,X,Rt),X.onAfterRender(O,ut,gt,vt,St,Rt)}function qn(X,ut,gt){ut.isScene!==!0&&(ut=Kt);const vt=Zt.get(X),St=x.state.lights,Rt=x.state.shadowsArray,Yt=St.state.version,Jt=de.getParameters(X,St.state,Rt,ut,gt),se=de.getProgramCacheKey(Jt);let be=vt.programs;vt.environment=X.isMeshStandardMaterial?ut.environment:null,vt.fog=ut.fog,vt.envMap=(X.isMeshStandardMaterial?Dt:Z).get(X.envMap||vt.environment),vt.envMapRotation=vt.environment!==null&&X.envMap===null?ut.environmentRotation:X.envMapRotation,be===void 0&&(X.addEventListener("dispose",nn),be=new Map,vt.programs=be);let ve=be.get(se);if(ve!==void 0){if(vt.currentProgram===ve&&vt.lightsStateVersion===Yt)return rt(X,Jt),ve}else Jt.uniforms=de.getUniforms(X),X.onBeforeCompile(Jt,O),ve=de.acquireProgram(Jt,se),be.set(se,ve),vt.uniforms=Jt.uniforms;const Se=vt.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Se.clippingPlanes=oe.uniform),rt(X,Jt),vt.needsLights=zt(X),vt.lightsStateVersion=Yt,vt.needsLights&&(Se.ambientLightColor.value=St.state.ambient,Se.lightProbe.value=St.state.probe,Se.directionalLights.value=St.state.directional,Se.directionalLightShadows.value=St.state.directionalShadow,Se.spotLights.value=St.state.spot,Se.spotLightShadows.value=St.state.spotShadow,Se.rectAreaLights.value=St.state.rectArea,Se.ltc_1.value=St.state.rectAreaLTC1,Se.ltc_2.value=St.state.rectAreaLTC2,Se.pointLights.value=St.state.point,Se.pointLightShadows.value=St.state.pointShadow,Se.hemisphereLights.value=St.state.hemi,Se.directionalShadowMap.value=St.state.directionalShadowMap,Se.directionalShadowMatrix.value=St.state.directionalShadowMatrix,Se.spotShadowMap.value=St.state.spotShadowMap,Se.spotLightMatrix.value=St.state.spotLightMatrix,Se.spotLightMap.value=St.state.spotLightMap,Se.pointShadowMap.value=St.state.pointShadowMap,Se.pointShadowMatrix.value=St.state.pointShadowMatrix),vt.currentProgram=ve,vt.uniformsList=null,ve}function q(X){if(X.uniformsList===null){const ut=X.currentProgram.getUniforms();X.uniformsList=N_.seqWithValue(ut.seq,X.uniforms)}return X.uniformsList}function rt(X,ut){const gt=Zt.get(X);gt.outputColorSpace=ut.outputColorSpace,gt.batching=ut.batching,gt.batchingColor=ut.batchingColor,gt.instancing=ut.instancing,gt.instancingColor=ut.instancingColor,gt.instancingMorph=ut.instancingMorph,gt.skinning=ut.skinning,gt.morphTargets=ut.morphTargets,gt.morphNormals=ut.morphNormals,gt.morphColors=ut.morphColors,gt.morphTargetsCount=ut.morphTargetsCount,gt.numClippingPlanes=ut.numClippingPlanes,gt.numIntersection=ut.numClipIntersection,gt.vertexAlphas=ut.vertexAlphas,gt.vertexTangents=ut.vertexTangents,gt.toneMapping=ut.toneMapping}function _t(X,ut,gt,vt,St){ut.isScene!==!0&&(ut=Kt),ot.resetTextureUnits();const Rt=ut.fog,Yt=vt.isMeshStandardMaterial?ut.environment:null,Jt=N===null?O.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Co,se=(vt.isMeshStandardMaterial?Dt:Z).get(vt.envMap||Yt),be=vt.vertexColors===!0&&!!gt.attributes.color&&gt.attributes.color.itemSize===4,ve=!!gt.attributes.tangent&&(!!vt.normalMap||vt.anisotropy>0),Se=!!gt.morphAttributes.position,je=!!gt.morphAttributes.normal,Be=!!gt.morphAttributes.color;let Nn=Sl;vt.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(Nn=O.toneMapping);const Ne=gt.morphAttributes.position||gt.morphAttributes.normal||gt.morphAttributes.color,ke=Ne!==void 0?Ne.length:0,Le=Zt.get(vt),Kn=x.state.lights;if(ft===!0&&(lt===!0||X!==U)){const ei=X===U&&vt.id===L;oe.setState(vt,X,ei)}let rn=!1;vt.version===Le.__version?(Le.needsLights&&Le.lightsStateVersion!==Kn.state.version||Le.outputColorSpace!==Jt||St.isBatchedMesh&&Le.batching===!1||!St.isBatchedMesh&&Le.batching===!0||St.isBatchedMesh&&Le.batchingColor===!0&&St.colorTexture===null||St.isBatchedMesh&&Le.batchingColor===!1&&St.colorTexture!==null||St.isInstancedMesh&&Le.instancing===!1||!St.isInstancedMesh&&Le.instancing===!0||St.isSkinnedMesh&&Le.skinning===!1||!St.isSkinnedMesh&&Le.skinning===!0||St.isInstancedMesh&&Le.instancingColor===!0&&St.instanceColor===null||St.isInstancedMesh&&Le.instancingColor===!1&&St.instanceColor!==null||St.isInstancedMesh&&Le.instancingMorph===!0&&St.morphTexture===null||St.isInstancedMesh&&Le.instancingMorph===!1&&St.morphTexture!==null||Le.envMap!==se||vt.fog===!0&&Le.fog!==Rt||Le.numClippingPlanes!==void 0&&(Le.numClippingPlanes!==oe.numPlanes||Le.numIntersection!==oe.numIntersection)||Le.vertexAlphas!==be||Le.vertexTangents!==ve||Le.morphTargets!==Se||Le.morphNormals!==je||Le.morphColors!==Be||Le.toneMapping!==Nn||Le.morphTargetsCount!==ke)&&(rn=!0):(rn=!0,Le.__version=vt.version);let fn=Le.currentProgram;rn===!0&&(fn=qn(vt,ut,St));let ti=!1,Xe=!1,bn=!1;const vn=fn.getUniforms(),vi=Le.uniforms;if(It.useProgram(fn.program)&&(ti=!0,Xe=!0,bn=!0),vt.id!==L&&(L=vt.id,Xe=!0),ti||U!==X){It.buffers.depth.getReversed()?(pt.copy(X.projectionMatrix),e8(pt),n8(pt),vn.setValue(et,"projectionMatrix",pt)):vn.setValue(et,"projectionMatrix",X.projectionMatrix),vn.setValue(et,"viewMatrix",X.matrixWorldInverse);const tr=vn.map.cameraPosition;tr!==void 0&&tr.setValue(et,Ct.setFromMatrixPosition(X.matrixWorld)),Xt.logarithmicDepthBuffer&&vn.setValue(et,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(vt.isMeshPhongMaterial||vt.isMeshToonMaterial||vt.isMeshLambertMaterial||vt.isMeshBasicMaterial||vt.isMeshStandardMaterial||vt.isShaderMaterial)&&vn.setValue(et,"isOrthographic",X.isOrthographicCamera===!0),U!==X&&(U=X,Xe=!0,bn=!0)}if(St.isSkinnedMesh){vn.setOptional(et,St,"bindMatrix"),vn.setOptional(et,St,"bindMatrixInverse");const ei=St.skeleton;ei&&(ei.boneTexture===null&&ei.computeBoneTexture(),vn.setValue(et,"boneTexture",ei.boneTexture,ot))}St.isBatchedMesh&&(vn.setOptional(et,St,"batchingTexture"),vn.setValue(et,"batchingTexture",St._matricesTexture,ot),vn.setOptional(et,St,"batchingIdTexture"),vn.setValue(et,"batchingIdTexture",St._indirectTexture,ot),vn.setOptional(et,St,"batchingColorTexture"),St._colorsTexture!==null&&vn.setValue(et,"batchingColorTexture",St._colorsTexture,ot));const Un=gt.morphAttributes;if((Un.position!==void 0||Un.normal!==void 0||Un.color!==void 0)&&De.update(St,gt,fn),(Xe||Le.receiveShadow!==St.receiveShadow)&&(Le.receiveShadow=St.receiveShadow,vn.setValue(et,"receiveShadow",St.receiveShadow)),vt.isMeshGouraudMaterial&&vt.envMap!==null&&(vi.envMap.value=se,vi.flipEnvMap.value=se.isCubeTexture&&se.isRenderTargetTexture===!1?-1:1),vt.isMeshStandardMaterial&&vt.envMap===null&&ut.environment!==null&&(vi.envMapIntensity.value=ut.environmentIntensity),Xe&&(vn.setValue(et,"toneMappingExposure",O.toneMappingExposure),Le.needsLights&&Lt(vi,bn),Rt&&vt.fog===!0&&fe.refreshFogUniforms(vi,Rt),fe.refreshMaterialUniforms(vi,vt,V,k,x.state.transmissionRenderTarget[X.id]),N_.upload(et,q(Le),vi,ot)),vt.isShaderMaterial&&vt.uniformsNeedUpdate===!0&&(N_.upload(et,q(Le),vi,ot),vt.uniformsNeedUpdate=!1),vt.isSpriteMaterial&&vn.setValue(et,"center",St.center),vn.setValue(et,"modelViewMatrix",St.modelViewMatrix),vn.setValue(et,"normalMatrix",St.normalMatrix),vn.setValue(et,"modelMatrix",St.matrixWorld),vt.isShaderMaterial||vt.isRawShaderMaterial){const ei=vt.uniformsGroups;for(let tr=0,Or=ei.length;tr<Or;tr++){const _a=ei[tr];Et.update(_a,fn),Et.bind(_a,fn)}}return fn}function Lt(X,ut){X.ambientLightColor.needsUpdate=ut,X.lightProbe.needsUpdate=ut,X.directionalLights.needsUpdate=ut,X.directionalLightShadows.needsUpdate=ut,X.pointLights.needsUpdate=ut,X.pointLightShadows.needsUpdate=ut,X.spotLights.needsUpdate=ut,X.spotLightShadows.needsUpdate=ut,X.rectAreaLights.needsUpdate=ut,X.hemisphereLights.needsUpdate=ut}function zt(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(X,ut,gt){const vt=Zt.get(X);vt.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,vt.__autoAllocateDepthBuffer===!1&&(vt.__useRenderToTexture=!1),Zt.get(X.texture).__webglTexture=ut,Zt.get(X.depthTexture).__webglTexture=vt.__autoAllocateDepthBuffer?void 0:gt,vt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,ut){const gt=Zt.get(X);gt.__webglFramebuffer=ut,gt.__useDefaultFramebuffer=ut===void 0};const qt=et.createFramebuffer();this.setRenderTarget=function(X,ut=0,gt=0){N=X,P=ut,B=gt;let vt=!0,St=null,Rt=!1,Yt=!1;if(X){const se=Zt.get(X);if(se.__useDefaultFramebuffer!==void 0)It.bindFramebuffer(et.FRAMEBUFFER,null),vt=!1;else if(se.__webglFramebuffer===void 0)ot.setupRenderTarget(X);else if(se.__hasExternalTextures)ot.rebindTextures(X,Zt.get(X.texture).__webglTexture,Zt.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const Se=X.depthTexture;if(se.__boundDepthTexture!==Se){if(Se!==null&&Zt.has(Se)&&(X.width!==Se.image.width||X.height!==Se.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ot.setupDepthRenderbuffer(X)}}const be=X.texture;(be.isData3DTexture||be.isDataArrayTexture||be.isCompressedArrayTexture)&&(Yt=!0);const ve=Zt.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(ve[ut])?St=ve[ut][gt]:St=ve[ut],Rt=!0):X.samples>0&&ot.useMultisampledRTT(X)===!1?St=Zt.get(X).__webglMultisampledFramebuffer:Array.isArray(ve)?St=ve[gt]:St=ve,F.copy(X.viewport),K.copy(X.scissor),tt=X.scissorTest}else F.copy(st).multiplyScalar(V).floor(),K.copy(ht).multiplyScalar(V).floor(),tt=dt;if(gt!==0&&(St=qt),It.bindFramebuffer(et.FRAMEBUFFER,St)&&vt&&It.drawBuffers(X,St),It.viewport(F),It.scissor(K),It.setScissorTest(tt),Rt){const se=Zt.get(X.texture);et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_CUBE_MAP_POSITIVE_X+ut,se.__webglTexture,gt)}else if(Yt){const se=Zt.get(X.texture),be=ut;et.framebufferTextureLayer(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,se.__webglTexture,gt,be)}else if(X!==null&&gt!==0){const se=Zt.get(X.texture);et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,se.__webglTexture,gt)}L=-1},this.readRenderTargetPixels=function(X,ut,gt,vt,St,Rt,Yt){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Jt=Zt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&Yt!==void 0&&(Jt=Jt[Yt]),Jt){It.bindFramebuffer(et.FRAMEBUFFER,Jt);try{const se=X.texture,be=se.format,ve=se.type;if(!Xt.textureFormatReadable(be)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Xt.textureTypeReadable(ve)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ut>=0&&ut<=X.width-vt&&gt>=0&&gt<=X.height-St&&et.readPixels(ut,gt,vt,St,Oe.convert(be),Oe.convert(ve),Rt)}finally{const se=N!==null?Zt.get(N).__webglFramebuffer:null;It.bindFramebuffer(et.FRAMEBUFFER,se)}}},this.readRenderTargetPixelsAsync=async function(X,ut,gt,vt,St,Rt,Yt){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Jt=Zt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&Yt!==void 0&&(Jt=Jt[Yt]),Jt)if(ut>=0&&ut<=X.width-vt&&gt>=0&&gt<=X.height-St){It.bindFramebuffer(et.FRAMEBUFFER,Jt);const se=X.texture,be=se.format,ve=se.type;if(!Xt.textureFormatReadable(be))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Xt.textureTypeReadable(ve))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Se=et.createBuffer();et.bindBuffer(et.PIXEL_PACK_BUFFER,Se),et.bufferData(et.PIXEL_PACK_BUFFER,Rt.byteLength,et.STREAM_READ),et.readPixels(ut,gt,vt,St,Oe.convert(be),Oe.convert(ve),0);const je=N!==null?Zt.get(N).__webglFramebuffer:null;It.bindFramebuffer(et.FRAMEBUFFER,je);const Be=et.fenceSync(et.SYNC_GPU_COMMANDS_COMPLETE,0);return et.flush(),await t8(et,Be,4),et.bindBuffer(et.PIXEL_PACK_BUFFER,Se),et.getBufferSubData(et.PIXEL_PACK_BUFFER,0,Rt),et.deleteBuffer(Se),et.deleteSync(Be),Rt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,ut=null,gt=0){const vt=Math.pow(2,-gt),St=Math.floor(X.image.width*vt),Rt=Math.floor(X.image.height*vt),Yt=ut!==null?ut.x:0,Jt=ut!==null?ut.y:0;ot.setTexture2D(X,0),et.copyTexSubImage2D(et.TEXTURE_2D,gt,0,0,Yt,Jt,St,Rt),It.unbindTexture()};const he=et.createFramebuffer(),ae=et.createFramebuffer();this.copyTextureToTexture=function(X,ut,gt=null,vt=null,St=0,Rt=null){Rt===null&&(St!==0?(C_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Rt=St,St=0):Rt=0);let Yt,Jt,se,be,ve,Se,je,Be,Nn;const Ne=X.isCompressedTexture?X.mipmaps[Rt]:X.image;if(gt!==null)Yt=gt.max.x-gt.min.x,Jt=gt.max.y-gt.min.y,se=gt.isBox3?gt.max.z-gt.min.z:1,be=gt.min.x,ve=gt.min.y,Se=gt.isBox3?gt.min.z:0;else{const Un=Math.pow(2,-St);Yt=Math.floor(Ne.width*Un),Jt=Math.floor(Ne.height*Un),X.isDataArrayTexture?se=Ne.depth:X.isData3DTexture?se=Math.floor(Ne.depth*Un):se=1,be=0,ve=0,Se=0}vt!==null?(je=vt.x,Be=vt.y,Nn=vt.z):(je=0,Be=0,Nn=0);const ke=Oe.convert(ut.format),Le=Oe.convert(ut.type);let Kn;ut.isData3DTexture?(ot.setTexture3D(ut,0),Kn=et.TEXTURE_3D):ut.isDataArrayTexture||ut.isCompressedArrayTexture?(ot.setTexture2DArray(ut,0),Kn=et.TEXTURE_2D_ARRAY):(ot.setTexture2D(ut,0),Kn=et.TEXTURE_2D),et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,ut.flipY),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ut.premultiplyAlpha),et.pixelStorei(et.UNPACK_ALIGNMENT,ut.unpackAlignment);const rn=et.getParameter(et.UNPACK_ROW_LENGTH),fn=et.getParameter(et.UNPACK_IMAGE_HEIGHT),ti=et.getParameter(et.UNPACK_SKIP_PIXELS),Xe=et.getParameter(et.UNPACK_SKIP_ROWS),bn=et.getParameter(et.UNPACK_SKIP_IMAGES);et.pixelStorei(et.UNPACK_ROW_LENGTH,Ne.width),et.pixelStorei(et.UNPACK_IMAGE_HEIGHT,Ne.height),et.pixelStorei(et.UNPACK_SKIP_PIXELS,be),et.pixelStorei(et.UNPACK_SKIP_ROWS,ve),et.pixelStorei(et.UNPACK_SKIP_IMAGES,Se);const vn=X.isDataArrayTexture||X.isData3DTexture,vi=ut.isDataArrayTexture||ut.isData3DTexture;if(X.isDepthTexture){const Un=Zt.get(X),ei=Zt.get(ut),tr=Zt.get(Un.__renderTarget),Or=Zt.get(ei.__renderTarget);It.bindFramebuffer(et.READ_FRAMEBUFFER,tr.__webglFramebuffer),It.bindFramebuffer(et.DRAW_FRAMEBUFFER,Or.__webglFramebuffer);for(let _a=0;_a<se;_a++)vn&&(et.framebufferTextureLayer(et.READ_FRAMEBUFFER,et.COLOR_ATTACHMENT0,Zt.get(X).__webglTexture,St,Se+_a),et.framebufferTextureLayer(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0,Zt.get(ut).__webglTexture,Rt,Nn+_a)),et.blitFramebuffer(be,ve,Yt,Jt,je,Be,Yt,Jt,et.DEPTH_BUFFER_BIT,et.NEAREST);It.bindFramebuffer(et.READ_FRAMEBUFFER,null),It.bindFramebuffer(et.DRAW_FRAMEBUFFER,null)}else if(St!==0||X.isRenderTargetTexture||Zt.has(X)){const Un=Zt.get(X),ei=Zt.get(ut);It.bindFramebuffer(et.READ_FRAMEBUFFER,he),It.bindFramebuffer(et.DRAW_FRAMEBUFFER,ae);for(let tr=0;tr<se;tr++)vn?et.framebufferTextureLayer(et.READ_FRAMEBUFFER,et.COLOR_ATTACHMENT0,Un.__webglTexture,St,Se+tr):et.framebufferTexture2D(et.READ_FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,Un.__webglTexture,St),vi?et.framebufferTextureLayer(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0,ei.__webglTexture,Rt,Nn+tr):et.framebufferTexture2D(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,ei.__webglTexture,Rt),St!==0?et.blitFramebuffer(be,ve,Yt,Jt,je,Be,Yt,Jt,et.COLOR_BUFFER_BIT,et.NEAREST):vi?et.copyTexSubImage3D(Kn,Rt,je,Be,Nn+tr,be,ve,Yt,Jt):et.copyTexSubImage2D(Kn,Rt,je,Be,be,ve,Yt,Jt);It.bindFramebuffer(et.READ_FRAMEBUFFER,null),It.bindFramebuffer(et.DRAW_FRAMEBUFFER,null)}else vi?X.isDataTexture||X.isData3DTexture?et.texSubImage3D(Kn,Rt,je,Be,Nn,Yt,Jt,se,ke,Le,Ne.data):ut.isCompressedArrayTexture?et.compressedTexSubImage3D(Kn,Rt,je,Be,Nn,Yt,Jt,se,ke,Ne.data):et.texSubImage3D(Kn,Rt,je,Be,Nn,Yt,Jt,se,ke,Le,Ne):X.isDataTexture?et.texSubImage2D(et.TEXTURE_2D,Rt,je,Be,Yt,Jt,ke,Le,Ne.data):X.isCompressedTexture?et.compressedTexSubImage2D(et.TEXTURE_2D,Rt,je,Be,Ne.width,Ne.height,ke,Ne.data):et.texSubImage2D(et.TEXTURE_2D,Rt,je,Be,Yt,Jt,ke,Le,Ne);et.pixelStorei(et.UNPACK_ROW_LENGTH,rn),et.pixelStorei(et.UNPACK_IMAGE_HEIGHT,fn),et.pixelStorei(et.UNPACK_SKIP_PIXELS,ti),et.pixelStorei(et.UNPACK_SKIP_ROWS,Xe),et.pixelStorei(et.UNPACK_SKIP_IMAGES,bn),Rt===0&&ut.generateMipmaps&&et.generateMipmap(Kn),It.unbindTexture()},this.copyTextureToTexture3D=function(X,ut,gt=null,vt=null,St=0){return C_('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(X,ut,gt,vt,St)},this.initRenderTarget=function(X){Zt.get(X).__webglFramebuffer===void 0&&ot.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?ot.setTextureCube(X,0):X.isData3DTexture?ot.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?ot.setTexture2DArray(X,0):ot.setTexture2D(X,0),It.unbindTexture()},this.resetState=function(){P=0,B=0,N=null,It.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=Bn._getDrawingBufferColorSpace(t),e.unpackColorSpace=Bn._getUnpackColorSpace()}}const dq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:ZE,AddEquation:wu,AddOperation:jO,AdditiveAnimationBlendMode:nD,AdditiveBlending:BM,AgXToneMapping:ZO,AlphaFormat:JE,AlwaysCompare:uN,AlwaysDepth:W_,AlwaysStencilFunc:GM,AmbientLight:nL,AnimationAction:fL,AnimationClip:ov,AnimationLoader:wV,AnimationMixer:ek,AnimationObjectGroup:$V,AnimationUtils:EV,ArcCurve:wN,ArrayCamera:lL,ArrowHelper:Ek,AttachedBindMode:VM,Audio:cL,AudioAnalyser:GV,AudioContext:AD,AudioListener:FV,AudioLoader:zV,AxesHelper:Dk,BackSide:ws,BasicDepthPacking:eN,BasicShadowMap:EO,BatchedMesh:MN,Bone:cD,BooleanKeyframeTrack:yh,Box2:uk,Box3:Gr,Box3Helper:Sk,BoxGeometry:vh,BoxHelper:bk,BufferAttribute:li,BufferGeometry:xn,BufferGeometryLoader:oL,ByteType:sb,Cache:fc,Camera:pb,CameraHelper:xk,CanvasTexture:X8,CapsuleGeometry:Sb,CatmullRomCurve3:RN,CineonToneMapping:YO,CircleGeometry:Mb,ClampToEdgeWrapping:or,Clock:TD,Color:Ce,ColorKeyframeTrack:MD,ColorManagement:Bn,CompressedArrayTexture:j8,CompressedCubeTexture:q8,CompressedTexture:xb,CompressedTextureLoader:RV,ConeGeometry:Lp,ConstantAlphaFactor:VO,ConstantColorFactor:HO,Controls:Tk,CubeCamera:vN,CubeReflectionMapping:El,CubeRefractionMapping:Bu,CubeTexture:Ev,CubeTextureLoader:QN,CubeUVReflectionMapping:Rp,CubicBezierCurve:hD,CubicBezierCurve3:dD,CubicInterpolant:YN,CullFaceBack:zM,CullFaceFront:MO,CullFaceFrontBack:tF,CullFaceNone:SO,Curve:Lo,CurvePath:ON,CustomBlending:DO,CustomToneMapping:WO,CylinderGeometry:Np,Cylindrical:ck,Data3DTexture:db,DataArrayTexture:Mv,DataTexture:To,DataTextureLoader:ED,DataUtils:eh,DecrementStencilOp:dF,DecrementWrapStencilOp:mF,DefaultLoadingManager:KN,DepthArrayTexture:Y8,DepthFormat:hp,DepthStencilFormat:dp,DepthTexture:bb,DetachedBindMode:QO,DirectionalLight:eL,DirectionalLightHelper:_k,DiscreteInterpolant:WN,DodecahedronGeometry:Eb,DoubleSide:Eo,DstAlphaFactor:UO,DstColorFactor:IO,DynamicCopyUsage:CF,DynamicDrawUsage:EF,DynamicReadUsage:TF,EdgesGeometry:TN,EllipseCurve:Db,EqualCompare:aN,EqualDepth:K_,EqualStencilFunc:_F,EquirectangularReflectionMapping:cp,EquirectangularRefractionMapping:Yg,Euler:ya,EventDispatcher:Tl,ExtrudeGeometry:Tb,FileLoader:va,Float16BufferAttribute:M8,Float32BufferAttribute:ze,FloatType:ki,Fog:gb,FogExp2:mb,FramebufferTexture:G8,FrontSide:_c,Frustum:Op,FrustumArray:_b,GLBufferAttribute:ok,GLSL1:NF,GLSL3:jM,GreaterCompare:oN,GreaterDepth:J_,GreaterEqualCompare:cN,GreaterEqualDepth:Q_,GreaterEqualStencilFunc:MF,GreaterStencilFunc:bF,GridHelper:vk,Group:Cu,HalfFloatType:Cr,HemisphereLight:JN,HemisphereLightHelper:gk,IcosahedronGeometry:Av,ImageBitmapLoader:IV,ImageLoader:lv,ImageUtils:dN,IncrementStencilOp:hF,IncrementWrapStencilOp:pF,InstancedBufferAttribute:vp,InstancedBufferGeometry:aL,InstancedInterleavedBuffer:ak,InstancedMesh:SN,Int16BufferAttribute:b8,Int32BufferAttribute:S8,Int8BufferAttribute:y8,IntType:xv,InterleavedBuffer:vb,InterleavedBufferAttribute:uh,Interpolant:Rv,InterpolateDiscrete:Kg,InterpolateLinear:Ax,InterpolateSmooth:R_,InterpolationSamplingMode:PF,InterpolationSamplingType:UF,InvertStencilOp:gF,KeepStencilOp:Kf,KeyframeTrack:Ga,LOD:xN,LatheGeometry:wb,Layers:mp,LessCompare:sN,LessDepth:Z_,LessEqualCompare:iD,LessEqualDepth:ch,LessEqualStencilFunc:xF,LessStencilFunc:yF,Light:Gu,LightProbe:sL,Line:xc,Line3:fk,LineBasicMaterial:os,LineCurve:pD,LineCurve3:CN,LineDashedMaterial:jN,LineLoop:EN,LineSegments:wl,LinearFilter:oi,LinearInterpolant:SD,LinearMipMapLinearFilter:kM,LinearMipMapNearestFilter:iF,LinearMipmapLinearFilter:_l,LinearMipmapNearestFilter:Rg,LinearSRGBColorSpace:Co,LinearToneMapping:qO,LinearTransfer:Jg,Loader:Ns,LoaderUtils:ZM,LoadingManager:Ub,LoopOnce:JO,LoopPingPong:tN,LoopRepeat:$O,MOUSE:w_,Material:as,MaterialLoader:Pb,MathUtils:JF,Matrix2:ND,Matrix3:_n,Matrix4:en,MaxEquation:RO,Mesh:Ni,MeshBasicMaterial:Sc,MeshDepthMaterial:_D,MeshDistanceMaterial:xD,MeshLambertMaterial:yD,MeshMatcapMaterial:GN,MeshNormalMaterial:kN,MeshPhongMaterial:FN,MeshPhysicalMaterial:HN,MeshStandardMaterial:vD,MeshToonMaterial:VN,MinEquation:wO,MirroredRepeatWrapping:Zg,MixOperation:GO,MultiplyBlending:FM,MultiplyOperation:_v,NearestFilter:kr,NearestMipMapLinearFilter:nF,NearestMipMapNearestFilter:eF,NearestMipmapLinearFilter:Qd,NearestMipmapNearestFilter:KE,NeutralToneMapping:KO,NeverCompare:rN,NeverDepth:Y_,NeverStencilFunc:vF,NoBlending:bl,NoColorSpace:cc,NoToneMapping:Sl,NormalAnimationBlendMode:fb,NormalBlending:rh,NotEqualCompare:lN,NotEqualDepth:$_,NotEqualStencilFunc:SF,NumberKeyframeTrack:sv,Object3D:jn,ObjectLoader:UV,ObjectSpaceNormalMap:iN,OctahedronGeometry:Tv,OneFactor:OO,OneMinusConstantAlphaFactor:kO,OneMinusConstantColorFactor:FO,OneMinusDstAlphaFactor:PO,OneMinusDstColorFactor:zO,OneMinusSrcAlphaFactor:X_,OneMinusSrcColorFactor:LO,OrthographicCamera:Pp,PCFShadowMap:rb,PCFSoftShadowMap:wg,PMREMGenerator:JM,Path:Cx,PerspectiveCamera:Rr,Plane:Tu,PlaneGeometry:ku,PlaneHelper:Mk,PointLight:tL,PointLightHelper:pk,Points:DN,PointsMaterial:uD,PolarGridHelper:yk,PolyhedronGeometry:Vu,PositionalAudio:kV,PropertyBinding:kn,PropertyMixer:uL,QuadraticBezierCurve:mD,QuadraticBezierCurve3:Ab,Quaternion:Rs,QuaternionKeyframeTrack:Cv,QuaternionLinearInterpolant:ZN,RED_GREEN_RGTC2_Format:Ex,RED_RGTC1_Format:eD,REVISION:yv,RGBADepthPacking:nN,RGBAFormat:$i,RGBAIntegerFormat:ub,RGBA_ASTC_10x10_Format:yx,RGBA_ASTC_10x5_Format:mx,RGBA_ASTC_10x6_Format:gx,RGBA_ASTC_10x8_Format:vx,RGBA_ASTC_12x10_Format:_x,RGBA_ASTC_12x12_Format:xx,RGBA_ASTC_4x4_Format:ox,RGBA_ASTC_5x4_Format:lx,RGBA_ASTC_5x5_Format:cx,RGBA_ASTC_6x5_Format:ux,RGBA_ASTC_6x6_Format:fx,RGBA_ASTC_8x5_Format:hx,RGBA_ASTC_8x6_Format:dx,RGBA_ASTC_8x8_Format:px,RGBA_BPTC_Format:Ug,RGBA_ETC2_EAC_Format:ax,RGBA_PVRTC_2BPPV1_Format:ix,RGBA_PVRTC_4BPPV1_Format:nx,RGBA_S3TC_DXT1_Format:Og,RGBA_S3TC_DXT3_Format:Ng,RGBA_S3TC_DXT5_Format:Lg,RGBDepthPacking:lF,RGBFormat:$E,RGBIntegerFormat:rF,RGB_BPTC_SIGNED_Format:bx,RGB_BPTC_UNSIGNED_Format:Sx,RGB_ETC1_Format:rx,RGB_ETC2_Format:sx,RGB_PVRTC_2BPPV1_Format:ex,RGB_PVRTC_4BPPV1_Format:tx,RGB_S3TC_DXT1_Format:Cg,RGDepthPacking:cF,RGFormat:tD,RGIntegerFormat:cb,RawShaderMaterial:BN,Ray:Cp,Raycaster:OD,RectAreaLight:iL,RedFormat:bv,RedIntegerFormat:Sv,ReinhardToneMapping:XO,RenderTarget:hb,RenderTarget3D:nk,RenderTargetArray:ik,RepeatWrapping:Wg,ReplaceStencilOp:fF,ReverseSubtractEquation:TO,RingGeometry:Rb,SIGNED_RED_GREEN_RGTC2_Format:Dx,SIGNED_RED_RGTC1_Format:Mx,SRGBColorSpace:Vr,SRGBTransfer:ai,Scene:Dv,ShaderChunk:Dn,ShaderLib:Mo,ShaderMaterial:Ks,ShadowMaterial:zN,Shape:ah,ShapeGeometry:Cb,ShapePath:Ak,ShapeUtils:Do,ShortType:ab,Skeleton:yb,SkeletonHelper:dk,SkinnedMesh:bN,Source:Ru,Sphere:jr,SphereGeometry:Up,Spherical:lk,SphericalHarmonics3:rL,SplineCurve:gD,SpotLight:$N,SpotLightHelper:hk,Sprite:_N,SpriteMaterial:lD,SrcAlphaFactor:q_,SrcAlphaSaturateFactor:BO,SrcColorFactor:NO,StaticCopyUsage:RF,StaticDrawUsage:$g,StaticReadUsage:AF,StereoCamera:BV,StreamCopyUsage:OF,StreamDrawUsage:DF,StreamReadUsage:wF,StringKeyframeTrack:_h,SubtractEquation:AO,SubtractiveBlending:HM,TOUCH:$6,TangentSpaceNormalMap:Fu,TetrahedronGeometry:Ob,Texture:mi,TextureLoader:CV,TextureUtils:Nk,TimestampQuery:LF,TorusGeometry:Nb,TorusKnotGeometry:Lb,Triangle:Zs,TriangleFanDrawMode:oF,TriangleStripDrawMode:aF,TrianglesDrawMode:sF,TubeGeometry:wv,UVMapping:zu,Uint16BufferAttribute:sD,Uint32BufferAttribute:aD,Uint8BufferAttribute:_8,Uint8ClampedBufferAttribute:x8,Uniform:CD,UniformsGroup:sk,UniformsLib:we,UniformsUtils:gN,UnsignedByteType:Cs,UnsignedInt248Type:fp,UnsignedInt5999Type:QE,UnsignedIntType:Dl,UnsignedShort4444Type:ob,UnsignedShort5551Type:lb,UnsignedShortType:up,VSMShadowMap:xo,Vector2:ee,Vector3:ct,Vector4:Gn,VectorKeyframeTrack:av,VideoFrameTexture:k8,VideoTexture:AN,WebGL3DRenderTarget:o8,WebGLArrayRenderTarget:a8,WebGLCoordinateSystem:Fa,WebGLCubeRenderTarget:oD,WebGLRenderTarget:ka,WebGLRenderer:UD,WebGLUtils:yL,WebGPUCoordinateSystem:tv,WebXRController:O_,WireframeGeometry:IN,WrapAroundEnding:Qg,ZeroCurvatureEnding:$f,ZeroFactor:CO,ZeroSlopeEnding:th,ZeroStencilOp:uF,createCanvasElement:hN},Symbol.toStringTag,{value:"Module"}));var z1={exports:{}},sc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function pq(){return xR||(xR=1,sc.ConcurrentRoot=1,sc.ContinuousEventPriority=8,sc.DefaultEventPriority=32,sc.DiscreteEventPriority=2,sc.IdleEventPriority=268435456,sc.LegacyRoot=0,sc.NoEventPriority=0),sc}var bR;function mq(){return bR||(bR=1,z1.exports=pq()),z1.exports}var L_=mq(),B1={exports:{}},H1={},F1={exports:{}},V1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR;function gq(){if(SR)return V1;SR=1;var n=Ep();function t(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(v,_){var b=_(),S=i({inst:{value:b,getSnapshot:_}}),A=S[0].inst,M=S[1];return a(function(){A.value=b,A.getSnapshot=_,h(A)&&M({inst:A})},[v,b,_]),r(function(){return h(A)&&M({inst:A}),v(function(){h(A)&&M({inst:A})})},[v]),l(b),b}function h(v){var _=v.getSnapshot;v=v.value;try{var b=_();return!e(v,b)}catch{return!0}}function p(v,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return V1.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,V1}var MR;function vq(){return MR||(MR=1,F1.exports=gq()),F1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER;function yq(){if(ER)return H1;ER=1;var n=Ep(),t=vq();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return H1.useSyncExternalStoreWithSelector=function(p,m,v,_,b){var S=a(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=u(function(){function x(P){if(!T){if(T=!0,R=P,P=_(P),b!==void 0&&A.hasValue){var B=A.value;if(b(B,P))return O=B}return O=P}if(B=O,i(R,P))return B;var N=_(P);return b!==void 0&&b(B,N)?(R=P,B):(R=P,O=N)}var T=!1,R,O,I=v===void 0?null:v;return[function(){return x(m())},I===null?void 0:function(){return x(I())}]},[m,v,_,b]);var M=r(p,S[0],S[1]);return l(function(){A.hasValue=!0,A.value=M},[M]),h(M),M},H1}var DR;function _q(){return DR||(DR=1,B1.exports=yq()),B1.exports}var xq=_q();const bq=bc(xq),{useSyncExternalStoreWithSelector:Sq}=bq,Mq=n=>n;function Eq(n,t=Mq,e){const i=Sq(n.subscribe,n.getState,n.getInitialState,t,e);return bo.useDebugValue(i),i}const AR=(n,t)=>{const e=x3(n),i=(r,a=t)=>Eq(e,r,a);return Object.assign(i,e),i},_L=(n,t)=>n?AR(n,t):AR;var k1={exports:{}},G1={exports:{}},j1={exports:{}},q1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function Dq(){return TR||(TR=1,function(n){function t(H,k){var V=H.length;H.push(k);t:for(;0<V;){var Q=V-1>>>1,j=H[Q];if(0<r(j,k))H[Q]=k,H[V]=j,V=Q;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var k=H[0],V=H.pop();if(V!==k){H[0]=V;t:for(var Q=0,j=H.length,st=j>>>1;Q<st;){var ht=2*(Q+1)-1,dt=H[ht],$=ht+1,ft=H[$];if(0>r(dt,V))$<j&&0>r(ft,dt)?(H[Q]=ft,H[$]=V,Q=$):(H[Q]=dt,H[ht]=V,Q=ht);else if($<j&&0>r(ft,V))H[Q]=ft,H[$]=V,Q=$;else break t}}return k}function r(H,k){var V=H.sortIndex-k.sortIndex;return V!==0?V:H.id-k.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,_=3,b=!1,S=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var k=e(p);k!==null;){if(k.callback===null)i(p);else if(k.startTime<=H)i(p),k.sortIndex=k.expirationTime,t(h,k);else break;k=e(p)}}function O(H){if(A=!1,R(H),!S)if(e(h)!==null)S=!0,nt();else{var k=e(p);k!==null&&at(O,k.startTime-H)}}var I=!1,P=-1,B=5,N=-1;function L(){return!(n.unstable_now()-N<B)}function U(){if(I){var H=n.unstable_now();N=H;var k=!0;try{t:{S=!1,A&&(A=!1,x(P),P=-1),b=!0;var V=_;try{e:{for(R(H),v=e(h);v!==null&&!(v.expirationTime>H&&L());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,_=v.priorityLevel;var j=Q(v.expirationTime<=H);if(H=n.unstable_now(),typeof j=="function"){v.callback=j,R(H),k=!0;break e}v===e(h)&&i(h),R(H)}else i(h);v=e(h)}if(v!==null)k=!0;else{var st=e(p);st!==null&&at(O,st.startTime-H),k=!1}}break t}finally{v=null,_=V,b=!1}k=void 0}}finally{k?F():I=!1}}}var F;if(typeof T=="function")F=function(){T(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,tt=K.port2;K.port1.onmessage=U,F=function(){tt.postMessage(null)}}else F=function(){M(U,0)};function nt(){I||(I=!0,F())}function at(H,k){P=M(function(){H(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,nt())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(H){switch(_){case 1:case 2:case 3:var k=3;break;default:k=_}var V=_;_=k;try{return H()}finally{_=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,k){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var V=_;_=H;try{return k()}finally{_=V}},n.unstable_scheduleCallback=function(H,k,V){var Q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,H={id:m++,callback:k,priorityLevel:H,startTime:V,expirationTime:j,sortIndex:-1},V>Q?(H.sortIndex=V,t(p,H),e(h)===null&&H===e(p)&&(A?(x(P),P=-1):A=!0,at(O,V-Q))):(H.sortIndex=j,t(h,H),S||b||(S=!0,nt())),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var k=_;return function(){var V=_;_=k;try{return H.apply(this,arguments)}finally{_=V}}}}(q1)),q1}var wR;function xL(){return wR||(wR=1,j1.exports=Dq()),j1.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR;function Aq(){return RR||(RR=1,function(n){n.exports=function(t){function e(c,f,y,D){return new dm(c,f,y,D)}function i(){}function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return c===null||typeof c!="object"?null:(c=no&&c[no]||c["@@iterator"],typeof c=="function"?c:null)}function l(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===vm?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Zo:return"Fragment";case zs:return"Portal";case Gh:return"Profiler";case yf:return"StrictMode";case jh:return"Suspense";case kc:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case ea:return(c.displayName||"Context")+".Provider";case mm:return(c._context.displayName||"Context")+".Consumer";case xf:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case qh:return f=c.displayName||null,f!==null?f:l(c.type)||"Memo";case Bs:f=c._payload,c=c._init;try{return l(c(f))}catch{}}return null}function u(c){if(Ea===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Ea=f&&f[1]||"",io=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+c+io}function h(c,f){if(!c||Ll)return"";Ll=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(f){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(dn){var Re=dn}Reflect.construct(c,[],Te)}else{try{Te.call()}catch(dn){Re=dn}c.call(Te.prototype)}}else{try{throw Error()}catch(dn){Re=dn}(Te=c())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(dn){if(dn&&Re&&typeof dn.stack=="string")return[dn.stack,Re.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=D.DetermineComponentFrameRoot(),it=z[0],yt=z[1];if(it&&yt){var Tt=it.split(`
`),$t=yt.split(`
`);for(C=D=0;D<Tt.length&&!Tt[D].includes("DetermineComponentFrameRoot");)D++;for(;C<$t.length&&!$t[C].includes("DetermineComponentFrameRoot");)C++;if(D===Tt.length||C===$t.length)for(D=Tt.length-1,C=$t.length-1;1<=D&&0<=C&&Tt[D]!==$t[C];)C--;for(;1<=D&&0<=C;D--,C--)if(Tt[D]!==$t[C]){if(D!==1||C!==1)do if(D--,C--,0>C||Tt[D]!==$t[C]){var me=`
`+Tt[D].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=D&&0<=C);break}}}finally{Ll=!1,Error.prepareStackTrace=y}return(y=c?c.displayName||c.name:"")?u(y):""}function p(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=h(c.type,!1),c;case 11:return c=h(c.type.render,!1),c;case 1:return c=h(c.type,!0),c;default:return""}}function m(c){try{var f="";do f+=p(c),c=c.return;while(c);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function _(c){if(v(c)!==c)throw Error(r(188))}function b(c){var f=c.alternate;if(!f){if(f=v(c),f===null)throw Error(r(188));return f!==c?null:c}for(var y=c,D=f;;){var C=y.return;if(C===null)break;var z=C.alternate;if(z===null){if(D=C.return,D!==null){y=D;continue}break}if(C.child===z.child){for(z=C.child;z;){if(z===y)return _(C),c;if(z===D)return _(C),f;z=z.sibling}throw Error(r(188))}if(y.return!==D.return)y=C,D=z;else{for(var it=!1,yt=C.child;yt;){if(yt===y){it=!0,y=C,D=z;break}if(yt===D){it=!0,D=C,y=z;break}yt=yt.sibling}if(!it){for(yt=z.child;yt;){if(yt===y){it=!0,y=z,D=C;break}if(yt===D){it=!0,D=z,y=C;break}yt=yt.sibling}if(!it)throw Error(r(189))}}if(y.alternate!==D)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?c:f}function S(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=S(c),f!==null)return f;c=c.sibling}return null}function A(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=A(c),f!==null))return f;c=c.sibling}return null}function M(c){return{current:c}}function x(c){0>oo||(c.current=Bi[oo],Bi[oo]=null,oo--)}function T(c,f){oo++,Bi[oo]=c.current,c.current=f}function R(c){return c>>>=0,c===0?32:31-(zy(c)/By|0)|0}function O(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function I(c,f){var y=c.pendingLanes;if(y===0)return 0;var D=0,C=c.suspendedLanes,z=c.pingedLanes,it=c.warmLanes;c=c.finishedLanes!==0;var yt=y&134217727;return yt!==0?(y=yt&~C,y!==0?D=O(y):(z&=yt,z!==0?D=O(z):c||(it=yt&~it,it!==0&&(D=O(it))))):(yt=y&~C,yt!==0?D=O(yt):z!==0?D=O(z):c||(it=y&~it,it!==0&&(D=O(it)))),D===0?0:f!==0&&f!==D&&(f&C)===0&&(C=D&-D,it=f&-f,C>=it||C===32&&(it&4194176)!==0)?f:D}function P(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function B(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N(){var c=Aa;return Aa<<=1,(Aa&4194176)===0&&(Aa=128),c}function L(){var c=Il;return Il<<=1,(Il&62914560)===0&&(Il=4194304),c}function U(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function F(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function K(c,f,y,D,C,z){var it=c.pendingLanes;c.pendingLanes=y,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=y,c.entangledLanes&=y,c.errorRecoveryDisabledLanes&=y,c.shellSuspendCounter=0;var yt=c.entanglements,Tt=c.expirationTimes,$t=c.hiddenUpdates;for(y=it&~y;0<y;){var me=31-zr(y),Te=1<<me;yt[me]=0,Tt[me]=-1;var Re=$t[me];if(Re!==null)for($t[me]=null,me=0;me<Re.length;me++){var dn=Re[me];dn!==null&&(dn.lane&=-536870913)}y&=~Te}D!==0&&tt(c,D,0),z!==0&&C===0&&c.tag!==0&&(c.suspendedLanes|=z&~(it&~f))}function tt(c,f,y){c.pendingLanes|=f,c.suspendedLanes&=~f;var D=31-zr(f);c.entangledLanes|=f,c.entanglements[D]=c.entanglements[D]|1073741824|y&4194218}function nt(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var D=31-zr(y),C=1<<D;C&f|c[D]&f&&(c[D]|=f),y&=~C}}function at(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function H(c){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Hi,c,void 0,(c.current.flags&128)===128)}catch{}}function k(c){if(typeof Vy=="function"&&ir(c),$r&&typeof $r.setStrictMode=="function")try{$r.setStrictMode(Hi,c)}catch{}}function V(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function Q(c,f){if(typeof c=="object"&&c!==null){var y=Im.get(c);return y!==void 0?y:(f={value:c,source:f,stack:m(f)},Im.set(c,f),f)}return{value:c,source:f,stack:m(f)}}function j(c,f){zl[Bl++]=Qc,zl[Bl++]=Hl,Hl=c,Qc=f}function st(c,f,y){hs[ds++]=ra,hs[ds++]=sa,hs[ds++]=nl,nl=c;var D=ra;c=sa;var C=32-zr(D)-1;D&=~(1<<C),y+=1;var z=32-zr(f)+C;if(30<z){var it=C-C%5;z=(D&(1<<it)-1).toString(32),D>>=it,C-=it,ra=1<<32-zr(f)+C|y<<C|D,sa=z+c}else ra=1<<z|y<<C|D,sa=c}function ht(c){c.return!==null&&(j(c,1),st(c,1,0))}function dt(c){for(;c===Hl;)Hl=zl[--Bl],zl[Bl]=null,Qc=zl[--Bl],zl[Bl]=null;for(;c===nl;)nl=hs[--ds],hs[ds]=null,sa=hs[--ds],hs[ds]=null,ra=hs[--ds],hs[ds]=null}function $(c,f){T(Ta,f),T(Jc,c),T(Wi,null),c=ny(f),x(Wi),T(Wi,c)}function ft(){x(Wi),x(Jc),x(Ta)}function lt(c){c.memoizedState!==null&&T(Fl,c);var f=Wi.current,y=Xc(f,c.type);f!==y&&(T(Jc,c),T(Wi,y))}function pt(c){Jc.current===c&&(x(Wi),x(Jc)),Fl.current===c&&(x(Fl),Pr?na._currentValue=Qo:na._currentValue2=Qo)}function xt(c){var f=Error(r(418,""));throw ce(Q(f,c)),Rf}function Ct(c,f){if(!pr)throw Error(r(175));Ty(c.stateNode,c.type,c.memoizedProps,f,c)||xt(c)}function Ht(c){for(mr=c.return;mr;)switch(mr.tag){case 3:case 27:rr=!0;return;case 5:case 13:rr=!1;return;default:mr=mr.return}}function Kt(c){if(!pr||c!==mr)return!1;if(!Pn)return Ht(c),Pn=!0,!1;var f=!1;if(ni?c.tag!==3&&c.tag!==27&&(c.tag!==5||td(c.type)&&!mn(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||td(c.type)&&!mn(c.type,c.memoizedProps))&&(f=!0),f&&gr&&xt(c),Ht(c),c.tag===13){if(!pr)throw Error(r(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));gr=Ry(c)}else gr=mr?Nm(c.stateNode):null;return!0}function le(){pr&&(gr=mr=null,Pn=!1)}function ce(c){Vs===null?Vs=[c]:Vs.push(c)}function et(){for(var c=Vl,f=aa=Vl=0;f<c;){var y=ks[f];ks[f++]=null;var D=ks[f];ks[f++]=null;var C=ks[f];ks[f++]=null;var z=ks[f];if(ks[f++]=null,D!==null&&C!==null){var it=D.pending;it===null?C.next=C:(C.next=it.next,it.next=C),D.pending=C}z!==0&&It(y,C,z)}}function Wt(c,f,y,D){ks[Vl++]=c,ks[Vl++]=f,ks[Vl++]=y,ks[Vl++]=D,aa|=D,c.lanes|=D,c=c.alternate,c!==null&&(c.lanes|=D)}function Ut(c,f,y,D){return Wt(c,f,y,D),ue(c)}function Xt(c,f){return Wt(c,null,null,f),ue(c)}function It(c,f,y){c.lanes|=y;var D=c.alternate;D!==null&&(D.lanes|=y);for(var C=!1,z=c.return;z!==null;)z.childLanes|=y,D=z.alternate,D!==null&&(D.childLanes|=y),z.tag===22&&(c=z.stateNode,c===null||c._visibility&1||(C=!0)),c=z,z=z.return;C&&f!==null&&c.tag===3&&(z=c.stateNode,C=31-zr(y),z=z.hiddenUpdates,c=z[C],c===null?z[C]=[f]:c.push(f),f.lane=y|536870912)}function ue(c){if(50<ou)throw ou=0,md=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function Zt(c){c!==lo&&c.next===null&&(lo===null?Cf=lo=c:lo=lo.next=c),ui=!0,kl||(kl=!0,Nt(Z))}function ot(c,f){if(!zm&&ui){zm=!0;do for(var y=!1,D=Cf;D!==null;){if(c!==0){var C=D.pendingLanes;if(C===0)var z=0;else{var it=D.suspendedLanes,yt=D.pingedLanes;z=(1<<31-zr(42|c)+1)-1,z&=C&~(it&~yt),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(y=!0,Qt(D,z))}else z=Cn,z=I(D,D===Wn?z:0),(z&3)===0||P(D,z)||(y=!0,Qt(D,z));D=D.next}while(y);zm=!1}}function Z(){ui=kl=!1;var c=0;$c!==0&&(ay()&&(c=$c),$c=0);for(var f=Fs(),y=null,D=Cf;D!==null;){var C=D.next,z=Dt(D,f);z===0?(D.next=null,y===null?Cf=C:y.next=C,C===null&&(lo=y)):(y=D,(c!==0||(z&3)!==0)&&(ui=!0)),D=C}ot(c)}function Dt(c,f){for(var y=c.suspendedLanes,D=c.pingedLanes,C=c.expirationTimes,z=c.pendingLanes&-62914561;0<z;){var it=31-zr(z),yt=1<<it,Tt=C[it];Tt===-1?((yt&y)===0||(yt&D)!==0)&&(C[it]=B(yt,f)):Tt<=f&&(c.expiredLanes|=yt),z&=~yt}if(f=Wn,y=Cn,y=I(c,c===f?y:0),D=c.callbackNode,y===0||c===f&&$n===2||c.cancelPendingCommit!==null)return D!==null&&D!==null&&rd(D),c.callbackNode=null,c.callbackPriority=0;if((y&3)===0||P(c,y)){if(f=y&-y,f===c.callbackPriority)return f;switch(D!==null&&rd(D),at(y)){case 2:case 8:y=Fy;break;case 32:y=od;break;case 268435456:y=sS;break;default:y=od}return D=Ft.bind(null,c),y=wf(y,D),c.callbackPriority=f,c.callbackNode=y,f}return D!==null&&D!==null&&rd(D),c.callbackPriority=2,c.callbackNode=null,2}function Ft(c,f){var y=c.callbackNode;if(ta()&&c.callbackNode!==y)return null;var D=Cn;return D=I(c,c===Wn?D:0),D===0?null:(jo(c,D,f),Dt(c,Fs()),c.callbackNode!=null&&c.callbackNode===y?Ft.bind(null,c):null)}function Qt(c,f){if(ta())return null;jo(c,f,!0)}function Nt(c){Sm?ao(function(){(zn&6)!==0?wf(ad,c):c()}):wf(ad,c)}function de(){return $c===0&&($c=N()),$c}function fe(c,f){if(tu===null){var y=tu=[];Gl=0,ps=de(),jl={status:"pending",value:void 0,then:function(D){y.push(D)}}}return Gl++,f.then(Me,Me),f}function Me(){if(--Gl===0&&tu!==null){jl!==null&&(jl.status="fulfilled");var c=tu;tu=null,ps=0,jl=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function He(c,f){var y=[],D={status:"pending",value:null,reason:null,then:function(C){y.push(C)}};return c.then(function(){D.status="fulfilled",D.value=f;for(var C=0;C<y.length;C++)(0,y[C])(f)},function(C){for(D.status="rejected",D.reason=C,C=0;C<y.length;C++)(0,y[C])(void 0)}),D}function oe(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ge(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Ae(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function De(c,f,y){var D=c.updateQueue;if(D===null)return null;if(D=D.shared,(zn&2)!==0){var C=D.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),D.pending=f,f=ue(c),It(c,null,y),f}return Wt(c,D,f,y),ue(c)}function _e(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194176)!==0)){var D=f.lanes;D&=c.pendingLanes,y|=D,f.lanes=y,nt(c,y)}}function Je(c,f){var y=c.updateQueue,D=c.alternate;if(D!==null&&(D=D.updateQueue,y===D)){var C=null,z=null;if(y=y.firstBaseUpdate,y!==null){do{var it={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};z===null?C=z=it:z=z.next=it,y=y.next}while(y!==null);z===null?C=z=f:z=z.next=f}else C=z=f;y={baseState:D.baseState,firstBaseUpdate:C,lastBaseUpdate:z,shared:D.shared,callbacks:D.callbacks},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function Oe(){if(ql){var c=jl;if(c!==null)throw c}}function Ke(c,f,y,D){ql=!1;var C=c.updateQueue;co=!1;var z=C.firstBaseUpdate,it=C.lastBaseUpdate,yt=C.shared.pending;if(yt!==null){C.shared.pending=null;var Tt=yt,$t=Tt.next;Tt.next=null,it===null?z=$t:it.next=$t,it=Tt;var me=c.alternate;me!==null&&(me=me.updateQueue,yt=me.lastBaseUpdate,yt!==it&&(yt===null?me.firstBaseUpdate=$t:yt.next=$t,me.lastBaseUpdate=Tt))}if(z!==null){var Te=C.baseState;it=0,me=$t=Tt=null,yt=z;do{var Re=yt.lane&-536870913,dn=Re!==yt.lane;if(dn?(Cn&Re)===Re:(D&Re)===Re){Re!==0&&Re===ps&&(ql=!0),me!==null&&(me=me.next={lane:0,tag:yt.tag,payload:yt.payload,callback:null,next:null});t:{var Ss=c,fl=yt;Re=f;var hl=y;switch(fl.tag){case 1:if(Ss=fl.payload,typeof Ss=="function"){Te=Ss.call(hl,Te,Re);break t}Te=Ss;break t;case 3:Ss.flags=Ss.flags&-65537|128;case 0:if(Ss=fl.payload,Re=typeof Ss=="function"?Ss.call(hl,Te,Re):Ss,Re==null)break t;Te=kh({},Te,Re);break t;case 2:co=!0}}Re=yt.callback,Re!==null&&(c.flags|=64,dn&&(c.flags|=8192),dn=C.callbacks,dn===null?C.callbacks=[Re]:dn.push(Re))}else dn={lane:Re,tag:yt.tag,payload:yt.payload,callback:yt.callback,next:null},me===null?($t=me=dn,Tt=Te):me=me.next=dn,it|=Re;if(yt=yt.next,yt===null){if(yt=C.shared.pending,yt===null)break;dn=yt,yt=dn.next,dn.next=null,C.lastBaseUpdate=dn,C.shared.pending=null}}while(!0);me===null&&(Tt=Te),C.baseState=Tt,C.firstBaseUpdate=$t,C.lastBaseUpdate=me,z===null&&(C.shared.lanes=0),xs|=it,c.lanes=it,c.memoizedState=Te}}function Et(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function Gt(c,f){var y=c.callbacks;if(y!==null)for(c.callbacks=null,c=0;c<y.length;c++)Et(y[c],f)}function jt(c,f){if(ts(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),D=Object.keys(f);if(y.length!==D.length)return!1;for(D=0;D<y.length;D++){var C=y[D];if(!wa.call(f,C)||!ts(c[C],f[C]))return!1}return!0}function ne(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ee(){}function xe(c,f,y){switch(y=c[y],y===void 0?c.push(f):y!==f&&(f.then(Ee,Ee),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===eu?Error(r(483)):c;default:if(typeof f.status=="string")f.then(Ee,Ee);else{if(c=Wn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(D){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=D}},function(D){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=D}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===eu?Error(r(483)):c}throw il=f,eu}}function nn(){if(il===null)throw Error(r(459));var c=il;return il=null,c}function Vn(c){var f=sl;return sl+=1,rl===null&&(rl=[]),xe(rl,c,f)}function ci(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Tn(c,f){throw f.$$typeof===Jb?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function br(c){var f=c._init;return f(c._payload)}function Li(c){function f(Pt,bt){if(c){var kt=Pt.deletions;kt===null?(Pt.deletions=[bt],Pt.flags|=16):kt.push(bt)}}function y(Pt,bt){if(!c)return null;for(;bt!==null;)f(Pt,bt),bt=bt.sibling;return null}function D(Pt){for(var bt=new Map;Pt!==null;)Pt.key!==null?bt.set(Pt.key,Pt):bt.set(Pt.index,Pt),Pt=Pt.sibling;return bt}function C(Pt,bt){return Pt=Is(Pt,bt),Pt.index=0,Pt.sibling=null,Pt}function z(Pt,bt,kt){return Pt.index=kt,c?(kt=Pt.alternate,kt!==null?(kt=kt.index,kt<bt?(Pt.flags|=33554434,bt):kt):(Pt.flags|=33554434,bt)):(Pt.flags|=1048576,bt)}function it(Pt){return c&&Pt.alternate===null&&(Pt.flags|=33554434),Pt}function yt(Pt,bt,kt,pe){return bt===null||bt.tag!==6?(bt=Fh(kt,Pt.mode,pe),bt.return=Pt,bt):(bt=C(bt,kt),bt.return=Pt,bt)}function Tt(Pt,bt,kt,pe){var Fe=kt.type;return Fe===Zo?me(Pt,bt,kt.props.children,pe,kt.key):bt!==null&&(bt.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===Bs&&br(Fe)===bt.type)?(bt=C(bt,kt.props),ci(bt,kt),bt.return=Pt,bt):(bt=Ma(kt.type,kt.key,kt.props,null,Pt.mode,pe),ci(bt,kt),bt.return=Pt,bt)}function $t(Pt,bt,kt,pe){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==kt.containerInfo||bt.stateNode.implementation!==kt.implementation?(bt=pm(kt,Pt.mode,pe),bt.return=Pt,bt):(bt=C(bt,kt.children||[]),bt.return=Pt,bt)}function me(Pt,bt,kt,pe,Fe){return bt===null||bt.tag!==7?(bt=Ai(kt,Pt.mode,pe,Fe),bt.return=Pt,bt):(bt=C(bt,kt),bt.return=Pt,bt)}function Te(Pt,bt,kt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=Fh(""+bt,Pt.mode,kt),bt.return=Pt,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case vf:return kt=Ma(bt.type,bt.key,bt.props,null,Pt.mode,kt),ci(kt,bt),kt.return=Pt,kt;case zs:return bt=pm(bt,Pt.mode,kt),bt.return=Pt,bt;case Bs:var pe=bt._init;return bt=pe(bt._payload),Te(Pt,bt,kt)}if(Gc(bt)||a(bt))return bt=Ai(bt,Pt.mode,kt,null),bt.return=Pt,bt;if(typeof bt.then=="function")return Te(Pt,Vn(bt),kt);if(bt.$$typeof===ea)return Te(Pt,ef(Pt,bt),kt);Tn(Pt,bt)}return null}function Re(Pt,bt,kt,pe){var Fe=bt!==null?bt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return Fe!==null?null:yt(Pt,bt,""+kt,pe);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case vf:return kt.key===Fe?Tt(Pt,bt,kt,pe):null;case zs:return kt.key===Fe?$t(Pt,bt,kt,pe):null;case Bs:return Fe=kt._init,kt=Fe(kt._payload),Re(Pt,bt,kt,pe)}if(Gc(kt)||a(kt))return Fe!==null?null:me(Pt,bt,kt,pe,null);if(typeof kt.then=="function")return Re(Pt,bt,Vn(kt),pe);if(kt.$$typeof===ea)return Re(Pt,bt,ef(Pt,kt),pe);Tn(Pt,kt)}return null}function dn(Pt,bt,kt,pe,Fe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Pt=Pt.get(kt)||null,yt(bt,Pt,""+pe,Fe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case vf:return Pt=Pt.get(pe.key===null?kt:pe.key)||null,Tt(bt,Pt,pe,Fe);case zs:return Pt=Pt.get(pe.key===null?kt:pe.key)||null,$t(bt,Pt,pe,Fe);case Bs:var _i=pe._init;return pe=_i(pe._payload),dn(Pt,bt,kt,pe,Fe)}if(Gc(pe)||a(pe))return Pt=Pt.get(kt)||null,me(bt,Pt,pe,Fe,null);if(typeof pe.then=="function")return dn(Pt,bt,kt,Vn(pe),Fe);if(pe.$$typeof===ea)return dn(Pt,bt,kt,ef(bt,pe),Fe);Tn(bt,pe)}return null}function Ss(Pt,bt,kt,pe){for(var Fe=null,_i=null,an=bt,Fn=bt=0,Fi=null;an!==null&&Fn<kt.length;Fn++){an.index>Fn?(Fi=an,an=null):Fi=an.sibling;var wn=Re(Pt,an,kt[Fn],pe);if(wn===null){an===null&&(an=Fi);break}c&&an&&wn.alternate===null&&f(Pt,an),bt=z(wn,bt,Fn),_i===null?Fe=wn:_i.sibling=wn,_i=wn,an=Fi}if(Fn===kt.length)return y(Pt,an),Pn&&j(Pt,Fn),Fe;if(an===null){for(;Fn<kt.length;Fn++)an=Te(Pt,kt[Fn],pe),an!==null&&(bt=z(an,bt,Fn),_i===null?Fe=an:_i.sibling=an,_i=an);return Pn&&j(Pt,Fn),Fe}for(an=D(an);Fn<kt.length;Fn++)Fi=dn(an,Pt,Fn,kt[Fn],pe),Fi!==null&&(c&&Fi.alternate!==null&&an.delete(Fi.key===null?Fn:Fi.key),bt=z(Fi,bt,Fn),_i===null?Fe=Fi:_i.sibling=Fi,_i=Fi);return c&&an.forEach(function(Ia){return f(Pt,Ia)}),Pn&&j(Pt,Fn),Fe}function fl(Pt,bt,kt,pe){if(kt==null)throw Error(r(151));for(var Fe=null,_i=null,an=bt,Fn=bt=0,Fi=null,wn=kt.next();an!==null&&!wn.done;Fn++,wn=kt.next()){an.index>Fn?(Fi=an,an=null):Fi=an.sibling;var Ia=Re(Pt,an,wn.value,pe);if(Ia===null){an===null&&(an=Fi);break}c&&an&&Ia.alternate===null&&f(Pt,an),bt=z(Ia,bt,Fn),_i===null?Fe=Ia:_i.sibling=Ia,_i=Ia,an=Fi}if(wn.done)return y(Pt,an),Pn&&j(Pt,Fn),Fe;if(an===null){for(;!wn.done;Fn++,wn=kt.next())wn=Te(Pt,wn.value,pe),wn!==null&&(bt=z(wn,bt,Fn),_i===null?Fe=wn:_i.sibling=wn,_i=wn);return Pn&&j(Pt,Fn),Fe}for(an=D(an);!wn.done;Fn++,wn=kt.next())wn=dn(an,Pt,Fn,wn.value,pe),wn!==null&&(c&&wn.alternate!==null&&an.delete(wn.key===null?Fn:wn.key),bt=z(wn,bt,Fn),_i===null?Fe=wn:_i.sibling=wn,_i=wn);return c&&an.forEach(function(gd){return f(Pt,gd)}),Pn&&j(Pt,Fn),Fe}function hl(Pt,bt,kt,pe){if(typeof kt=="object"&&kt!==null&&kt.type===Zo&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case vf:t:{for(var Fe=kt.key;bt!==null;){if(bt.key===Fe){if(Fe=kt.type,Fe===Zo){if(bt.tag===7){y(Pt,bt.sibling),pe=C(bt,kt.props.children),pe.return=Pt,Pt=pe;break t}}else if(bt.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===Bs&&br(Fe)===bt.type){y(Pt,bt.sibling),pe=C(bt,kt.props),ci(pe,kt),pe.return=Pt,Pt=pe;break t}y(Pt,bt);break}else f(Pt,bt);bt=bt.sibling}kt.type===Zo?(pe=Ai(kt.props.children,Pt.mode,pe,kt.key),pe.return=Pt,Pt=pe):(pe=Ma(kt.type,kt.key,kt.props,null,Pt.mode,pe),ci(pe,kt),pe.return=Pt,Pt=pe)}return it(Pt);case zs:t:{for(Fe=kt.key;bt!==null;){if(bt.key===Fe)if(bt.tag===4&&bt.stateNode.containerInfo===kt.containerInfo&&bt.stateNode.implementation===kt.implementation){y(Pt,bt.sibling),pe=C(bt,kt.children||[]),pe.return=Pt,Pt=pe;break t}else{y(Pt,bt);break}else f(Pt,bt);bt=bt.sibling}pe=pm(kt,Pt.mode,pe),pe.return=Pt,Pt=pe}return it(Pt);case Bs:return Fe=kt._init,kt=Fe(kt._payload),hl(Pt,bt,kt,pe)}if(Gc(kt))return Ss(Pt,bt,kt,pe);if(a(kt)){if(Fe=a(kt),typeof Fe!="function")throw Error(r(150));return kt=Fe.call(kt),fl(Pt,bt,kt,pe)}if(typeof kt.then=="function")return hl(Pt,bt,Vn(kt),pe);if(kt.$$typeof===ea)return hl(Pt,bt,ef(Pt,kt),pe);Tn(Pt,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint"?(kt=""+kt,bt!==null&&bt.tag===6?(y(Pt,bt.sibling),pe=C(bt,kt),pe.return=Pt,Pt=pe):(y(Pt,bt),pe=Fh(kt,Pt.mode,pe),pe.return=Pt,Pt=pe),it(Pt)):y(Pt,bt)}return function(Pt,bt,kt,pe){try{sl=0;var Fe=hl(Pt,bt,kt,pe);return rl=null,Fe}catch(an){if(an===eu)throw an;var _i=e(29,an,null,Pt.mode);return _i.lanes=pe,_i.return=Pt,_i}finally{}}}function Di(c,f){c=Ar,T(nu,c),T(fi,f),Ar=c|f.baseLanes}function Ui(){T(nu,Ar),T(fi,fi.current)}function Pi(){Ar=nu.current,x(fi),x(nu)}function Sr(c){var f=c.alternate;T(Zi,Zi.current&1),T(ms,c),ii===null&&(f===null||fi.current!==null||f.memoizedState!==null)&&(ii=c)}function Js(c){if(c.tag===22){if(T(Zi,Zi.current),T(ms,c),ii===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(ii=c)}}else lr()}function lr(){T(Zi,Zi.current),T(ms,ms.current)}function Ye(c){x(ms),ii===c&&(ii=null),x(Zi)}function Xr(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Qh(y)||Jh(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function qn(){throw Error(r(321))}function q(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!ts(c[y],f[y]))return!1;return!0}function rt(c,f,y,D,C,z){return uo=z,Sn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,sn.H=c===null||c.memoizedState===null?ll:Br,ol=!1,z=y(D,C),ol=!1,Xl&&(z=Lt(f,y,D,C)),_t(c),z}function _t(c){sn.H=Ti;var f=We!==null&&We.next!==null;if(uo=0,In=We=Sn=null,Gs=!1,Yl=0,sr=null,f)throw Error(r(300));c===null||ri||(c=c.dependencies,c!==null&&tf(c)&&(ri=!0))}function Lt(c,f,y,D){Sn=c;var C=0;do{if(Xl&&(sr=null),Yl=0,Xl=!1,25<=C)throw Error(r(301));if(C+=1,In=We=null,c.updateQueue!=null){var z=c.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}sn.H=gs,z=f(y,D)}while(Xl);return z}function zt(){var c=sn.H,f=c.useState()[0];return f=typeof f.then=="function"?gt(f):f,c=c.useState()[0],(We!==null?We.memoizedState:null)!==c&&(Sn.flags|=1024),f}function qt(){var c=ld!==0;return ld=0,c}function he(c,f,y){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~y}function ae(c){if(Gs){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Gs=!1}uo=0,In=We=Sn=null,Xl=!1,Yl=ld=0,sr=null}function X(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Sn.memoizedState=In=c:In=In.next=c,In}function ut(){if(We===null){var c=Sn.alternate;c=c!==null?c.memoizedState:null}else c=We.next;var f=In===null?Sn.memoizedState:In.next;if(f!==null)In=f,We=c;else{if(c===null)throw Sn.alternate===null?Error(r(467)):Error(r(310));We=c,c={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},In===null?Sn.memoizedState=In=c:In=In.next=c}return In}function gt(c){var f=Yl;return Yl+=1,sr===null&&(sr=[]),c=xe(sr,c,f),f=Sn,(In===null?f.memoizedState:In.next)===null&&(f=f.alternate,sn.H=f===null||f.memoizedState===null?ll:Br),c}function vt(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return gt(c);if(c.$$typeof===ea)return ur(c)}throw Error(r(438,String(c)))}function St(c){var f=null,y=Sn.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var D=Sn.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(f={data:D.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=cd(),Sn.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(c),D=0;D<c;D++)y[D]=ey;return f.index++,y}function Rt(c,f){return typeof f=="function"?f(c):f}function Yt(c){var f=ut();return Jt(f,We,c)}function Jt(c,f,y){var D=c.queue;if(D===null)throw Error(r(311));D.lastRenderedReducer=y;var C=c.baseQueue,z=D.pending;if(z!==null){if(C!==null){var it=C.next;C.next=z.next,z.next=it}f.baseQueue=C=z,D.pending=null}if(z=c.baseState,C===null)c.memoizedState=z;else{f=C.next;var yt=it=null,Tt=null,$t=f,me=!1;do{var Te=$t.lane&-536870913;if(Te!==$t.lane?(Cn&Te)===Te:(uo&Te)===Te){var Re=$t.revertLane;if(Re===0)Tt!==null&&(Tt=Tt.next={lane:0,revertLane:0,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null}),Te===ps&&(me=!0);else if((uo&Re)===Re){$t=$t.next,Re===ps&&(me=!0);continue}else Te={lane:0,revertLane:$t.revertLane,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null},Tt===null?(yt=Tt=Te,it=z):Tt=Tt.next=Te,Sn.lanes|=Re,xs|=Re;Te=$t.action,ol&&y(z,Te),z=$t.hasEagerState?$t.eagerState:y(z,Te)}else Re={lane:Te,revertLane:$t.revertLane,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null},Tt===null?(yt=Tt=Re,it=z):Tt=Tt.next=Re,Sn.lanes|=Te,xs|=Te;$t=$t.next}while($t!==null&&$t!==f);if(Tt===null?it=z:Tt.next=yt,!ts(z,c.memoizedState)&&(ri=!0,me&&(y=jl,y!==null)))throw y;c.memoizedState=z,c.baseState=it,c.baseQueue=Tt,D.lastRenderedState=z}return C===null&&(D.lanes=0),[c.memoizedState,D.dispatch]}function se(c){var f=ut(),y=f.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=c;var D=y.dispatch,C=y.pending,z=f.memoizedState;if(C!==null){y.pending=null;var it=C=C.next;do z=c(z,it.action),it=it.next;while(it!==C);ts(z,f.memoizedState)||(ri=!0),f.memoizedState=z,f.baseQueue===null&&(f.baseState=z),y.lastRenderedState=z}return[z,D]}function be(c,f,y){var D=Sn,C=ut(),z=Pn;if(z){if(y===void 0)throw Error(r(407));y=y()}else y=f();var it=!ts((We||C).memoizedState,y);if(it&&(C.memoizedState=y,ri=!0),C=C.queue,Hp(je.bind(null,D,C,c),[c]),C.getSnapshot!==f||it||In!==null&&In.memoizedState.tag&1){if(D.flags|=2048,Or(9,Se.bind(null,D,C,y,f),{destroy:void 0},null),Wn===null)throw Error(r(349));z||(uo&60)!==0||ve(D,f,y)}return y}function ve(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=Sn.updateQueue,f===null?(f=cd(),Sn.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function Se(c,f,y,D){f.value=y,f.getSnapshot=D,Be(f)&&Nn(c)}function je(c,f,y){return y(function(){Be(f)&&Nn(c)})}function Be(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!ts(c,y)}catch{return!0}}function Nn(c){var f=Xt(c,2);f!==null&&nr(f,c,2)}function Ne(c){var f=X();if(typeof c=="function"){var y=c;if(c=y(),ol){k(!0);try{y()}finally{k(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:c},f}function ke(c,f,y,D){return c.baseState=y,Jt(c,We,typeof D=="function"?D:Rt)}function Le(c,f,y,D,C){if(Zu(c))throw Error(r(485));if(c=f.action,c!==null){var z={payload:C,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(it){z.listeners.push(it)}};sn.T!==null?y(!0):z.isTransition=!1,D(z),y=f.pending,y===null?(z.next=f.pending=z,Kn(f,z)):(z.next=y.next,f.pending=y.next=z)}}function Kn(c,f){var y=f.action,D=f.payload,C=c.state;if(f.isTransition){var z=sn.T,it={};sn.T=it;try{var yt=y(C,D),Tt=sn.S;Tt!==null&&Tt(it,yt),rn(c,f,yt)}catch($t){ti(c,f,$t)}finally{sn.T=z}}else try{z=y(C,D),rn(c,f,z)}catch($t){ti(c,f,$t)}}function rn(c,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(D){fn(c,f,D)},function(D){return ti(c,f,D)}):fn(c,f,y)}function fn(c,f,y){f.status="fulfilled",f.value=y,Xe(f),c.state=y,f=c.pending,f!==null&&(y=f.next,y===f?c.pending=null:(y=y.next,f.next=y,Kn(c,y)))}function ti(c,f,y){var D=c.pending;if(c.pending=null,D!==null){D=D.next;do f.status="rejected",f.reason=y,Xe(f),f=f.next;while(f!==D)}c.action=null}function Xe(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function bn(c,f){return f}function vn(c,f){if(Pn){var y=Wn.formState;if(y!==null){t:{var D=Sn;if(Pn){if(gr){var C=Om(gr,rr);if(C){gr=Nm(C),D=My(C);break t}}xt(D)}D=!1}D&&(f=y[0])}}y=X(),y.memoizedState=y.baseState=f,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:f},y.queue=D,y=Gp.bind(null,Sn,D),D.dispatch=y,D=Ne(!1);var z=Dc.bind(null,Sn,!1,D.queue);return D=X(),C={state:f,dispatch:null,action:c,pending:null},D.queue=C,y=Le.bind(null,Sn,C,z,y),C.dispatch=y,D.memoizedState=c,[f,y,!1]}function vi(c){var f=ut();return Un(f,We,c)}function Un(c,f,y){f=Jt(c,f,bn)[0],c=Yt(Rt)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?gt(f):f;var D=ut(),C=D.queue,z=C.dispatch;return y!==D.memoizedState&&(Sn.flags|=2048,Or(9,ei.bind(null,C,y),{destroy:void 0},null)),[f,z,c]}function ei(c,f){c.action=f}function tr(c){var f=ut(),y=We;if(y!==null)return Un(f,y,c);ut(),f=f.memoizedState,y=ut();var D=y.queue.dispatch;return y.memoizedState=c,[f,D,!1]}function Or(c,f,y,D){return c={tag:c,create:f,inst:y,deps:D,next:null},f=Sn.updateQueue,f===null&&(f=cd(),Sn.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=c.next=c:(D=y.next,y.next=c,c.next=D,f.lastEffect=c),c}function _a(){return ut().memoizedState}function ju(c,f,y,D){var C=X();Sn.flags|=c,C.memoizedState=Or(1|f,y,{destroy:void 0},D===void 0?null:D)}function qu(c,f,y,D){var C=ut();D=D===void 0?null:D;var z=C.memoizedState.inst;We!==null&&D!==null&&q(D,We.memoizedState.deps)?C.memoizedState=Or(f,y,z,D):(Sn.flags|=c,C.memoizedState=Or(1|f,y,z,D))}function xh(c,f){ju(8390656,8,c,f)}function Hp(c,f){qu(2048,8,c,f)}function Lv(c,f){return qu(4,2,c,f)}function Xu(c,f){return qu(4,4,c,f)}function bh(c,f){if(typeof f=="function"){c=c();var y=f(c);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Sh(c,f,y){y=y!=null?y.concat([c]):null,qu(4,4,bh.bind(null,f,c),y)}function Uo(){}function Rl(c,f){var y=ut();f=f===void 0?null:f;var D=y.memoizedState;return f!==null&&q(f,D[1])?D[0]:(y.memoizedState=[c,f],c)}function Fp(c,f){var y=ut();f=f===void 0?null:f;var D=y.memoizedState;if(f!==null&&q(f,D[1]))return D[0];if(D=c(),ol){k(!0);try{c()}finally{k(!1)}}return y.memoizedState=[D,f],D}function Yu(c,f,y){return y===void 0||(uo&1073741824)!==0?c.memoizedState=f:(c.memoizedState=y,c=lm(),Sn.lanes|=c,xs|=c,y)}function Vp(c,f,y,D){return ts(y,f)?y:fi.current!==null?(c=Yu(c,y,D),ts(c,f)||(ri=!0),c):(uo&42)===0?(ri=!0,c.memoizedState=y):(c=lm(),Sn.lanes|=c,xs|=c,f)}function Mc(c,f,y,D,C){var z=so();Er(z!==0&&8>z?z:8);var it=sn.T,yt={};sn.T=yt,Dc(c,!1,f,y);try{var Tt=C(),$t=sn.S;if($t!==null&&$t(yt,Tt),Tt!==null&&typeof Tt=="object"&&typeof Tt.then=="function"){var me=He(Tt,D);Po(c,f,me,Ii(c))}else Po(c,f,D,Ii(c))}catch(Te){Po(c,f,{then:function(){},status:"rejected",reason:Te},Ii())}finally{Er(z),sn.T=it}}function xa(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Qo,baseState:Qo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:Qo},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:y},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Wu(){return ur(na)}function Ec(){return ut().memoizedState}function ja(){return ut().memoizedState}function kp(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var y=Ii();c=Ae(y);var D=De(f,c,y);D!==null&&(nr(D,f,y),_e(D,f,y)),f={cache:Ho()},c.payload=f;return}f=f.return}}function Mh(c,f,y){var D=Ii();y={lane:D,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Zu(c)?Nr(f,y):(y=Ut(c,f,y,D),y!==null&&(nr(y,c,D),Io(y,f,D)))}function Gp(c,f,y){var D=Ii();Po(c,f,y,D)}function Po(c,f,y,D){var C={lane:D,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Zu(c))Nr(f,C);else{var z=c.alternate;if(c.lanes===0&&(z===null||z.lanes===0)&&(z=f.lastRenderedReducer,z!==null))try{var it=f.lastRenderedState,yt=z(it,y);if(C.hasEagerState=!0,C.eagerState=yt,ts(yt,it))return Wt(c,f,C,0),Wn===null&&et(),!1}catch{}finally{}if(y=Ut(c,f,C,D),y!==null)return nr(y,c,D),Io(y,f,D),!0}return!1}function Dc(c,f,y,D){if(D={lane:2,revertLane:de(),action:D,hasEagerState:!1,eagerState:null,next:null},Zu(c)){if(f)throw Error(r(479))}else f=Ut(c,y,D,2),f!==null&&nr(f,c,2)}function Zu(c){var f=c.alternate;return c===Sn||f!==null&&f===Sn}function Nr(c,f){Xl=Gs=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function Io(c,f,y){if((y&4194176)!==0){var D=f.lanes;D&=c.pendingLanes,y|=D,f.lanes=y,nt(c,y)}}function Ac(c,f,y,D){f=c.memoizedState,y=y(D,f),y=y==null?f:kh({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}function Tc(c,f,y,D,C,z,it){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(D,z,it):f.prototype&&f.prototype.isPureReactComponent?!jt(y,D)||!jt(C,z):!0}function Uv(c,f,y,D){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,D),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,D),f.state!==c&&Ca.enqueueReplaceState(f,f.state,null)}function qa(c,f){var y=f;if("ref"in f){y={};for(var D in f)D!=="ref"&&(y[D]=f[D])}if(c=c.defaultProps){y===f&&(y=kh({},y));for(var C in c)y[C]===void 0&&(y[C]=c[C])}return y}function wc(c,f){try{var y=c.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(D){setTimeout(function(){throw D})}}function Rc(c,f,y){try{var D=c.onCaughtError;D(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Cc(c,f,y){return y=Ae(y),y.tag=3,y.payload={element:null},y.callback=function(){wc(c,f)},y}function jp(c){return c=Ae(c),c.tag=3,c}function Pv(c,f,y,D){var C=y.type.getDerivedStateFromError;if(typeof C=="function"){var z=D.value;c.payload=function(){return C(z)},c.callback=function(){Rc(f,y,D)}}var it=y.stateNode;it!==null&&typeof it.componentDidCatch=="function"&&(c.callback=function(){Rc(f,y,D),typeof C!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var yt=D.stack;this.componentDidCatch(D.value,{componentStack:yt!==null?yt:""})})}function Wb(c,f,y,D,C){if(y.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(f=y.alternate,f!==null&&$u(f,y,C,!0),y=ms.current,y!==null){switch(y.tag){case 13:return ii===null?$a():y.alternate===null&&si===0&&(si=3),y.flags&=-257,y.flags|=65536,y.lanes=C,D===Nf?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([D]):f.add(D),Nl(c,D,C)),!1;case 22:return y.flags|=65536,D===Nf?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([D])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([D]):y.add(D)),Nl(c,D,C)),!1}throw Error(r(435,y.tag))}return Nl(c,D,C),$a(),!1}if(Pn)return f=ms.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,D!==Rf&&(c=Error(r(422),{cause:D}),ce(Q(c,y)))):(D!==Rf&&(f=Error(r(423),{cause:D}),ce(Q(f,y))),c=c.current.alternate,c.flags|=65536,C&=-C,c.lanes|=C,D=Q(D,y),C=Cc(c.stateNode,D,C),Je(c,C),si!==4&&(si=2)),!1;var z=Error(r(520),{cause:D});if(z=Q(z,y),Zl===null?Zl=[z]:Zl.push(z),si!==4&&(si=2),f===null)return!0;D=Q(D,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,c=C&-C,y.lanes|=c,c=Cc(y.stateNode,D,c),Je(y,c),!1;case 1:if(f=y.type,z=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(cl===null||!cl.has(z))))return y.flags|=65536,C&=-C,y.lanes|=C,C=jp(C),Pv(C,c,y,D),Je(y,C),!1}y=y.return}while(y!==null);return!1}function cr(c,f,y,D){f.child=c===null?Ra(f,null,y,D):al(f,c.child,y,D)}function Eh(c,f,y,D,C){y=y.render;var z=f.ref;if("ref"in D){var it={};for(var yt in D)yt!=="ref"&&(it[yt]=D[yt])}else it=D;return Bo(f),D=rt(c,f,y,it,z,C),yt=qt(),c!==null&&!ri?(he(c,f,C),Xa(c,f,C)):(Pn&&yt&&ht(f),f.flags|=1,cr(c,f,D,C),f.child)}function Iv(c,f,y,D,C){if(c===null){var z=y.type;return typeof z=="function"&&!df(z)&&z.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=z,zv(c,f,z,D,C)):(c=Ma(y.type,null,D,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(z=c.child,!Zp(c,C)){var it=z.memoizedProps;if(y=y.compare,y=y!==null?y:jt,y(it,D)&&c.ref===f.ref)return Xa(c,f,C)}return f.flags|=1,c=Is(z,D),c.ref=f.ref,c.return=f,f.child=c}function zv(c,f,y,D,C){if(c!==null){var z=c.memoizedProps;if(jt(z,D)&&c.ref===f.ref)if(ri=!1,f.pendingProps=D=z,Zp(c,C))(c.flags&131072)!==0&&(ri=!0);else return f.lanes=c.lanes,Xa(c,f,C)}return Dh(c,f,y,D,C)}function Bv(c,f,y){var D=f.pendingProps,C=D.children,z=(f.stateNode._pendingVisibility&2)!==0,it=c!==null?c.memoizedState:null;if(Ku(c,f),D.mode==="hidden"||z){if((f.flags&128)!==0){if(D=it!==null?it.baseLanes|y:y,c!==null){for(C=f.child=c.child,z=0;C!==null;)z=z|C.lanes|C.childLanes,C=C.sibling;f.childLanes=z&~D}else f.childLanes=0,f.child=null;return Hv(c,f,D,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Th(f,it!==null?it.cachePool:null),it!==null?Di(f,it):Ui(),Js(f);else return f.lanes=f.childLanes=536870912,Hv(c,f,it!==null?it.baseLanes|y:y,y)}else it!==null?(Th(f,it.cachePool),Di(f,it),lr(),f.memoizedState=null):(c!==null&&Th(f,null),Ui(),lr());return cr(c,f,C,y),f.child}function Hv(c,f,y,D){var C=Qp();return C=C===null?null:{parent:Pr?hi._currentValue:hi._currentValue2,pool:C},f.memoizedState={baseLanes:y,cachePool:C},c!==null&&Th(f,null),Ui(),Js(f),c!==null&&$u(c,f,D,!0),null}function Ku(c,f){var y=f.ref;if(y===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(c===null||c.ref!==y)&&(f.flags|=2097664)}}function Dh(c,f,y,D,C){return Bo(f),y=rt(c,f,y,D,void 0,C),D=qt(),c!==null&&!ri?(he(c,f,C),Xa(c,f,C)):(Pn&&D&&ht(f),f.flags|=1,cr(c,f,y,C),f.child)}function Fv(c,f,y,D,C,z){return Bo(f),f.updateQueue=null,y=Lt(f,D,y,C),_t(c),D=qt(),c!==null&&!ri?(he(c,f,z),Xa(c,f,z)):(Pn&&D&&ht(f),f.flags|=1,cr(c,f,y,z),f.child)}function Vv(c,f,y,D,C){if(Bo(f),f.stateNode===null){var z=el,it=y.contextType;typeof it=="object"&&it!==null&&(z=ur(it)),z=new y(D,z),f.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=Ca,f.stateNode=z,z._reactInternals=f,z=f.stateNode,z.props=D,z.state=f.memoizedState,z.refs={},oe(f),it=y.contextType,z.context=typeof it=="object"&&it!==null?ur(it):el,z.state=f.memoizedState,it=y.getDerivedStateFromProps,typeof it=="function"&&(Ac(f,y,it,D),z.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(it=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),it!==z.state&&Ca.enqueueReplaceState(z,z.state,null),Ke(f,D,z,C),Oe(),z.state=f.memoizedState),typeof z.componentDidMount=="function"&&(f.flags|=4194308),D=!0}else if(c===null){z=f.stateNode;var yt=f.memoizedProps,Tt=qa(y,yt);z.props=Tt;var $t=z.context,me=y.contextType;it=el,typeof me=="object"&&me!==null&&(it=ur(me));var Te=y.getDerivedStateFromProps;me=typeof Te=="function"||typeof z.getSnapshotBeforeUpdate=="function",yt=f.pendingProps!==yt,me||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(yt||$t!==it)&&Uv(f,z,D,it),co=!1;var Re=f.memoizedState;z.state=Re,Ke(f,D,z,C),Oe(),$t=f.memoizedState,yt||Re!==$t||co?(typeof Te=="function"&&(Ac(f,y,Te,D),$t=f.memoizedState),(Tt=co||Tc(f,y,Tt,D,Re,$t,it))?(me||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(f.flags|=4194308)):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=D,f.memoizedState=$t),z.props=D,z.state=$t,z.context=it,D=Tt):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),D=!1)}else{z=f.stateNode,ge(c,f),it=f.memoizedProps,me=qa(y,it),z.props=me,Te=f.pendingProps,Re=z.context,$t=y.contextType,Tt=el,typeof $t=="object"&&$t!==null&&(Tt=ur($t)),yt=y.getDerivedStateFromProps,($t=typeof yt=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(it!==Te||Re!==Tt)&&Uv(f,z,D,Tt),co=!1,Re=f.memoizedState,z.state=Re,Ke(f,D,z,C),Oe();var dn=f.memoizedState;it!==Te||Re!==dn||co||c!==null&&c.dependencies!==null&&tf(c.dependencies)?(typeof yt=="function"&&(Ac(f,y,yt,D),dn=f.memoizedState),(me=co||Tc(f,y,me,D,Re,dn,Tt)||c!==null&&c.dependencies!==null&&tf(c.dependencies))?($t||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(D,dn,Tt),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(D,dn,Tt)),typeof z.componentDidUpdate=="function"&&(f.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof z.componentDidUpdate!="function"||it===c.memoizedProps&&Re===c.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||it===c.memoizedProps&&Re===c.memoizedState||(f.flags|=1024),f.memoizedProps=D,f.memoizedState=dn),z.props=D,z.state=dn,z.context=Tt,D=me):(typeof z.componentDidUpdate!="function"||it===c.memoizedProps&&Re===c.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||it===c.memoizedProps&&Re===c.memoizedState||(f.flags|=1024),D=!1)}return z=D,Ku(c,f),D=(f.flags&128)!==0,z||D?(z=f.stateNode,y=D&&typeof y.getDerivedStateFromError!="function"?null:z.render(),f.flags|=1,c!==null&&D?(f.child=al(f,c.child,null,C),f.child=al(f,null,y,C)):cr(c,f,y,C),f.memoizedState=z.state,c=f.child):c=Xa(c,f,C),c}function kv(c,f,y,D){return le(),f.flags|=256,cr(c,f,y,D),f.child}function qp(c){return{baseLanes:c,cachePool:Jp()}}function Qu(c,f,y){return c=c!==null?c.childLanes&~y:0,f&&(c|=bs),c}function Gv(c,f,y){var D=f.pendingProps,C=!1,z=(f.flags&128)!==0,it;if((it=z)||(it=c!==null&&c.memoizedState===null?!1:(Zi.current&2)!==0),it&&(C=!0,f.flags&=-129),it=(f.flags&32)!==0,f.flags&=-33,c===null){if(Pn){if(C?Sr(f):lr(),Pn){var yt=gr,Tt;(Tt=yt)&&(yt=Ay(yt,rr),yt!==null?(f.memoizedState={dehydrated:yt,treeContext:nl!==null?{id:ra,overflow:sa}:null,retryLane:536870912},Tt=e(18,null,null,0),Tt.stateNode=yt,Tt.return=f,f.child=Tt,mr=f,gr=null,Tt=!0):Tt=!1),Tt||xt(f)}if(yt=f.memoizedState,yt!==null&&(yt=yt.dehydrated,yt!==null))return Jh(yt)?f.lanes=16:f.lanes=536870912,null;Ye(f)}return yt=D.children,D=D.fallback,C?(lr(),C=f.mode,yt=Yp({mode:"hidden",children:yt},C),D=Ai(D,C,y,null),yt.return=f,D.return=f,yt.sibling=D,f.child=yt,C=f.child,C.memoizedState=qp(y),C.childLanes=Qu(c,it,y),f.memoizedState=hd,D):(Sr(f),Xp(f,yt))}if(Tt=c.memoizedState,Tt!==null&&(yt=Tt.dehydrated,yt!==null)){if(z)f.flags&256?(Sr(f),f.flags&=-257,f=Ah(c,f,y)):f.memoizedState!==null?(lr(),f.child=c.child,f.flags|=128,f=null):(lr(),C=D.fallback,yt=f.mode,D=Yp({mode:"visible",children:D.children},yt),C=Ai(C,yt,y,null),C.flags|=2,D.return=f,C.return=f,D.sibling=C,f.child=D,al(f,c.child,null,y),D=f.child,D.memoizedState=qp(y),D.childLanes=Qu(c,it,y),f.memoizedState=hd,f=C);else if(Sr(f),Jh(yt))it=by(yt).digest,D=Error(r(419)),D.stack="",D.digest=it,ce({value:D,source:null,stack:null}),f=Ah(c,f,y);else if(ri||$u(c,f,y,!1),it=(y&c.childLanes)!==0,ri||it){if(it=Wn,it!==null){if(D=y&-y,(D&42)!==0)D=1;else switch(D){case 2:D=1;break;case 8:D=4;break;case 32:D=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:D=64;break;case 268435456:D=134217728;break;default:D=0}if(D=(D&(it.suspendedLanes|y))!==0?0:D,D!==0&&D!==Tt.retryLane)throw Tt.retryLane=D,Xt(c,D),nr(it,c,D),fd}Qh(yt)||$a(),f=Ah(c,f,y)}else Qh(yt)?(f.flags|=128,f.child=c.child,f=to.bind(null,c),Sy(yt,f),f=null):(c=Tt.treeContext,pr&&(gr=Dy(yt),mr=f,Pn=!0,Vs=null,rr=!1,c!==null&&(hs[ds++]=ra,hs[ds++]=sa,hs[ds++]=nl,ra=c.id,sa=c.overflow,nl=f)),f=Xp(f,D.children),f.flags|=4096);return f}return C?(lr(),C=D.fallback,yt=f.mode,Tt=c.child,z=Tt.sibling,D=Is(Tt,{mode:"hidden",children:D.children}),D.subtreeFlags=Tt.subtreeFlags&31457280,z!==null?C=Is(z,C):(C=Ai(C,yt,y,null),C.flags|=2),C.return=f,D.return=f,D.sibling=C,f.child=D,D=C,C=f.child,yt=c.child.memoizedState,yt===null?yt=qp(y):(Tt=yt.cachePool,Tt!==null?(z=Pr?hi._currentValue:hi._currentValue2,Tt=Tt.parent!==z?{parent:z,pool:z}:Tt):Tt=Jp(),yt={baseLanes:yt.baseLanes|y,cachePool:Tt}),C.memoizedState=yt,C.childLanes=Qu(c,it,y),f.memoizedState=hd,D):(Sr(f),y=c.child,c=y.sibling,y=Is(y,{mode:"visible",children:D.children}),y.return=f,y.sibling=null,c!==null&&(it=f.deletions,it===null?(f.deletions=[c],f.flags|=16):it.push(c)),f.child=y,f.memoizedState=null,y)}function Xp(c,f){return f=Yp({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Yp(c,f){return mf(c,f,0,null)}function Ah(c,f,y){return al(f,c.child,null,y),c=Xp(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function jv(c,f,y){c.lanes|=f;var D=c.alternate;D!==null&&(D.lanes|=f),Ju(c.return,f,y)}function Wp(c,f,y,D,C){var z=c.memoizedState;z===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:D,tail:y,tailMode:C}:(z.isBackwards=f,z.rendering=null,z.renderingStartTime=0,z.last=D,z.tail=y,z.tailMode=C)}function qv(c,f,y){var D=f.pendingProps,C=D.revealOrder,z=D.tail;if(cr(c,f,D.children,y),D=Zi.current,(D&2)!==0)D=D&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)t:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&jv(c,y,f);else if(c.tag===19)jv(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break t;for(;c.sibling===null;){if(c.return===null||c.return===f)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}D&=1}switch(T(Zi,D),C){case"forwards":for(y=f.child,C=null;y!==null;)c=y.alternate,c!==null&&Xr(c)===null&&(C=y),y=y.sibling;y=C,y===null?(C=f.child,f.child=null):(C=y.sibling,y.sibling=null),Wp(f,!1,C,y,z);break;case"backwards":for(y=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&Xr(c)===null){f.child=C;break}c=C.sibling,C.sibling=y,y=C,C=c}Wp(f,!0,y,null,z);break;case"together":Wp(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Xa(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),xs|=f.lanes,(y&f.childLanes)===0)if(c!==null){if($u(c,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,y=Is(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=Is(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Zp(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&tf(c)))}function Zb(c,f,y){switch(f.tag){case 3:$(f,f.stateNode.containerInfo),zo(f,hi,c.memoizedState.cache),le();break;case 27:case 5:lt(f);break;case 4:$(f,f.stateNode.containerInfo);break;case 10:zo(f,f.type,f.memoizedProps.value);break;case 13:var D=f.memoizedState;if(D!==null)return D.dehydrated!==null?(Sr(f),f.flags|=128,null):(y&f.child.childLanes)!==0?Gv(c,f,y):(Sr(f),c=Xa(c,f,y),c!==null?c.sibling:null);Sr(f);break;case 19:var C=(c.flags&128)!==0;if(D=(y&f.childLanes)!==0,D||($u(c,f,y,!1),D=(y&f.childLanes)!==0),C){if(D)return qv(c,f,y);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),T(Zi,Zi.current),D)break;return null;case 22:case 23:return f.lanes=0,Bv(c,f,y);case 24:zo(f,hi,c.memoizedState.cache)}return Xa(c,f,y)}function Xv(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps)ri=!0;else{if(!Zp(c,y)&&(f.flags&128)===0)return ri=!1,Zb(c,f,y);ri=(c.flags&131072)!==0}else ri=!1,Pn&&(f.flags&1048576)!==0&&st(f,Qc,f.index);switch(f.lanes=0,f.tag){case 16:t:{c=f.pendingProps;var D=f.elementType,C=D._init;if(D=C(D._payload),f.type=D,typeof D=="function")df(D)?(c=qa(D,c),f.tag=1,f=Vv(null,f,D,c,y)):(f.tag=0,f=Dh(null,f,D,c,y));else{if(D!=null){if(C=D.$$typeof,C===xf){f.tag=11,f=Eh(null,f,D,c,y);break t}else if(C===qh){f.tag=14,f=Iv(null,f,D,c,y);break t}}throw f=l(D)||D,Error(r(306,f,""))}}return f;case 0:return Dh(c,f,f.type,f.pendingProps,y);case 1:return D=f.type,C=qa(D,f.pendingProps),Vv(c,f,D,C,y);case 3:t:{if($(f,f.stateNode.containerInfo),c===null)throw Error(r(387));var z=f.pendingProps;C=f.memoizedState,D=C.element,ge(c,f),Ke(f,z,null,y);var it=f.memoizedState;if(z=it.cache,zo(f,hi,z),z!==C.cache&&Cl(f,[hi],y,!0),Oe(),z=it.element,pr&&C.isDehydrated)if(C={element:z,isDehydrated:!1,cache:it.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=kv(c,f,z,y);break t}else if(z!==D){D=Q(Error(r(424)),f),ce(D),f=kv(c,f,z,y);break t}else for(pr&&(gr=Ey(f.stateNode.containerInfo),mr=f,Pn=!0,Vs=null,rr=!0),y=Ra(f,null,z,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(le(),z===D){f=Xa(c,f,y);break t}cr(c,f,z,y)}f=f.child}return f;case 26:if(fs)return Ku(c,f),c===null?(y=Pm(f.type,null,f.pendingProps,null))?f.memoizedState=y:Pn||(f.stateNode=id(f.type,f.pendingProps,Ta.current,f)):f.memoizedState=Pm(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(ni)return lt(f),c===null&&ni&&Pn&&(D=f.stateNode=ia(f.type,f.pendingProps,Ta.current,Wi.current,!1),mr=f,rr=!0,gr=$h(D)),D=f.pendingProps.children,c!==null||Pn?cr(c,f,D,y):f.child=al(f,null,D,y),Ku(c,f),f.child;case 5:return c===null&&Pn&&(ed(f.type,f.pendingProps,Wi.current),(C=D=gr)&&(D=nS(D,f.type,f.pendingProps,rr),D!==null?(f.stateNode=D,mr=f,gr=$h(D),rr=!1,C=!0):C=!1),C||xt(f)),lt(f),C=f.type,z=f.pendingProps,it=c!==null?c.memoizedProps:null,D=z.children,mn(C,z)?D=null:it!==null&&mn(C,it)&&(f.flags|=32),f.memoizedState!==null&&(C=rt(c,f,zt,null,null,y),Pr?na._currentValue=C:na._currentValue2=C),Ku(c,f),cr(c,f,D,y),f.child;case 6:return c===null&&Pn&&(Oy(f.pendingProps,Wi.current),(c=y=gr)&&(y=Lm(y,f.pendingProps,rr),y!==null?(f.stateNode=y,mr=f,gr=null,c=!0):c=!1),c||xt(f)),null;case 13:return Gv(c,f,y);case 4:return $(f,f.stateNode.containerInfo),D=f.pendingProps,c===null?f.child=al(f,null,D,y):cr(c,f,D,y),f.child;case 11:return Eh(c,f,f.type,f.pendingProps,y);case 7:return cr(c,f,f.pendingProps,y),f.child;case 8:return cr(c,f,f.pendingProps.children,y),f.child;case 12:return cr(c,f,f.pendingProps.children,y),f.child;case 10:return D=f.pendingProps,zo(f,f.type,D.value),cr(c,f,D.children,y),f.child;case 9:return C=f.type._context,D=f.pendingProps.children,Bo(f),C=ur(C),D=D(C),f.flags|=1,cr(c,f,D,y),f.child;case 14:return Iv(c,f,f.type,f.pendingProps,y);case 15:return zv(c,f,f.type,f.pendingProps,y);case 19:return qv(c,f,y);case 22:return Bv(c,f,y);case 24:return Bo(f),D=ur(hi),c===null?(C=Qp(),C===null&&(C=Wn,z=Ho(),C.pooledCache=z,z.refCount++,z!==null&&(C.pooledCacheLanes|=y),C=z),f.memoizedState={parent:D,cache:C},oe(f),zo(f,hi,C)):((c.lanes&y)!==0&&(ge(c,f),Ke(f,null,null,y),Oe()),C=c.memoizedState,z=f.memoizedState,C.parent!==D?(C={parent:D,cache:D},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),zo(f,hi,D)):(D=z.cache,zo(f,hi,D),D!==C.cache&&Cl(f,[hi],y,!0))),cr(c,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function zo(c,f,y){Pr?(T(fo,f._currentValue),f._currentValue=y):(T(fo,f._currentValue2),f._currentValue2=y)}function Ya(c){var f=fo.current;Pr?c._currentValue=f:c._currentValue2=f,x(fo)}function Ju(c,f,y){for(;c!==null;){var D=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,D!==null&&(D.childLanes|=f)):D!==null&&(D.childLanes&f)!==f&&(D.childLanes|=f),c===y)break;c=c.return}}function Cl(c,f,y,D){var C=c.child;for(C!==null&&(C.return=c);C!==null;){var z=C.dependencies;if(z!==null){var it=C.child;z=z.firstContext;t:for(;z!==null;){var yt=z;z=C;for(var Tt=0;Tt<f.length;Tt++)if(yt.context===f[Tt]){z.lanes|=y,yt=z.alternate,yt!==null&&(yt.lanes|=y),Ju(z.return,y,c),D||(it=null);break t}z=yt.next}}else if(C.tag===18){if(it=C.return,it===null)throw Error(r(341));it.lanes|=y,z=it.alternate,z!==null&&(z.lanes|=y),Ju(it,y,c),it=null}else it=C.child;if(it!==null)it.return=C;else for(it=C;it!==null;){if(it===c){it=null;break}if(C=it.sibling,C!==null){C.return=it.return,it=C;break}it=it.return}C=it}}function $u(c,f,y,D){c=null;for(var C=f,z=!1;C!==null;){if(!z){if((C.flags&524288)!==0)z=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var it=C.alternate;if(it===null)throw Error(r(387));if(it=it.memoizedProps,it!==null){var yt=C.type;ts(C.pendingProps.value,it.value)||(c!==null?c.push(yt):c=[yt])}}else if(C===Fl.current){if(it=C.alternate,it===null)throw Error(r(387));it.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(c!==null?c.push(na):c=[na])}C=C.return}c!==null&&Cl(f,c,y,D),f.flags|=262144}function tf(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!ts(Pr?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function Bo(c){la=c,vs=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function ur(c){return Kp(la,c)}function ef(c,f){return la===null&&Bo(c),Kp(c,f)}function Kp(c,f){var y=Pr?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},vs===null){if(c===null)throw Error(r(308));vs=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else vs=vs.next=f;return y}function Ho(){return{controller:new iu,data:new Map,refCount:0}}function nf(c){c.refCount--,c.refCount===0&&ky(Gy,function(){c.controller.abort()})}function Qp(){var c=Oa.current;return c!==null?c:Wn.pooledCache}function Th(c,f){f===null?T(Oa,Oa.current):T(Oa,f.pool)}function Jp(){var c=Qp();return c===null?null:{parent:Pr?hi._currentValue:hi._currentValue2,pool:c}}function Yr(c){c.flags|=4}function Oc(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function Ol(c,f,y,D){if(Yi)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)Sf(c,y.stateNode);else if(!(y.tag===4||ni&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(Hs)for(var C=f.child;C!==null;){if(C.tag===5){var z=C.stateNode;y&&D&&(z=Rm(z,C.type,C.memoizedProps)),Sf(c,z)}else if(C.tag===6)z=C.stateNode,y&&D&&(z=Cm(z,C.memoizedProps)),Sf(c,z);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)z=C.child,z!==null&&(z.return=C),Ol(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function Yv(c,f,y,D){if(Hs)for(var C=f.child;C!==null;){if(C.tag===5){var z=C.stateNode;y&&D&&(z=Rm(z,C.type,C.memoizedProps)),wm(c,z)}else if(C.tag===6)z=C.stateNode,y&&D&&(z=Cm(z,C.memoizedProps)),wm(c,z);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)z=C.child,z!==null&&(z.return=C),Yv(c,C,!(C.memoizedProps!==null&&C.memoizedProps.mode==="manual"),!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function rf(c,f){if(Hs&&Oc(c,f)){c=f.stateNode;var y=c.containerInfo,D=Mf();Yv(D,f,!1,!1),c.pendingChildren=D,Yr(f),Kh(y,D)}}function wh(c,f,y,D){if(Yi)c.memoizedProps!==D&&Yr(f);else if(Hs){var C=c.stateNode,z=c.memoizedProps;if((c=Oc(c,f))||z!==D){var it=Wi.current;z=Wc(C,y,z,D,!c,null),z===C?f.stateNode=C:(ro(z,y,D,it)&&Yr(f),f.stateNode=z,c?Ol(z,f,!1,!1):Yr(f))}else f.stateNode=C}}function Rh(c,f,y){if(xm(f,y)){if(c.flags|=16777216,!Wh(f,y))if(qo())c.flags|=8192;else throw il=Nf,Of}else c.flags&=-16777217}function Ch(c,f){if(Uy(f)){if(c.flags|=16777216,!Pl(f))if(qo())c.flags|=8192;else throw il=Nf,Of}else c.flags&=-16777217}function Nc(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?L():536870912,c.lanes|=f,Ua|=f)}function Lc(c,f){if(!Pn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var D=null;y!==null;)y.alternate!==null&&(D=y),y=y.sibling;D===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:D.sibling=null}}function bi(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,D=0;if(f)for(var C=c.child;C!==null;)y|=C.lanes|C.childLanes,D|=C.subtreeFlags&31457280,D|=C.flags&31457280,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)y|=C.lanes|C.childLanes,D|=C.subtreeFlags,D|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=D,c.childLanes=y,f}function Wv(c,f,y){var D=f.pendingProps;switch(dt(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(f),null;case 1:return bi(f),null;case 3:return y=f.stateNode,D=null,c!==null&&(D=c.memoizedState.cache),f.memoizedState.cache!==D&&(f.flags|=2048),Ya(hi),ft(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(Kt(f)?Yr(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Vs!==null&&(ff(Vs),Vs=null))),rf(c,f),bi(f),null;case 26:if(fs){y=f.type;var C=f.memoizedState;return c===null?(Yr(f),C!==null?(bi(f),Ch(f,C)):(bi(f),Rh(f,y,D))):C?C!==c.memoizedState?(Yr(f),bi(f),Ch(f,C)):(bi(f),f.flags&=-16777217):(Yi?c.memoizedProps!==D&&Yr(f):wh(c,f,y,D),bi(f),Rh(f,y,D)),null}case 27:if(ni){if(pt(f),y=Ta.current,C=f.type,c!==null&&f.stateNode!=null)Yi?c.memoizedProps!==D&&Yr(f):wh(c,f,C,D);else{if(!D){if(f.stateNode===null)throw Error(r(166));return bi(f),null}c=Wi.current,Kt(f)?Ct(f,c):(c=ia(C,D,y,c,!0),f.stateNode=c,Yr(f))}return bi(f),null}case 5:if(pt(f),y=f.type,c!==null&&f.stateNode!=null)wh(c,f,y,D);else{if(!D){if(f.stateNode===null)throw Error(r(166));return bi(f),null}c=Wi.current,Kt(f)?Ct(f,c):(C=_m(y,D,Ta.current,c,f),Ol(C,f,!1,!1),f.stateNode=C,ro(C,y,D,c)&&Yr(f))}return bi(f),Rh(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)y=c.memoizedProps,Yi?y!==D&&Yr(f):Hs&&(y!==D?(f.stateNode=Qn(D,Ta.current,Wi.current,f),Yr(f)):f.stateNode=c.stateNode);else{if(typeof D!="string"&&f.stateNode===null)throw Error(r(166));if(c=Ta.current,y=Wi.current,Kt(f)){if(!pr)throw Error(r(176));if(c=f.stateNode,y=f.memoizedProps,D=null,C=mr,C!==null)switch(C.tag){case 27:case 5:D=C.memoizedProps}Um(c,y,f,D)||xt(f)}else f.stateNode=Qn(D,c,y,f)}return bi(f),null;case 13:if(D=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(C=Kt(f),D!==null&&D.dehydrated!==null){if(c===null){if(!C)throw Error(r(318));if(!pr)throw Error(r(344));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));wy(C,f)}else le(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;bi(f),C=!1}else Vs!==null&&(ff(Vs),Vs=null),C=!0;if(!C)return f.flags&256?(Ye(f),f):(Ye(f),null)}if(Ye(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=D!==null,c=c!==null&&c.memoizedState!==null,y){D=f.child,C=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(C=D.alternate.memoizedState.cachePool.pool);var z=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(z=D.memoizedState.cachePool.pool),z!==C&&(D.flags|=2048)}return y!==c&&y&&(f.child.flags|=8192),Nc(f,f.updateQueue),bi(f),null;case 4:return ft(),rf(c,f),c===null&&zi(f.stateNode.containerInfo),bi(f),null;case 10:return Ya(f.type),bi(f),null;case 19:if(x(Zi),C=f.memoizedState,C===null)return bi(f),null;if(D=(f.flags&128)!==0,z=C.rendering,z===null)if(D)Lc(C,!1);else{if(si!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(z=Xr(c),z!==null){for(f.flags|=128,Lc(C,!1),c=z.updateQueue,f.updateQueue=c,Nc(f,c),f.subtreeFlags=0,c=y,y=f.child;y!==null;)pf(y,c),y=y.sibling;return T(Zi,Zi.current&1|2),f.child}c=c.sibling}C.tail!==null&&Fs()>au&&(f.flags|=128,D=!0,Lc(C,!1),f.lanes=4194304)}else{if(!D)if(c=Xr(z),c!==null){if(f.flags|=128,D=!0,c=c.updateQueue,f.updateQueue=c,Nc(f,c),Lc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!z.alternate&&!Pn)return bi(f),null}else 2*Fs()-C.renderingStartTime>au&&y!==536870912&&(f.flags|=128,D=!0,Lc(C,!1),f.lanes=4194304);C.isBackwards?(z.sibling=f.child,f.child=z):(c=C.last,c!==null?c.sibling=z:f.child=z,C.last=z)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=Fs(),f.sibling=null,c=Zi.current,T(Zi,D?c&1|2:c&1),f):(bi(f),null);case 22:case 23:return Ye(f),Pi(),D=f.memoizedState!==null,c!==null?c.memoizedState!==null!==D&&(f.flags|=8192):D&&(f.flags|=8192),D?(y&536870912)!==0&&(f.flags&128)===0&&(bi(f),f.subtreeFlags&6&&(f.flags|=8192)):bi(f),y=f.updateQueue,y!==null&&Nc(f,y.retryQueue),y=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),D=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(D=f.memoizedState.cachePool.pool),D!==y&&(f.flags|=2048),c!==null&&x(Oa),null;case 24:return y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Ya(hi),bi(f),null;case 25:return null}throw Error(r(156,f.tag))}function Kb(c,f){switch(dt(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ya(hi),ft(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return pt(f),null;case 13:if(Ye(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));le()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return x(Zi),null;case 4:return ft(),null;case 10:return Ya(f.type),null;case 22:case 23:return Ye(f),Pi(),c!==null&&x(Oa),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Ya(hi),null;case 25:return null;default:return null}}function Zv(c,f){switch(dt(f),f.tag){case 3:Ya(hi),ft();break;case 26:case 27:case 5:pt(f);break;case 4:ft();break;case 13:Ye(f);break;case 19:x(Zi);break;case 10:Ya(f.type);break;case 22:case 23:Ye(f),Pi(),c!==null&&x(Oa);break;case 24:Ya(hi)}}function sf(c,f){try{var y=f.updateQueue,D=y!==null?y.lastEffect:null;if(D!==null){var C=D.next;y=C;do{if((y.tag&c)===c){D=void 0;var z=y.create,it=y.inst;D=z(),it.destroy=D}y=y.next}while(y!==C)}}catch(yt){Xn(f,f.return,yt)}}function Fo(c,f,y){try{var D=f.updateQueue,C=D!==null?D.lastEffect:null;if(C!==null){var z=C.next;D=z;do{if((D.tag&c)===c){var it=D.inst,yt=it.destroy;if(yt!==void 0){it.destroy=void 0,C=f;var Tt=y;try{yt()}catch($t){Xn(C,Tt,$t)}}}D=D.next}while(D!==z)}}catch($t){Xn(f,f.return,$t)}}function Kv(c){var f=c.updateQueue;if(f!==null){var y=c.stateNode;try{Gt(f,y)}catch(D){Xn(c,c.return,D)}}}function Wr(c,f,y){y.props=qa(c.type,c.memoizedProps),y.state=c.memoizedState;try{y.componentWillUnmount()}catch(D){Xn(c,f,D)}}function $s(c,f){try{var y=c.ref;if(y!==null){var D=c.stateNode;switch(c.tag){case 26:case 27:case 5:var C=qc(D);break;default:C=D}typeof y=="function"?c.refCleanup=y(C):y.current=C}}catch(z){Xn(c,f,z)}}function Zr(c,f){var y=c.ref,D=c.refCleanup;if(y!==null)if(typeof D=="function")try{D()}catch(C){Xn(c,f,C)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(C){Xn(c,f,C)}else y.current=null}function $p(c){var f=c.type,y=c.memoizedProps,D=c.stateNode;try{tS(D,f,y,c)}catch(C){Xn(c,c.return,C)}}function tm(c,f,y){try{dy(c.stateNode,c.type,y,f,c)}catch(D){Xn(c,c.return,D)}}function em(c){return c.tag===5||c.tag===3||(fs?c.tag===26:!1)||(ni?c.tag===27:!1)||c.tag===4}function af(c){t:for(;;){for(;c.sibling===null;){if(c.return===null||em(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!ni||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue t;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function nm(c,f,y){var D=c.tag;if(D===5||D===6)c=c.stateNode,f?my(y,c,f):Dm(y,c);else if(!(D===4||ni&&D===27)&&(c=c.child,c!==null))for(nm(c,f,y),c=c.sibling;c!==null;)nm(c,f,y),c=c.sibling}function Wa(c,f,y){var D=c.tag;if(D===5||D===6)c=c.stateNode,f?py(y,c,f):fy(y,c);else if(!(D===4||ni&&D===27)&&(c=c.child,c!==null))for(Wa(c,f,y),c=c.sibling;c!==null;)Wa(c,f,y),c=c.sibling}function Oh(c,f,y){c=c.containerInfo;try{Zc(c,y)}catch(D){Xn(f,f.return,D)}}function of(c,f){for(Xh(c.containerInfo),hn=f;hn!==null;)if(c=hn,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,hn=f;else for(;hn!==null;){c=hn;var y=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&y!==null){f=void 0;var D=c,C=y.memoizedProps;y=y.memoizedState;var z=D.stateNode;try{var it=qa(D.type,C,D.elementType===D.type);f=z.getSnapshotBeforeUpdate(it,y),z.__reactInternalSnapshotBeforeUpdate=f}catch(yt){Xn(D,D.return,yt)}}break;case 3:(f&1024)!==0&&Yi&&xy(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=c.sibling,f!==null){f.return=c.return,hn=f;break}hn=c.return}return it=An,An=!1,it}function Nh(c,f,y){var D=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(c,y),D&4&&sf(5,y);break;case 1:if(Ka(c,y),D&4)if(c=y.stateNode,f===null)try{c.componentDidMount()}catch(yt){Xn(y,y.return,yt)}else{var C=qa(y.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(C,f,c.__reactInternalSnapshotBeforeUpdate)}catch(yt){Xn(y,y.return,yt)}}D&64&&Kv(y),D&512&&$s(y,y.return);break;case 3:if(Ka(c,y),D&64&&(D=y.updateQueue,D!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=qc(y.child.stateNode);break;case 1:c=y.child.stateNode}try{Gt(D,c)}catch(yt){Xn(y,y.return,yt)}}break;case 26:if(fs){Ka(c,y),D&512&&$s(y,y.return);break}case 27:case 5:Ka(c,y),f===null&&D&4&&$p(y),D&512&&$s(y,y.return);break;case 12:Ka(c,y);break;case 13:Ka(c,y),D&4&&Lh(c,y);break;case 22:if(C=y.memoizedState!==null||Na,!C){f=f!==null&&f.memoizedState!==null||wi;var z=Na,it=wi;Na=C,(wi=f)&&!it?Qa(c,y,(y.subtreeFlags&8772)!==0):Ka(c,y),Na=z,wi=it}D&512&&(y.memoizedProps.mode==="manual"?$s(y,y.return):Zr(y,y.return));break;default:Ka(c,y)}}function im(c){var f=c.alternate;f!==null&&(c.alternate=null,im(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&$b(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function fr(c,f,y){for(y=y.child;y!==null;)Vo(c,f,y),y=y.sibling}function Vo(c,f,y){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Hi,y)}catch{}switch(y.tag){case 26:if(fs){wi||Zr(y,f),fr(c,f,y),y.memoizedState?Ul(y.memoizedState):y.stateNode&&Kc(y.stateNode);break}case 27:if(ni){wi||Zr(y,f);var D=qe,C=yn;qe=y.stateNode,fr(c,f,y),tl(y.stateNode),qe=D,yn=C;break}case 5:wi||Zr(y,f);case 6:if(Yi){if(D=qe,C=yn,qe=null,fr(c,f,y),qe=D,yn=C,qe!==null)if(yn)try{gy(qe,y.stateNode)}catch(z){Xn(y,f,z)}else try{Am(qe,y.stateNode)}catch(z){Xn(y,f,z)}}else fr(c,f,y);break;case 18:Yi&&qe!==null&&(yn?Ef(qe,y.stateNode):Cy(qe,y.stateNode));break;case 4:Yi?(D=qe,C=yn,qe=y.stateNode.containerInfo,yn=!0,fr(c,f,y),qe=D,yn=C):(Hs&&Oh(y.stateNode,y,Mf()),fr(c,f,y));break;case 0:case 11:case 14:case 15:wi||Fo(2,y,f),wi||Fo(4,y,f),fr(c,f,y);break;case 1:wi||(Zr(y,f),D=y.stateNode,typeof D.componentWillUnmount=="function"&&Wr(y,f,D)),fr(c,f,y);break;case 21:fr(c,f,y);break;case 22:wi||Zr(y,f),wi=(D=wi)||y.memoizedState!==null,fr(c,f,y),wi=D;break;default:fr(c,f,y)}}function Lh(c,f){if(pr&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{rS(c)}catch(y){Xn(f,f.return,y)}}function Qv(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new Yn),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new Yn),f;default:throw Error(r(435,c.tag))}}function Za(c,f){var y=Qv(c);f.forEach(function(D){var C=Wo.bind(null,c,D);y.has(D)||(y.add(D),D.then(C,C))})}function Lr(c,f){var y=f.deletions;if(y!==null)for(var D=0;D<y.length;D++){var C=y[D],z=c,it=f;if(Yi){var yt=it;t:for(;yt!==null;){switch(yt.tag){case 27:case 5:qe=yt.stateNode,yn=!1;break t;case 3:qe=yt.stateNode.containerInfo,yn=!0;break t;case 4:qe=yt.stateNode.containerInfo,yn=!0;break t}yt=yt.return}if(qe===null)throw Error(r(160));Vo(z,it,C),qe=null,yn=!1}else Vo(z,it,C);z=C.alternate,z!==null&&(z.return=null),C.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)rm(f,c),f=f.sibling}function rm(c,f){var y=c.alternate,D=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Lr(f,c),Kr(c),D&4&&(Fo(3,c,c.return),sf(3,c),Fo(5,c,c.return));break;case 1:Lr(f,c),Kr(c),D&512&&(wi||y===null||Zr(y,y.return)),D&64&&Na&&(c=c.updateQueue,c!==null&&(D=c.callbacks,D!==null&&(y=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=y===null?D:y.concat(D))));break;case 26:if(fs){var C=Mi;Lr(f,c),Kr(c),D&512&&(wi||y===null||Zr(y,y.return)),D&4&&(D=y!==null?y.memoizedState:null,f=c.memoizedState,y===null?f===null?c.stateNode===null?c.stateNode=Af(C,c.type,c.memoizedProps,c):Tf(C,c.type,c.stateNode):c.stateNode=Ny(C,f,c.memoizedProps):D!==f?(D===null?y.stateNode!==null&&Kc(y.stateNode):Ul(D),f===null?Tf(C,c.type,c.stateNode):Ny(C,f,c.memoizedProps)):f===null&&c.stateNode!==null&&tm(c,c.memoizedProps,y.memoizedProps));break}case 27:if(ni&&D&4&&c.alternate===null){C=c.stateNode;var z=c.memoizedProps;try{$o(C),Iy(c.type,z,C,c)}catch(me){Xn(c,c.return,me)}}case 5:if(Lr(f,c),Kr(c),D&512&&(wi||y===null||Zr(y,y.return)),Yi){if(c.flags&32){f=c.stateNode;try{Tm(f)}catch(me){Xn(c,c.return,me)}}D&4&&c.stateNode!=null&&(f=c.memoizedProps,tm(c,f,y!==null?y.memoizedProps:f)),D&1024&&(Hm=!0)}break;case 6:if(Lr(f,c),Kr(c),D&4&&Yi){if(c.stateNode===null)throw Error(r(162));D=c.memoizedProps,y=y!==null?y.memoizedProps:D,f=c.stateNode;try{hy(f,y,D)}catch(me){Xn(c,c.return,me)}}break;case 3:if(fs?(Ly(),C=Mi,Mi=nd(f.containerInfo),Lr(f,c),Mi=C):Lr(f,c),Kr(c),D&4){if(Yi&&pr&&y!==null&&y.memoizedState.isDehydrated)try{iS(f.containerInfo)}catch(me){Xn(c,c.return,me)}if(Hs){D=f.containerInfo,y=f.pendingChildren;try{Zc(D,y)}catch(me){Xn(c,c.return,me)}}}Hm&&(Hm=!1,Jv(c));break;case 4:fs?(y=Mi,Mi=nd(c.stateNode.containerInfo),Lr(f,c),Kr(c),Mi=y):(Lr(f,c),Kr(c)),D&4&&Hs&&Oh(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Lr(f,c),Kr(c);break;case 13:Lr(f,c),Kr(c),c.child.flags&8192&&c.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Hr=Fs()),D&4&&(D=c.updateQueue,D!==null&&(c.updateQueue=null,Za(c,D)));break;case 22:D&512&&(wi||y===null||Zr(y,y.return)),C=c.memoizedState!==null;var it=y!==null&&y.memoizedState!==null,yt=Na,Tt=wi;if(Na=yt||C,wi=Tt||it,Lr(f,c),wi=Tt,Na=yt,Kr(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,D&8192&&(f._visibility=C?f._visibility&-2:f._visibility|1,C&&(f=Na||wi,y===null||it||f||Uc(c)),Yi&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){t:if(y=null,Yi)for(f=c;;){if(f.tag===5||fs&&f.tag===26||ni&&f.tag===27){if(y===null){it=y=f;try{z=it.stateNode,C?vy(z):_y(it.stateNode,it.memoizedProps)}catch(me){Xn(it,it.return,me)}}}else if(f.tag===6){if(y===null){it=f;try{var $t=it.stateNode;C?yy($t):eS($t,it.memoizedProps)}catch(me){Xn(it,it.return,me)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break t;for(;f.sibling===null;){if(f.return===null||f.return===c)break t;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}D&4&&(D=c.updateQueue,D!==null&&(y=D.retryQueue,y!==null&&(D.retryQueue=null,Za(c,y))));break;case 19:Lr(f,c),Kr(c),D&4&&(D=c.updateQueue,D!==null&&(c.updateQueue=null,Za(c,D)));break;case 21:break;default:Lr(f,c),Kr(c)}}function Kr(c){var f=c.flags;if(f&2){try{if(Yi&&(!ni||c.tag!==27)){t:{for(var y=c.return;y!==null;){if(em(y)){var D=y;break t}y=y.return}throw Error(r(160))}switch(D.tag){case 27:if(ni){var C=D.stateNode,z=af(c);Wa(c,z,C);break}case 5:var it=D.stateNode;D.flags&32&&(Tm(it),D.flags&=-33);var yt=af(c);Wa(c,yt,it);break;case 3:case 4:var Tt=D.stateNode.containerInfo,$t=af(c);nm(c,$t,Tt);break;default:throw Error(r(161))}}}catch(me){Xn(c,c.return,me)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function Jv(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;Jv(f),f.tag===5&&f.flags&1024&&Zh(f.stateNode),c=c.sibling}}function Ka(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Nh(c,f.alternate,f),f=f.sibling}function Uc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Fo(4,f,f.return),Uc(f);break;case 1:Zr(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&Wr(f,f.return,y),Uc(f);break;case 26:case 27:case 5:Zr(f,f.return),Uc(f);break;case 22:Zr(f,f.return),f.memoizedState===null&&Uc(f);break;default:Uc(f)}c=c.sibling}}function Qa(c,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var D=f.alternate,C=c,z=f,it=z.flags;switch(z.tag){case 0:case 11:case 15:Qa(C,z,y),sf(4,z);break;case 1:if(Qa(C,z,y),D=z,C=D.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch($t){Xn(D,D.return,$t)}if(D=z,C=D.updateQueue,C!==null){var yt=D.stateNode;try{var Tt=C.shared.hiddenCallbacks;if(Tt!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Tt.length;C++)Et(Tt[C],yt)}catch($t){Xn(D,D.return,$t)}}y&&it&64&&Kv(z),$s(z,z.return);break;case 26:case 27:case 5:Qa(C,z,y),y&&D===null&&it&4&&$p(z),$s(z,z.return);break;case 12:Qa(C,z,y);break;case 13:Qa(C,z,y),y&&it&4&&Lh(C,z);break;case 22:z.memoizedState===null&&Qa(C,z,y),$s(z,z.return);break;default:Qa(C,z,y)}f=f.sibling}}function Uh(c,f){var y=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==y&&(c!=null&&c.refCount++,y!=null&&nf(y))}function lf(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&nf(c))}function er(c,f,y,D){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)sm(c,f,y,D),f=f.sibling}function sm(c,f,y,D){var C=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,y,D),C&2048&&sf(9,f);break;case 3:er(c,f,y,D),C&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&nf(c)));break;case 12:if(C&2048){er(c,f,y,D),c=f.stateNode;try{var z=f.memoizedProps,it=z.id,yt=z.onPostCommit;typeof yt=="function"&&yt(it,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Tt){Xn(f,f.return,Tt)}}else er(c,f,y,D);break;case 23:break;case 22:z=f.stateNode,f.memoizedState!==null?z._visibility&4?er(c,f,y,D):Mr(c,f):z._visibility&4?er(c,f,y,D):(z._visibility|=4,hr(c,f,y,D,(f.subtreeFlags&10256)!==0)),C&2048&&Uh(f.alternate,f);break;case 24:er(c,f,y,D),C&2048&&lf(f.alternate,f);break;default:er(c,f,y,D)}}function hr(c,f,y,D,C){for(C=C&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var z=c,it=f,yt=y,Tt=D,$t=it.flags;switch(it.tag){case 0:case 11:case 15:hr(z,it,yt,Tt,C),sf(8,it);break;case 23:break;case 22:var me=it.stateNode;it.memoizedState!==null?me._visibility&4?hr(z,it,yt,Tt,C):Mr(z,it):(me._visibility|=4,hr(z,it,yt,Tt,C)),C&&$t&2048&&Uh(it.alternate,it);break;case 24:hr(z,it,yt,Tt,C),C&&$t&2048&&lf(it.alternate,it);break;default:hr(z,it,yt,Tt,C)}f=f.sibling}}function Mr(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=c,D=f,C=D.flags;switch(D.tag){case 22:Mr(y,D),C&2048&&Uh(D.alternate,D);break;case 24:Mr(y,D),C&2048&&lf(D.alternate,D);break;default:Mr(y,D)}f=f.sibling}}function Us(c){if(c.subtreeFlags&ys)for(c=c.child;c!==null;)Ph(c),c=c.sibling}function Ph(c){switch(c.tag){case 26:Us(c),c.flags&ys&&(c.memoizedState!==null?Py(Mi,c.memoizedState,c.memoizedProps):Ir(c.type,c.memoizedProps));break;case 5:Us(c),c.flags&ys&&Ir(c.type,c.memoizedProps);break;case 3:case 4:if(fs){var f=Mi;Mi=nd(c.stateNode.containerInfo),Us(c),Mi=f}else Us(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=ys,ys=16777216,Us(c),ys=f):Us(c));break;default:Us(c)}}function cf(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function ko(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var D=f[y];hn=D,am(D,c)}cf(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Ih(c),c=c.sibling}function Ih(c){switch(c.tag){case 0:case 11:case 15:ko(c),c.flags&2048&&Fo(9,c,c.return);break;case 3:ko(c);break;case 12:ko(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,Ja(c)):ko(c);break;default:ko(c)}}function Ja(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var D=f[y];hn=D,am(D,c)}cf(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Fo(8,f,f.return),Ja(f);break;case 22:y=f.stateNode,y._visibility&4&&(y._visibility&=-5,Ja(f));break;default:Ja(f)}c=c.sibling}}function am(c,f){for(;hn!==null;){var y=hn;switch(y.tag){case 0:case 11:case 15:Fo(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var D=y.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:nf(y.memoizedState.cache)}if(D=y.child,D!==null)D.return=y,hn=D;else t:for(y=c;hn!==null;){D=hn;var C=D.sibling,z=D.return;if(im(D),D===y){hn=null;break t}if(C!==null){C.return=z,hn=C;break t}hn=z}}}function Pc(c){var f=ry(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(r(364));return f}if(c=Mm(c),c===null)throw Error(r(362));return c.stateNode.current}function Go(c,f){var y=c.tag;switch(f.$$typeof){case su:if(c.type===f.value)return!0;break;case js:t:{for(f=f.value,c=[c,0],y=0;y<c.length;){var D=c[y++],C=D.tag,z=c[y++],it=f[z];if(C!==5&&C!==26&&C!==27||!Yc(D)){for(;it!=null&&Go(D,it);)z++,it=f[z];if(z===f.length){f=!0;break t}else for(D=D.child;D!==null;)c.push(D,z),D=D.sibling}}f=!1}return f;case yi:if((y===5||y===26||y===27)&&ly(c.stateNode,f.value))return!0;break;case La:if((y===5||y===6||y===26||y===27)&&(c=oy(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case ca:if((y===5||y===26||y===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function om(c){switch(c.$$typeof){case su:return"<"+(l(c.value)||"Unknown")+">";case js:return":has("+(om(c)||"")+")";case yi:return'[role="'+c.value+'"]';case La:return'"'+c.value+'"';case ca:return'[data-testname="'+c.value+'"]';default:throw Error(r(365))}}function Qr(c,f){var y=[];c=[c,0];for(var D=0;D<c.length;){var C=c[D++],z=C.tag,it=c[D++],yt=f[it];if(z!==5&&z!==26&&z!==27||!Yc(C)){for(;yt!=null&&Go(C,yt);)it++,yt=f[it];if(it===f.length)y.push(C);else for(C=C.child;C!==null;)c.push(C,it),C=C.sibling}}return y}function uf(c,f){if(!Jo)throw Error(r(363));c=Pc(c),c=Qr(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var D=c[y++],C=D.tag;if(C===5||C===26||C===27)Yc(D)||f.push(D.stateNode);else for(D=D.child;D!==null;)c.push(D),D=D.sibling}return f}function Ii(){if((zn&2)!==0&&Cn!==0)return Cn&-Cn;if(sn.T!==null){var c=ps;return c!==0?c:de()}return sy()}function lm(){bs===0&&(bs=(Cn&536870912)===0||Pn?N():536870912);var c=ms.current;return c!==null&&(c.flags|=32),bs}function nr(c,f,y){(c===Wn&&$n===2||c.cancelPendingCommit!==null)&&(dr(c,0),Jr(c,Cn,bs,!1)),F(c,y),((zn&2)===0||c!==Wn)&&(c===Wn&&((zn&2)===0&&(ho|=y),si===4&&Jr(c,Cn,bs,!1)),Zt(c))}function jo(c,f,y){if((zn&6)!==0)throw Error(r(327));var D=!y&&(f&60)===0&&(f&c.expiredLanes)===0||P(c,f),C=D?um(c,f):Bh(c,f,!0),z=D;do{if(C===0){_s&&!D&&Jr(c,f,0,!1);break}else if(C===6)Jr(c,f,0,!Xs);else{if(y=c.current.alternate,z&&!Ic(y)){C=Bh(c,f,!1),z=!1;continue}if(C===2){if(z=f,c.errorRecoveryDisabledLanes&z)var it=0;else it=c.pendingLanes&-536870913,it=it!==0?it:it&536870912?536870912:0;if(it!==0){f=it;t:{var yt=c;C=Zl;var Tt=pr&&yt.current.memoizedState.isDehydrated;if(Tt&&(dr(yt,it).flags|=256),it=Bh(yt,it,!1),it!==2){if(Ki&&!Tt){yt.errorRecoveryDisabledLanes|=z,ho|=z,C=4;break t}z=Ri,Ri=C,z!==null&&ff(z)}C=it}if(z=!1,C!==2)continue}}if(C===1){dr(c,0),Jr(c,f,0,!0);break}t:{switch(D=c,C){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){Jr(D,f,bs,!Xs);break t}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if(D.finishedWork=y,D.finishedLanes=f,(f&62914560)===f&&(z=Hr+300-Fs(),10<z)){if(Jr(D,f,bs,!Xs),I(D,0)!==0)break t;D.timeoutHandle=ji(zh.bind(null,D,y,Ri,Uf,dd,f,bs,ho,Ua,Xs,2,-0,0),z);break t}zh(D,y,Ri,Uf,dd,f,bs,ho,Ua,Xs,0,-0,0)}}break}while(!0);Zt(c)}function ff(c){Ri===null?Ri=c:Ri.push.apply(Ri,c)}function zh(c,f,y,D,C,z,it,yt,Tt,$t,me,Te,Re){var dn=f.subtreeFlags;if((dn&8192||(dn&16785408)===16785408)&&(bm(),Ph(f),f=qi(),f!==null)){c.cancelPendingCommit=f(Xo.bind(null,c,y,D,C,it,yt,Tt,1,Te,Re)),Jr(c,z,it,!$t);return}Xo(c,y,D,C,it,yt,Tt,me,Te,Re)}function Ic(c){for(var f=c;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var D=0;D<y.length;D++){var C=y[D],z=C.getSnapshot;C=C.value;try{if(!ts(z(),C))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Jr(c,f,y,D){f&=~Lf,f&=~ho,c.suspendedLanes|=f,c.pingedLanes&=~f,D&&(c.warmLanes|=f),D=c.expirationTimes;for(var C=f;0<C;){var z=31-zr(C),it=1<<z;D[z]=-1,C&=~it}y!==0&&tt(c,y,f)}function hf(){return(zn&6)===0?(ot(0),!1):!0}function zc(){if(Ze!==null){if($n===0)var c=Ze.return;else c=Ze,vs=la=null,ae(c),rl=null,sl=0,c=Ze;for(;c!==null;)Zv(c.alternate,c),c=c.return;Ze=null}}function dr(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;y!==Ko&&(c.timeoutHandle=Ko,Yh(y)),y=c.cancelPendingCommit,y!==null&&(c.cancelPendingCommit=null,y()),zc(),Wn=c,Ze=y=Is(c.current,null),Cn=f,$n=0,Dr=null,Xs=!1,_s=P(c,f),Ki=!1,Ua=bs=Lf=ho=xs=si=0,Ri=Zl=null,dd=!1,(f&8)!==0&&(f|=f&32);var D=c.entangledLanes;if(D!==0)for(c=c.entanglements,D&=f;0<D;){var C=31-zr(D),z=1<<C;f|=c[C],D&=~z}return Ar=f,et(),y}function ls(c,f){Sn=null,sn.H=Ti,f===eu?(f=nn(),$n=3):f===Of?(f=nn(),$n=4):$n=f===fd?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Dr=f,Ze===null&&(si=1,wc(c,Q(f,c.current)))}function qo(){var c=ms.current;return c===null?!0:(Cn&4194176)===Cn?ii===null:(Cn&62914560)===Cn||(Cn&536870912)!==0?c===ii:!1}function ba(){var c=sn.H;return sn.H=Ti,c===null?Ti:c}function Sa(){var c=sn.A;return sn.A=ru,c}function $a(){si=4,Xs||(Cn&4194176)!==Cn&&ms.current!==null||(_s=!0),(xs&134217727)===0&&(ho&134217727)===0||Wn===null||Jr(Wn,Cn,bs,!1)}function Bh(c,f,y){var D=zn;zn|=2;var C=ba(),z=Sa();(Wn!==c||Cn!==f)&&(Uf=null,dr(c,f)),f=!1;var it=si;t:do try{if($n!==0&&Ze!==null){var yt=Ze,Tt=Dr;switch($n){case 8:zc(),it=6;break t;case 3:case 2:case 6:ms.current===null&&(f=!0);var $t=$n;if($n=0,Dr=null,Ps(c,yt,Tt,$t),y&&_s){it=0;break t}break;default:$t=$n,$n=0,Dr=null,Ps(c,yt,Tt,$t)}}cm(),it=si;break}catch(me){ls(c,me)}while(!0);return f&&c.shellSuspendCounter++,vs=la=null,zn=D,sn.H=C,sn.A=z,Ze===null&&(Wn=null,Cn=0,et()),it}function cm(){for(;Ze!==null;)Si(Ze)}function um(c,f){var y=zn;zn|=2;var D=ba(),C=Sa();Wn!==c||Cn!==f?(Uf=null,au=Fs()+500,dr(c,f)):_s=P(c,f);t:do try{if($n!==0&&Ze!==null){f=Ze;var z=Dr;e:switch($n){case 1:$n=0,Dr=null,Ps(c,f,z,1);break;case 2:if(ne(z)){$n=0,Dr=null,Hn(f);break}f=function(){$n===2&&Wn===c&&($n=7),Zt(c)},z.then(f,f);break t;case 3:$n=7;break t;case 4:$n=5;break t;case 7:ne(z)?($n=0,Dr=null,Hn(f)):($n=0,Dr=null,Ps(c,f,z,7));break;case 5:var it=null;switch(Ze.tag){case 26:it=Ze.memoizedState;case 5:case 27:var yt=Ze,Tt=yt.type,$t=yt.pendingProps;if(it?Pl(it):Wh(Tt,$t)){$n=0,Dr=null;var me=yt.sibling;if(me!==null)Ze=me;else{var Te=yt.return;Te!==null?(Ze=Te,cs(Te)):Ze=null}break e}}$n=0,Dr=null,Ps(c,f,z,5);break;case 6:$n=0,Dr=null,Ps(c,f,z,6);break;case 8:zc(),si=6;break t;default:throw Error(r(462))}}Ur();break}catch(Re){ls(c,Re)}while(!0);return vs=la=null,sn.H=D,sn.A=C,zn=y,Ze!==null?0:(Wn=null,Cn=0,et(),si)}function Ur(){for(;Ze!==null&&!Hy();)Si(Ze)}function Si(c){var f=Xv(c.alternate,c,Ar);c.memoizedProps=c.pendingProps,f===null?cs(c):Ze=f}function Hn(c){var f=c,y=f.alternate;switch(f.tag){case 15:case 0:f=Fv(y,f,f.pendingProps,f.type,void 0,Cn);break;case 11:f=Fv(y,f,f.pendingProps,f.type.render,f.ref,Cn);break;case 5:ae(f);default:Zv(y,f),f=Ze=pf(f,Ar),f=Xv(y,f,Ar)}c.memoizedProps=c.pendingProps,f===null?cs(c):Ze=f}function Ps(c,f,y,D){vs=la=null,ae(f),rl=null,sl=0;var C=f.return;try{if(Wb(c,C,f,y,Cn)){si=1,wc(c,Q(y,c.current)),Ze=null;return}}catch(z){if(C!==null)throw Ze=C,z;si=1,wc(c,Q(y,c.current)),Ze=null;return}f.flags&32768?(Pn||D===1?c=!0:_s||(Cn&536870912)!==0?c=!1:(Xs=c=!0,(D===2||D===3||D===6)&&(D=ms.current,D!==null&&D.tag===13&&(D.flags|=16384))),Hh(f,c)):cs(f)}function cs(c){var f=c;do{if((f.flags&32768)!==0){Hh(f,Xs);return}c=f.return;var y=Wv(f.alternate,f,Ar);if(y!==null){Ze=y;return}if(f=f.sibling,f!==null){Ze=f;return}Ze=f=c}while(f!==null);si===0&&(si=5)}function Hh(c,f){do{var y=Kb(c.alternate,c);if(y!==null){y.flags&=32767,Ze=y;return}if(y=c.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(c=c.sibling,c!==null)){Ze=c;return}Ze=c=y}while(c!==null);si=6,Ze=null}function Xo(c,f,y,D,C,z,it,yt,Tt,$t){var me=sn.T,Te=so();try{Er(2),sn.T=null,$v(c,f,y,D,Te,C,z,it,yt,Tt,$t)}finally{sn.T=me,Er(Te)}}function $v(c,f,y,D,C,z,it,yt){do ta();while(Pa!==null);if((zn&6)!==0)throw Error(r(327));var Tt=c.finishedWork;if(D=c.finishedLanes,Tt===null)return null;if(c.finishedWork=null,c.finishedLanes=0,Tt===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var $t=Tt.lanes|Tt.childLanes;if($t|=aa,K(c,D,$t,z,it,yt),c===Wn&&(Ze=Wn=null,Cn=0),(Tt.subtreeFlags&10256)===0&&(Tt.flags&10256)===0||ua||(ua=!0,ul=$t,pd=y,eo(od,function(){return ta(),null})),y=(Tt.flags&15990)!==0,(Tt.subtreeFlags&15990)!==0||y?(y=sn.T,sn.T=null,z=so(),Er(2),it=zn,zn|=4,of(c,Tt),rm(Tt,c),iy(c.containerInfo),c.current=Tt,Nh(c,Tt.alternate,Tt),sd(),zn=it,Er(z),sn.T=y):c.current=Tt,ua?(ua=!1,Pa=c,Kl=D):fm(c,$t),$t=c.pendingLanes,$t===0&&(cl=null),H(Tt.stateNode),Zt(c),f!==null)for(C=c.onRecoverableError,Tt=0;Tt<f.length;Tt++)$t=f[Tt],C($t.value,{componentStack:$t.stack});return(Kl&3)!==0&&ta(),$t=c.pendingLanes,(D&4194218)!==0&&($t&42)!==0?c===md?ou++:(ou=0,md=c):ou=0,ot(0),null}function fm(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,nf(f)))}function ta(){if(Pa!==null){var c=Pa,f=ul;ul=0;var y=at(Kl),D=32>y?32:y;y=sn.T;var C=so();try{if(Er(D),sn.T=null,Pa===null)var z=!1;else{D=pd,pd=null;var it=Pa,yt=Kl;if(Pa=null,Kl=0,(zn&6)!==0)throw Error(r(331));var Tt=zn;if(zn|=4,Ih(it.current),sm(it,it.current,yt,D),zn=Tt,ot(0,!1),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Hi,it)}catch{}z=!0}return z}finally{Er(C),sn.T=y,fm(c,f)}}return!1}function Bc(c,f,y){f=Q(y,f),f=Cc(c.stateNode,f,2),c=De(c,f,2),c!==null&&(F(c,2),Zt(c))}function Xn(c,f,y){if(c.tag===3)Bc(c,c,y);else for(;f!==null;){if(f.tag===3){Bc(f,c,y);break}else if(f.tag===1){var D=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(cl===null||!cl.has(D))){c=Q(y,c),y=jp(2),D=De(f,y,2),D!==null&&(Pv(y,D,f,c),F(D,2),Zt(D));break}}f=f.return}}function Nl(c,f,y){var D=c.pingCache;if(D===null){D=c.pingCache=new qs;var C=new Set;D.set(f,C)}else C=D.get(f),C===void 0&&(C=new Set,D.set(f,C));C.has(y)||(Ki=!0,C.add(y),c=hm.bind(null,c,f,y),f.then(c,c))}function hm(c,f,y){var D=c.pingCache;D!==null&&D.delete(f),c.pingedLanes|=c.suspendedLanes&y,c.warmLanes&=~y,Wn===c&&(Cn&y)===y&&(si===4||si===3&&(Cn&62914560)===Cn&&300>Fs()-Hr?(zn&2)===0&&dr(c,0):Lf|=y,Ua===Cn&&(Ua=0)),Zt(c)}function Yo(c,f){f===0&&(f=L()),c=Xt(c,f),c!==null&&(F(c,f),Zt(c))}function to(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),Yo(c,y)}function Wo(c,f){var y=0;switch(c.tag){case 13:var D=c.stateNode,C=c.memoizedState;C!==null&&(y=C.retryLane);break;case 19:D=c.stateNode;break;case 22:D=c.stateNode._retryCache;break;default:throw Error(r(314))}D!==null&&D.delete(f),Yo(c,y)}function eo(c,f){return wf(c,f)}function dm(c,f,y,D){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function df(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Is(c,f){var y=c.alternate;return y===null?(y=e(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&31457280,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y.refCleanup=c.refCleanup,y}function pf(c,f){c.flags&=31457282;var y=c.alternate;return y===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,f=y.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Ma(c,f,y,D,C,z){var it=0;if(D=c,typeof c=="function")df(c)&&(it=1);else if(typeof c=="string")it=fs&&ni?Df(c,y,Wi.current)?26:Da(c)?27:5:fs?Df(c,y,Wi.current)?26:5:ni&&Da(c)?27:5;else t:switch(c){case Zo:return Ai(y.children,C,z,f);case yf:it=8,C|=24;break;case Gh:return c=e(12,y,f,C|2),c.elementType=Gh,c.lanes=z,c;case jh:return c=e(13,y,f,C),c.elementType=jh,c.lanes=z,c;case kc:return c=e(19,y,f,C),c.elementType=kc,c.lanes=z,c;case gm:return mf(y,C,z,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case _f:case ea:it=10;break t;case mm:it=9;break t;case xf:it=11;break t;case qh:it=14;break t;case Bs:it=16,D=null;break t}it=29,y=Error(r(130,c===null?"null":typeof c,"")),D=null}return f=e(it,y,f,C),f.elementType=c,f.type=D,f.lanes=z,f}function Ai(c,f,y,D){return c=e(7,c,D,f),c.lanes=y,c}function mf(c,f,y,D){c=e(22,c,D,f),c.elementType=gm,c.lanes=y;var C={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=C._current;if(z===null)throw Error(r(456));if((C._pendingVisibility&2)===0){var it=Xt(z,2);it!==null&&(C._pendingVisibility|=2,nr(it,z,2))}},attach:function(){var z=C._current;if(z===null)throw Error(r(456));if((C._pendingVisibility&2)!==0){var it=Xt(z,2);it!==null&&(C._pendingVisibility&=-3,nr(it,z,2))}}};return c.stateNode=C,c}function Fh(c,f,y){return c=e(6,c,null,f),c.lanes=y,c}function pm(c,f,y){return f=e(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Qb(c,f,y,D,C,z,it,yt){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ko,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=D,this.onUncaughtError=C,this.onCaughtError=z,this.onRecoverableError=it,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=yt,this.incompleteTransitions=new Map}function ty(c,f,y,D,C,z,it,yt,Tt,$t,me,Te){return c=new Qb(c,f,y,it,yt,Tt,$t,Te),f=1,z===!0&&(f|=24),z=e(3,null,null,f),c.current=z,z.stateNode=c,f=Ho(),f.refCount++,c.pooledCache=f,f.refCount++,z.memoizedState={element:D,isDehydrated:y,cache:f},oe(z),c}function Gi(c){return c?(c=el,c):el}function Vh(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=b(f),c=c!==null?S(c):null,c===null?null:qc(c.stateNode)}function Hc(c,f,y,D,C,z){C=Gi(C),D.context===null?D.context=C:D.pendingContext=C,D=Ae(f),D.payload={element:y},z=z===void 0?null:z,z!==null&&(D.callback=z),y=De(c,D,f),y!==null&&(nr(y,c,f),_e(y,c,f))}function Fc(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function gf(c,f){Fc(c,f),(c=c.alternate)&&Fc(c,f)}var pn={},Vc=Ep(),us=xL(),kh=Object.assign,Jb=Symbol.for("react.element"),vf=Symbol.for("react.transitional.element"),zs=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),mm=Symbol.for("react.consumer"),ea=Symbol.for("react.context"),xf=Symbol.for("react.forward_ref"),jh=Symbol.for("react.suspense"),kc=Symbol.for("react.suspense_list"),qh=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),gm=Symbol.for("react.offscreen"),ey=Symbol.for("react.memo_cache_sentinel"),no=Symbol.iterator,vm=Symbol.for("react.client.reference"),sn=Vc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ea,io,Ll=!1,Gc=Array.isArray,ym=t.rendererVersion,bf=t.rendererPackageName,jc=t.extraDevToolsConfig,qc=t.getPublicInstance,ny=t.getRootHostContext,Xc=t.getChildHostContext,Xh=t.prepareForCommit,iy=t.resetAfterCommit,_m=t.createInstance,Sf=t.appendInitialChild,ro=t.finalizeInitialChildren,mn=t.shouldSetTextContent,Qn=t.createTextInstance,ji=t.scheduleTimeout,Yh=t.cancelTimeout,Ko=t.noTimeout,Pr=t.isPrimaryRenderer;t.warnsIfNotActing;var Yi=t.supportsMutation,Hs=t.supportsPersistence,pr=t.supportsHydration,ry=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var zi=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Er=t.setCurrentUpdatePriority,so=t.getCurrentUpdatePriority,sy=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var ay=t.shouldAttemptEagerTransition,$b=t.detachDeletedInstance;t.requestPostPaintCallback;var xm=t.maySuspendCommit,Wh=t.preloadInstance,bm=t.startSuspendingCommit,Ir=t.suspendInstance,qi=t.waitForCommitToBeReady,Qo=t.NotPendingTransition,na=t.HostTransitionContext,Zh=t.resetFormInstance;t.bindToConsole;var Sm=t.supportsMicrotasks,ao=t.scheduleMicrotask,Jo=t.supportsTestSelectors,Mm=t.findFiberRoot,Em=t.getBoundingRect,oy=t.getTextContent,Yc=t.isHiddenSubtree,ly=t.matchAccessibilityRole,cy=t.setFocusIfFocusable,uy=t.setupIntersectionObserver,fy=t.appendChild,Dm=t.appendChildToContainer,hy=t.commitTextUpdate,tS=t.commitMount,dy=t.commitUpdate,py=t.insertBefore,my=t.insertInContainerBefore,Am=t.removeChild,gy=t.removeChildFromContainer,Tm=t.resetTextContent,vy=t.hideInstance,yy=t.hideTextInstance,_y=t.unhideInstance,eS=t.unhideTextInstance,xy=t.clearContainer,Wc=t.cloneInstance,Mf=t.createContainerChildSet,wm=t.appendChildToContainerChildSet,Kh=t.finalizeContainerChildren,Zc=t.replaceContainerChildren,Rm=t.cloneHiddenInstance,Cm=t.cloneHiddenTextInstance,Qh=t.isSuspenseInstancePending,Jh=t.isSuspenseInstanceFallback,by=t.getSuspenseInstanceFallbackErrorDetails,Sy=t.registerSuspenseInstanceRetry,Om=t.canHydrateFormStateMarker,My=t.isFormStateMarkerMatching,Nm=t.getNextHydratableSibling,$h=t.getFirstHydratableChild,Ey=t.getFirstHydratableChildWithinContainer,Dy=t.getFirstHydratableChildWithinSuspenseInstance,nS=t.canHydrateInstance,Lm=t.canHydrateTextInstance,Ay=t.canHydrateSuspenseInstance,Ty=t.hydrateInstance,Um=t.hydrateTextInstance,wy=t.hydrateSuspenseInstance,Ry=t.getNextHydratableInstanceAfterSuspenseInstance,iS=t.commitHydratedContainer,rS=t.commitHydratedSuspenseInstance,Cy=t.clearSuspenseBoundary,Ef=t.clearSuspenseBoundaryFromContainer,td=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var ed=t.validateHydratableInstance,Oy=t.validateHydratableTextInstance,fs=t.supportsResources,Df=t.isHostHoistableType,nd=t.getHoistableRoot,Pm=t.getResource,Ny=t.acquireResource,Ul=t.releaseResource,Af=t.hydrateHoistable,Tf=t.mountHoistable,Kc=t.unmountHoistable,id=t.createHoistableInstance,Ly=t.prepareToCommitHoistables,Uy=t.mayResourceSuspendCommit,Pl=t.preloadResource,Py=t.suspendResource,ni=t.supportsSingletons,ia=t.resolveSingletonInstance,$o=t.clearSingleton,Iy=t.acquireSingletonInstance,tl=t.releaseSingletonInstance,Da=t.isHostSingletonType,Bi=[],oo=-1,el={},zr=Math.clz32?Math.clz32:R,zy=Math.log,By=Math.LN2,Aa=128,Il=4194304,wf=us.unstable_scheduleCallback,rd=us.unstable_cancelCallback,Hy=us.unstable_shouldYield,sd=us.unstable_requestPaint,Fs=us.unstable_now,ad=us.unstable_ImmediatePriority,Fy=us.unstable_UserBlockingPriority,od=us.unstable_NormalPriority,sS=us.unstable_IdlePriority,Vy=us.log,ir=us.unstable_setDisableYieldValue,Hi=null,$r=null,ts=typeof Object.is=="function"?Object.is:V,Im=new WeakMap,zl=[],Bl=0,Hl=null,Qc=0,hs=[],ds=0,nl=null,ra=1,sa="",Wi=M(null),Jc=M(null),Ta=M(null),Fl=M(null),mr=null,gr=null,Pn=!1,Vs=null,rr=!1,Rf=Error(r(519)),ks=[],Vl=0,aa=0,Cf=null,lo=null,kl=!1,ui=!1,zm=!1,$c=0,tu=null,Gl=0,ps=0,jl=null,co=!1,ql=!1,wa=Object.prototype.hasOwnProperty,eu=Error(r(460)),Of=Error(r(474)),Nf={then:function(){}},il=null,rl=null,sl=0,al=Li(!0),Ra=Li(!1),fi=M(null),nu=M(0),ms=M(null),ii=null,Zi=M(0),uo=0,Sn=null,We=null,In=null,Gs=!1,Xl=!1,ol=!1,ld=0,Yl=0,sr=null,oa=0,cd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ti={readContext:ur,use:vt,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn};Ti.useCacheRefresh=qn,Ti.useMemoCache=qn,Ti.useHostTransitionStatus=qn,Ti.useFormState=qn,Ti.useActionState=qn,Ti.useOptimistic=qn;var ll={readContext:ur,use:vt,useCallback:function(c,f){return X().memoizedState=[c,f===void 0?null:f],c},useContext:ur,useEffect:xh,useImperativeHandle:function(c,f,y){y=y!=null?y.concat([c]):null,ju(4194308,4,bh.bind(null,f,c),y)},useLayoutEffect:function(c,f){return ju(4194308,4,c,f)},useInsertionEffect:function(c,f){ju(4,2,c,f)},useMemo:function(c,f){var y=X();f=f===void 0?null:f;var D=c();if(ol){k(!0);try{c()}finally{k(!1)}}return y.memoizedState=[D,f],D},useReducer:function(c,f,y){var D=X();if(y!==void 0){var C=y(f);if(ol){k(!0);try{y(f)}finally{k(!1)}}}else C=f;return D.memoizedState=D.baseState=C,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:C},D.queue=c,c=c.dispatch=Mh.bind(null,Sn,c),[D.memoizedState,c]},useRef:function(c){var f=X();return c={current:c},f.memoizedState=c},useState:function(c){c=Ne(c);var f=c.queue,y=Gp.bind(null,Sn,f);return f.dispatch=y,[c.memoizedState,y]},useDebugValue:Uo,useDeferredValue:function(c,f){var y=X();return Yu(y,c,f)},useTransition:function(){var c=Ne(!1);return c=Mc.bind(null,Sn,c.queue,!0,!1),X().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,y){var D=Sn,C=X();if(Pn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=f(),Wn===null)throw Error(r(349));(Cn&60)!==0||ve(D,f,y)}C.memoizedState=y;var z={value:y,getSnapshot:f};return C.queue=z,xh(je.bind(null,D,z,c),[c]),D.flags|=2048,Or(9,Se.bind(null,D,z,y,f),{destroy:void 0},null),y},useId:function(){var c=X(),f=Wn.identifierPrefix;if(Pn){var y=sa,D=ra;y=(D&~(1<<32-zr(D)-1)).toString(32)+y,f=":"+f+"R"+y,y=ld++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=oa++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return X().memoizedState=kp.bind(null,Sn)}};ll.useMemoCache=St,ll.useHostTransitionStatus=Wu,ll.useFormState=vn,ll.useActionState=vn,ll.useOptimistic=function(c){var f=X();f.memoizedState=f.baseState=c;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=Dc.bind(null,Sn,!0,y),y.dispatch=f,[c,f]};var Br={readContext:ur,use:vt,useCallback:Rl,useContext:ur,useEffect:Hp,useImperativeHandle:Sh,useInsertionEffect:Lv,useLayoutEffect:Xu,useMemo:Fp,useReducer:Yt,useRef:_a,useState:function(){return Yt(Rt)},useDebugValue:Uo,useDeferredValue:function(c,f){var y=ut();return Vp(y,We.memoizedState,c,f)},useTransition:function(){var c=Yt(Rt)[0],f=ut().memoizedState;return[typeof c=="boolean"?c:gt(c),f]},useSyncExternalStore:be,useId:Ec};Br.useCacheRefresh=ja,Br.useMemoCache=St,Br.useHostTransitionStatus=Wu,Br.useFormState=vi,Br.useActionState=vi,Br.useOptimistic=function(c,f){var y=ut();return ke(y,We,c,f)};var gs={readContext:ur,use:vt,useCallback:Rl,useContext:ur,useEffect:Hp,useImperativeHandle:Sh,useInsertionEffect:Lv,useLayoutEffect:Xu,useMemo:Fp,useReducer:se,useRef:_a,useState:function(){return se(Rt)},useDebugValue:Uo,useDeferredValue:function(c,f){var y=ut();return We===null?Yu(y,c,f):Vp(y,We.memoizedState,c,f)},useTransition:function(){var c=se(Rt)[0],f=ut().memoizedState;return[typeof c=="boolean"?c:gt(c),f]},useSyncExternalStore:be,useId:Ec};gs.useCacheRefresh=ja,gs.useMemoCache=St,gs.useHostTransitionStatus=Wu,gs.useFormState=tr,gs.useActionState=tr,gs.useOptimistic=function(c,f){var y=ut();return We!==null?ke(y,We,c,f):(y.baseState=c,[c,y.queue.dispatch])};var Ca={isMounted:function(c){return(c=c._reactInternals)?v(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var D=Ii(),C=Ae(D);C.payload=f,y!=null&&(C.callback=y),f=De(c,C,D),f!==null&&(nr(f,c,D),_e(f,c,D))},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var D=Ii(),C=Ae(D);C.tag=1,C.payload=f,y!=null&&(C.callback=y),f=De(c,C,D),f!==null&&(nr(f,c,D),_e(f,c,D))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=Ii(),D=Ae(y);D.tag=2,f!=null&&(D.callback=f),f=De(c,D,y),f!==null&&(nr(f,c,y),_e(f,c,y))}},ud=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},fd=Error(r(461)),ri=!1,hd={dehydrated:null,treeContext:null,retryLane:0},fo=M(null),la=null,vs=null,iu=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(y,D){c.push(D)}};this.abort=function(){f.aborted=!0,c.forEach(function(y){return y()})}},ky=us.unstable_scheduleCallback,Gy=us.unstable_NormalPriority,hi={$$typeof:ea,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Bm=sn.S;sn.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&fe(c,f),Bm!==null&&Bm(c,f)};var Oa=M(null),Na=!1,wi=!1,Hm=!1,Yn=typeof WeakSet=="function"?WeakSet:Set,hn=null,An=!1,qe=null,yn=!1,Mi=null,ys=8192,ru={getCacheForType:function(c){var f=ur(hi),y=f.data.get(c);return y===void 0&&(y=c(),f.data.set(c,y)),y}},su=0,js=1,yi=2,ca=3,La=4;if(typeof Symbol=="function"&&Symbol.for){var Wl=Symbol.for;su=Wl("selector.component"),js=Wl("selector.has_pseudo_class"),yi=Wl("selector.role"),ca=Wl("selector.test_id"),La=Wl("selector.text")}var qs=typeof WeakMap=="function"?WeakMap:Map,zn=0,Wn=null,Ze=null,Cn=0,$n=0,Dr=null,Xs=!1,_s=!1,Ki=!1,Ar=0,si=0,xs=0,ho=0,Lf=0,bs=0,Ua=0,Zl=null,Ri=null,dd=!1,Hr=0,au=1/0,Uf=null,cl=null,ua=!1,Pa=null,Kl=0,ul=0,pd=null,ou=0,md=null;return pn.attemptContinuousHydration=function(c){if(c.tag===13){var f=Xt(c,67108864);f!==null&&nr(f,c,67108864),gf(c,67108864)}},pn.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Ii(),y=Xt(c,f);y!==null&&nr(y,c,f),gf(c,f)}},pn.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=O(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var y=1<<31-zr(f);c.entanglements[1]|=y,f&=~y}Zt(c),(zn&6)===0&&(au=Fs()+500,ot(0))}}break;case 13:f=Xt(c,2),f!==null&&nr(f,c,2),hf(),gf(c,2)}},pn.batchedUpdates=function(c,f){return c(f)},pn.createComponentSelector=function(c){return{$$typeof:su,value:c}},pn.createContainer=function(c,f,y,D,C,z,it,yt,Tt,$t){return ty(c,f,!1,null,y,D,z,it,yt,Tt,$t,null)},pn.createHasPseudoClassSelector=function(c){return{$$typeof:js,value:c}},pn.createHydrationContainer=function(c,f,y,D,C,z,it,yt,Tt,$t,me,Te,Re){return c=ty(y,D,!0,c,C,z,yt,Tt,$t,me,Te,Re),c.context=Gi(null),y=c.current,D=Ii(),C=Ae(D),C.callback=f??null,De(y,C,D),c.current.lanes=D,F(c,D),Zt(c),c},pn.createPortal=function(c,f,y){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:D==null?null:""+D,children:c,containerInfo:f,implementation:y}},pn.createRoleSelector=function(c){return{$$typeof:yi,value:c}},pn.createTestNameSelector=function(c){return{$$typeof:ca,value:c}},pn.createTextSelector=function(c){return{$$typeof:La,value:c}},pn.defaultOnCaughtError=function(c){console.error(c)},pn.defaultOnRecoverableError=function(c){ud(c)},pn.defaultOnUncaughtError=function(c){ud(c)},pn.deferredUpdates=function(c){var f=sn.T,y=so();try{return Er(32),sn.T=null,c()}finally{Er(y),sn.T=f}},pn.discreteUpdates=function(c,f,y,D,C){var z=sn.T,it=so();try{return Er(2),sn.T=null,c(f,y,D,C)}finally{Er(it),sn.T=z,zn===0&&(au=Fs()+500)}},pn.findAllNodes=uf,pn.findBoundingRects=function(c,f){if(!Jo)throw Error(r(363));f=uf(c,f),c=[];for(var y=0;y<f.length;y++)c.push(Em(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var D=y.x,C=D+y.width,z=y.y,it=z+y.height,yt=f-1;0<=yt;yt--)if(f!==yt){var Tt=c[yt],$t=Tt.x,me=$t+Tt.width,Te=Tt.y,Re=Te+Tt.height;if(D>=$t&&z>=Te&&C<=me&&it<=Re){c.splice(f,1);break}else if(D!==$t||y.width!==Tt.width||Re<z||Te>it){if(!(z!==Te||y.height!==Tt.height||me<D||$t>C)){$t>D&&(Tt.width+=$t-D,Tt.x=D),me<C&&(Tt.width=C-$t),c.splice(f,1);break}}else{Te>z&&(Tt.height+=Te-z,Tt.y=z),Re<it&&(Tt.height=it-Te),c.splice(f,1);break}}}return c},pn.findHostInstance=Vh,pn.findHostInstanceWithNoPortals=function(c){return c=b(c),c=c!==null?A(c):null,c===null?null:qc(c.stateNode)},pn.findHostInstanceWithWarning=function(c){return Vh(c)},pn.flushPassiveEffects=ta,pn.flushSyncFromReconciler=function(c){var f=zn;zn|=1;var y=sn.T,D=so();try{if(Er(2),sn.T=null,c)return c()}finally{Er(D),sn.T=y,zn=f,(zn&6)===0&&ot(0)}},pn.flushSyncWork=hf,pn.focusWithin=function(c,f){if(!Jo)throw Error(r(363));for(c=Pc(c),f=Qr(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++],D=y.tag;if(!Yc(y)){if((D===5||D===26||D===27)&&cy(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},pn.getFindAllNodesFailureDescription=function(c,f){if(!Jo)throw Error(r(363));var y=0,D=[];c=[Pc(c),0];for(var C=0;C<c.length;){var z=c[C++],it=z.tag,yt=c[C++],Tt=f[yt];if((it!==5&&it!==26&&it!==27||!Yc(z))&&(Go(z,Tt)&&(D.push(om(Tt)),yt++,yt>y&&(y=yt)),yt<f.length))for(z=z.child;z!==null;)c.push(z,yt),z=z.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(om(f[y]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},pn.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return qc(c.child.stateNode);default:return c.child.stateNode}},pn.injectIntoDevTools=function(){var c={bundleType:0,version:ym,rendererPackageName:bf,currentDispatcherRef:sn,findFiberByHostInstance:ry,reconcilerVersion:"19.0.0"};if(jc!==null&&(c.rendererConfig=jc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Hi=f.inject(c),$r=f}catch{}c=!!f.checkDCE}}return c},pn.isAlreadyRendering=function(){return!1},pn.observeVisibleRects=function(c,f,y,D){if(!Jo)throw Error(r(363));c=uf(c,f);var C=uy(c,y,D).disconnect;return{disconnect:function(){C()}}},pn.shouldError=function(){return null},pn.shouldSuspend=function(){return!1},pn.startHostTransition=function(c,f,y,D){if(c.tag!==5)throw Error(r(476));var C=xa(c).queue;Mc(c,C,f,Qo,y===null?i:function(){var z=xa(c).next.queue;return Po(c,z,{},Ii()),y(D)})},pn.updateContainer=function(c,f,y,D){var C=f.current,z=Ii();return Hc(C,z,c,f,y,D),z},pn.updateContainerSync=function(c,f,y,D){return f.tag===0&&ta(),Hc(f.current,2,c,f,y,D),2},pn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(G1)),G1.exports}var CR;function Tq(){return CR||(CR=1,k1.exports=Aq()),k1.exports}var wq=Tq();const Rq=bc(wq);var OR=xL();const Cq=n=>typeof n=="object"&&typeof n.then=="function",ih=[];function bL(n,t,e=(i,r)=>i===r){if(n===t)return!0;if(!n||!t)return!1;const i=n.length;if(t.length!==i)return!1;for(let r=0;r<i;r++)if(!e(n[r],t[r]))return!1;return!0}function SL(n,t=null,e=!1,i={}){t===null&&(t=[n]);for(const a of ih)if(bL(t,a.keys,a.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!e)throw a.promise}const r={keys:t,equal:i.equal,remove:()=>{const a=ih.indexOf(r);a!==-1&&ih.splice(a,1)},promise:(Cq(n)?n:n(...t)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(ih.push(r),!e)throw r.promise}const Oq=(n,t,e)=>SL(n,t,!1,e),Nq=(n,t,e)=>void SL(n,t,!0,e),Lq=n=>{if(n===void 0||n.length===0)ih.splice(0,ih.length);else{const t=ih.find(e=>bL(n,e.keys,e.equal));t&&t.remove()}};function PD(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const r=PD(i,t,e);if(r)return r;i=t?null:i.sibling}}function ML(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const ID=ML(Y.createContext(null));let EL=class extends Y.Component{render(){return Y.createElement(ID.Provider,{value:this._reactInternals},this.props.children)}};function DL(){const n=Y.useContext(ID);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=Y.useId();return Y.useMemo(()=>{for(const e of[n,n==null?void 0:n.alternate]){if(!e)continue;const i=PD(e,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===t)return!0;a=a.next}});if(i)return i}},[n,t])}const Uq=Symbol.for("react.context"),Pq=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Uq;function Iq(){const n=DL(),[t]=Y.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;Pq(i)&&i!==ID&&!t.has(i)&&t.set(i,Y.use(ML(i))),e=e.return}return t}function zq(){const n=Iq();return Y.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>Y.createElement(t,null,Y.createElement(e.Provider,{...i,value:n.get(e)})),t=>Y.createElement(EL,{...t})),[n])}function AL(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const TL=n=>n&&n.isOrthographicCamera,Bq=n=>n&&n.hasOwnProperty("current"),Hq=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Ov=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?Y.useLayoutEffect:Y.useEffect;function zD(n){const t=Y.useRef(n);return Ov(()=>void(t.current=n),[n]),t}function Fq(){const n=DL(),t=zq();return Y.useMemo(()=>({children:e})=>{const r=!!PD(n,!0,a=>a.type===Y.StrictMode)?Y.StrictMode:Y.Fragment;return W.jsx(r,{children:W.jsx(t,{children:e})})},[n,t])}function Vq({set:n}){return Ov(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const kq=(n=>(n=class extends Y.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function wL(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function Gd(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const Ci={obj:n=>n===Object(n)&&!Ci.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(Ci.str(n)||Ci.num(n)||Ci.boo(n))return n===t;const a=Ci.obj(n);if(a&&i==="reference")return n===t;const l=Ci.arr(n);if(l&&e==="reference")return n===t;if((l||a)&&n===t)return!0;let u;for(u in n)if(!(u in t))return!1;if(a&&e==="shallow"&&i==="shallow"){for(u in r?t:n)if(!Ci.equ(n[u],t[u],{strict:r,objects:"reference"}))return!1}else for(u in r?t:n)if(n[u]!==t[u])return!1;if(Ci.und(u)){if(l&&n.length===0&&t.length===0||a&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function Gq(n){const t={nodes:{},materials:{},meshes:{}};return n&&n.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}function jq(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];(e==null?void 0:e.type)!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const RL=["children","key","ref"];function qq(n){const t={};for(const e in n)RL.includes(e)||(t[e]=n[e]);return t}function Ox(n,t,e,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:t,type:e,parent:null,children:[],props:qq(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function cv(n,t){let e=n[t];if(!t.includes("-"))return{root:n,key:t,target:e};e=n;for(const r of t.split("-")){var i;t=r,n=e,e=(i=e)==null?void 0:i[t]}return{root:n,key:t,target:e}}const NR=/-\d+$/;function Nx(n,t){if(Ci.str(t.props.attach)){if(NR.test(t.props.attach)){const r=t.props.attach.replace(NR,""),{root:a,key:l}=cv(n.object,r);Array.isArray(a[l])||(a[l]=[])}const{root:e,key:i}=cv(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else Ci.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function Lx(n,t){if(Ci.str(t.props.attach)){const{root:e,key:i}=cv(n.object,t.props.attach),r=t.previousAttach;r===void 0?delete e[i]:e[i]=r}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const tE=[...RL,"args","dispose","attach","object","onUpdate","dispose"],LR=new Map;function Xq(n){let t=LR.get(n.constructor);try{t||(t=new n.constructor,LR.set(n.constructor,t))}catch{}return t}function Yq(n,t){const e={};for(const i in t)if(!tE.includes(i)&&!Ci.equ(t[i],n.props[i])){e[i]=t[i];for(const r in t)r.startsWith(`${i}-`)&&(e[r]=t[r])}for(const i in n.props){if(tE.includes(i)||t.hasOwnProperty(i))continue;const{root:r,key:a}=cv(n.object,i);if(r.constructor&&r.constructor.length===0){const l=Xq(r);Ci.und(l)||(e[a]=l[a])}else e[a]=0}return e}const Wq=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Zq=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function yl(n,t){var e;const i=n.__r3f,r=i&&AL(i).getState(),a=i==null?void 0:i.eventCount;for(const u in t){let h=t[u];if(tE.includes(u))continue;if(i&&Zq.test(u)){typeof h=="function"?i.handlers[u]=h:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:v}=cv(n,u);if(v instanceof mp&&h instanceof mp)v.mask=h.mask;else if(v instanceof Ce&&Hq(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var l;p[m]=h,r&&!r.linear&&Wq.includes(m)&&(l=p[m])!=null&&l.isTexture&&p[m].format===$i&&p[m].type===Cs&&(p[m].colorSpace=Vr)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(e=i.object)!=null&&e.isObject3D&&a!==i.eventCount){const u=i.object,h=r.internal.interaction.indexOf(u);h>-1&&r.internal.interaction.splice(h,1),i.eventCount&&u.raycast!==null&&r.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&zp(i),n}function zp(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function CL(n,t){n.manual||(TL(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const Ds=n=>n==null?void 0:n.isObject3D;function o_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function OL(n,t,e,i){const r=e.get(t);r&&(e.delete(t),e.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Kq(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,r)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(r)}),e.capturedMap.forEach((i,r)=>{OL(e.capturedMap,t,i,r)})}function Qq(n){function t(h){const{internal:p}=n.getState(),m=h.offsetX-p.initialClick[0],v=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function e(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(h,p){const m=n.getState(),v=new Set,_=[],b=p?p(m.internal.interaction):m.internal.interaction;for(let x=0;x<b.length;x++){const T=Gd(b[x]);T&&(T.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function S(x){const T=Gd(x);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var R;T.events.compute==null||T.events.compute(h,T,(R=T.previousRoot)==null?void 0:R.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(x,!0):[]}let A=b.flatMap(S).sort((x,T)=>{const R=Gd(x.object),O=Gd(T.object);return!R||!O?x.distance-T.distance:O.events.priority-R.events.priority||x.distance-T.distance}).filter(x=>{const T=o_(x);return v.has(T)?!1:(v.add(T),!0)});m.events.filter&&(A=m.events.filter(A,m));for(const x of A){let T=x.object;for(;T;){var M;(M=T.__r3f)!=null&&M.eventCount&&_.push({...x,eventObject:T}),T=T.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let x of m.internal.capturedMap.get(h.pointerId).values())v.has(o_(x.intersection))||_.push(x.intersection);return _}function r(h,p,m,v){if(h.length){const _={stopped:!1};for(const b of h){let S=Gd(b.object);if(S||b.object.traverseAncestors(A=>{const M=Gd(A);if(M)return S=M,!1}),S){const{raycaster:A,pointer:M,camera:x,internal:T}=S,R=new ct(M.x,M.y,0).unproject(x),O=L=>{var U,F;return(U=(F=T.capturedMap.get(L))==null?void 0:F.has(b.eventObject))!=null?U:!1},I=L=>{const U={intersection:b,target:p.target};T.capturedMap.has(L)?T.capturedMap.get(L).set(b.eventObject,U):T.capturedMap.set(L,new Map([[b.eventObject,U]])),p.target.setPointerCapture(L)},P=L=>{const U=T.capturedMap.get(L);U&&OL(T.capturedMap,b.eventObject,U,L)};let B={};for(let L in p){let U=p[L];typeof U!="function"&&(B[L]=U)}let N={...b,...B,pointer:M,intersections:h,stopped:_.stopped,delta:m,unprojectedPoint:R,ray:A.ray,camera:x,stopPropagation(){const L="pointerId"in p&&T.capturedMap.get(p.pointerId);if((!L||L.has(b.eventObject))&&(N.stopped=_.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(U=>U.eventObject===b.eventObject))){const U=h.slice(0,h.indexOf(b));a([...U,b])}},target:{hasPointerCapture:O,setPointerCapture:I,releasePointerCapture:P},currentTarget:{hasPointerCapture:O,setPointerCapture:I,releasePointerCapture:P},nativeEvent:p};if(v(N),_.stopped===!0)break}}}return h}function a(h){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!h.length||!h.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const _=m.eventObject.__r3f;if(p.hovered.delete(o_(m)),_!=null&&_.eventCount){const b=_.handlers,S={...m,intersections:h};b.onPointerOut==null||b.onPointerOut(S),b.onPointerLeave==null||b.onPointerLeave(S)}}}function l(h,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),a([]))})}}return function(m){const{onPointerMissed:v,internal:_}=n.getState();_.lastEvent.current=m;const b=h==="onPointerMove",S=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",M=i(m,b?e:void 0),x=S?t(m):0;h==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=M.map(R=>R.eventObject)),S&&!M.length&&x<=2&&(l(m,_.interaction),v&&v(m)),b&&a(M);function T(R){const O=R.eventObject,I=O.__r3f;if(!(I!=null&&I.eventCount))return;const P=I.handlers;if(b){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const B=o_(R),N=_.hovered.get(B);N?N.stopped&&R.stopPropagation():(_.hovered.set(B,R),P.onPointerOver==null||P.onPointerOver(R),P.onPointerEnter==null||P.onPointerEnter(R))}P.onPointerMove==null||P.onPointerMove(R)}else{const B=P[h];B?(!S||_.initialHits.includes(O))&&(l(m,_.interaction.filter(N=>!_.initialHits.includes(N))),B(R)):S&&_.initialHits.includes(O)&&l(m,_.interaction.filter(N=>!_.initialHits.includes(N)))}}r(M,m,x,T)}}return{handlePointer:u}}const UR=n=>!!(n!=null&&n.render),BD=Y.createContext(null),Jq=(n,t)=>{const e=_L((u,h)=>{const p=new ct,m=new ct,v=new ct;function _(x=h().camera,T=m,R=h().size){const{width:O,height:I,top:P,left:B}=R,N=O/I;T.isVector3?v.copy(T):v.set(...T);const L=x.getWorldPosition(p).distanceTo(v);if(TL(x))return{width:O/x.zoom,height:I/x.zoom,top:P,left:B,factor:1,distance:L,aspect:N};{const U=x.fov*Math.PI/180,F=2*Math.tan(U/2)*L,K=F*(O/I);return{width:K,height:F,top:P,left:B,factor:O/K,distance:L,aspect:N}}}let b;const S=x=>u(T=>({performance:{...T.performance,current:x}})),A=new ee;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>n(h(),x),advance:(x,T)=>t(x,T,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new TD,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=h();b&&clearTimeout(b),x.performance.current!==x.performance.min&&S(x.performance.min),b=setTimeout(()=>S(h().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:x=>u(T=>({...T,events:{...T.events,...x}})),setSize:(x,T,R=0,O=0)=>{const I=h().camera,P={width:x,height:T,top:R,left:O};u(B=>({size:P,viewport:{...B.viewport,..._(I,m,P)}}))},setDpr:x=>u(T=>{const R=wL(x);return{viewport:{...T.viewport,dpr:R,initialDpr:T.viewport.initialDpr||R}}}),setFrameloop:(x="always")=>{const T=h().clock;T.stop(),T.elapsedTime=0,x!=="never"&&(T.start(),T.elapsedTime=0),u(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Y.createRef(),active:!1,frames:0,priority:0,subscribe:(x,T,R)=>{const O=h().internal;return O.priority=O.priority+(T>0?1:0),O.subscribers.push({ref:x,priority:T,store:R}),O.subscribers=O.subscribers.sort((I,P)=>I.priority-P.priority),()=>{const I=h().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(T>0?1:0),I.subscribers=I.subscribers.filter(P=>P.ref!==x))}}}}}),i=e.getState();let r=i.size,a=i.viewport.dpr,l=i.camera;return e.subscribe(()=>{const{camera:u,size:h,viewport:p,gl:m,set:v}=e.getState();if(h.width!==r.width||h.height!==r.height||p.dpr!==a){r=h,a=p.dpr,CL(u,h),p.dpr>0&&m.setPixelRatio(p.dpr);const _=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,_)}u!==l&&(l=u,v(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(u)}})))}),e.subscribe(u=>n(u)),e};function HD(){const n=Y.useContext(BD);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function _p(n=e=>e,t){return HD()(n,t)}function zb(n,t=0){const e=HD(),i=e.getState().internal.subscribe,r=zD(n);return Ov(()=>i(r,t,e),[t,i,e]),null}const PR=new WeakMap,$q=n=>{var t;return typeof n=="function"&&(n==null||(t=n.prototype)==null?void 0:t.constructor)===n};function NL(n,t){return function(e,...i){let r;return $q(e)?(r=PR.get(e),r||(r=new e,PR.set(e,r))):r=e,n&&n(r),Promise.all(i.map(a=>new Promise((l,u)=>r.load(a,h=>{Ds(h==null?void 0:h.scene)&&Object.assign(h,Gq(h.scene)),l(h)},t,h=>u(new Error(`Could not load ${a}: ${h==null?void 0:h.message}`))))))}}function xp(n,t,e,i){const r=Array.isArray(t)?t:[t],a=Oq(NL(e,i),[n,...r],{equal:Ci.equ});return Array.isArray(t)?a:a[0]}xp.preload=function(n,t,e){const i=Array.isArray(t)?t:[t];return Nq(NL(e),[n,...i])};xp.clear=function(n,t){const e=Array.isArray(t)?t:[t];return Lq([n,...e])};function tX(n){const t=Rq(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version}),t}const LL=0,bp={},eX=/^three(?=[A-Z])/,Bb=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let nX=0;const iX=n=>typeof n=="function";function UL(n){if(iX(n)){const t=`${nX++}`;return bp[t]=n,t}else Object.assign(bp,n)}function PL(n,t){const e=Bb(n),i=bp[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function rX(n,t,e){var i;return n=Bb(n)in bp?n:n.replace(eX,""),PL(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,Ox(t.object,e,n,t)}function sX(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?Lx(n.parent,n):Ds(n.object)&&(n.object.visible=!1),n.isHidden=!0,zp(n)}}function IL(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?Nx(n.parent,n):Ds(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,zp(n)}}function FD(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var r,a;const l=bp[Bb(t.type)];t.object=(r=t.props.object)!=null?r:new l(...(a=t.props.args)!=null?a:[]),t.object.__r3f=t}if(yl(t.object,t.props),t.props.attach)Nx(n,t);else if(Ds(t.object)&&Ds(n.object)){const l=n.object.children.indexOf(e==null?void 0:e.object);if(e&&l!==-1){const u=n.object.children.indexOf(t.object);if(u!==-1){n.object.children.splice(u,1);const h=u<l?l-1:l;n.object.children.splice(h,0,t.object)}else t.object.parent=n.object,n.object.children.splice(l,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})}else n.object.add(t.object)}for(const l of t.children)FD(t,l);zp(t)}}function X1(n,t){t&&(t.parent=n,n.children.push(t),FD(n,t))}function IR(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),FD(n,t,e)}function zL(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():OR.unstable_scheduleCallback(OR.unstable_IdlePriority,t)}}function eE(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?Lx(n,t):Ds(t.object)&&Ds(n.object)&&(n.object.remove(t.object),Kq(AL(t),t.object));const r=t.props.dispose!==null&&e!==!1;for(let a=t.children.length-1;a>=0;a--){const l=t.children[a];eE(t,l,r)}t.children.length=0,delete t.object.__r3f,r&&t.type!=="primitive"&&t.object.type!=="Scene"&&zL(t.object),e===void 0&&zp(t)}function aX(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const U_=[];function oX(){for(const[e]of U_){const i=e.parent;if(i){e.props.attach?Lx(i,e):Ds(e.object)&&Ds(i.object)&&i.object.remove(e.object);for(const r of e.children)r.props.attach?Lx(e,r):Ds(r.object)&&Ds(e.object)&&e.object.remove(r.object)}e.isHidden&&IL(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&zL(e.object)}for(const[e,i,r]of U_){e.props=i;const a=e.parent;if(a){var n,t;const l=bp[Bb(e.type)];e.object=(n=e.props.object)!=null?n:new l(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,aX(r,e.object),yl(e.object,e.props),e.props.attach?Nx(a,e):Ds(e.object)&&Ds(a.object)&&a.object.add(e.object);for(const u of e.children)u.props.attach?Nx(e,u):Ds(u.object)&&Ds(e.object)&&e.object.add(u.object);zp(e)}}U_.length=0}const Y1=()=>{},zR={};let l_=LL;const lX=0,cX=4,Ux=tX({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:rX,removeChild:eE,appendChild:X1,appendInitialChild:X1,insertBefore:IR,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||X1(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||eE(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||IR(i,t,e)},getRootHostContext:()=>zR,getChildHostContext:()=>zR,commitUpdate(n,t,e,i,r){var a,l,u;PL(t,i);let h=!1;if((n.type==="primitive"&&e.object!==i.object||((a=i.args)==null?void 0:a.length)!==((l=e.args)==null?void 0:l.length)||(u=i.args)!=null&&u.some((m,v)=>{var _;return m!==((_=e.args)==null?void 0:_[v])}))&&(h=!0),h)U_.push([n,{...i},r]);else{const m=Yq(n,i);Object.keys(m).length&&(Object.assign(n.props,m),yl(n.object,m))}(r.sibling===null||(r.flags&cX)===lX)&&oX()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>Ox(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:sX,unhideInstance:IL,createTextInstance:Y1,hideTextInstance:Y1,unhideTextInstance:Y1,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Y.createContext(null),setCurrentUpdatePriority(n){l_=n},getCurrentUpdatePriority(){return l_},resolveUpdatePriority(){var n;if(l_!==LL)return l_;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return L_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return L_.ContinuousEventPriority;default:return L_.DefaultEventPriority}},resetFormInstance(){}}),hh=new Map,jd={objects:"shallow",strict:!1};function uX(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:r,left:a}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function fX(n){const t=hh.get(n),e=t==null?void 0:t.fiber,i=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||Jq(rE,HR),l=e||Ux.createContainer(a,L_.ConcurrentRoot,null,!1,null,"",r,r,r,null);t||hh.set(n,{fiber:l,store:a});let u,h,p=!1,m=null;return{async configure(v={}){let _;m=new Promise(st=>_=st);let{gl:b,size:S,scene:A,events:M,onCreated:x,shadows:T=!1,linear:R=!1,flat:O=!1,legacy:I=!1,orthographic:P=!1,frameloop:B="always",dpr:N=[1,2],performance:L,raycaster:U,camera:F,onPointerMissed:K}=v,tt=a.getState(),nt=tt.gl;if(!tt.gl){const st={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ht=typeof b=="function"?await b(st):b;UR(ht)?nt=ht:nt=new UD({...st,...b}),tt.set({gl:nt})}let at=tt.raycaster;at||tt.set({raycaster:at=new OD});const{params:H,...k}=U||{};if(Ci.equ(k,at,jd)||yl(at,{...k}),Ci.equ(H,at.params,jd)||yl(at,{params:{...at.params,...H}}),!tt.camera||tt.camera===h&&!Ci.equ(h,F,jd)){h=F;const st=F==null?void 0:F.isCamera,ht=st?F:P?new Pp(0,0,0,0,.1,1e3):new Rr(75,0,.1,1e3);st||(ht.position.z=5,F&&(yl(ht,F),ht.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(ht.manual=!0,ht.updateProjectionMatrix())),!tt.camera&&!(F!=null&&F.rotation)&&ht.lookAt(0,0,0)),tt.set({camera:ht}),at.camera=ht}if(!tt.scene){let st;A!=null&&A.isScene?(st=A,Ox(st,a,"",{})):(st=new Dv,Ox(st,a,"",{}),A&&yl(st,A)),tt.set({scene:st})}M&&!tt.events.handlers&&tt.set({events:M(a)});const V=uX(n,S);if(Ci.equ(V,tt.size,jd)||tt.setSize(V.width,V.height,V.top,V.left),N&&tt.viewport.dpr!==wL(N)&&tt.setDpr(N),tt.frameloop!==B&&tt.setFrameloop(B),tt.onPointerMissed||tt.set({onPointerMissed:K}),L&&!Ci.equ(L,tt.performance,jd)&&tt.set(st=>({performance:{...st.performance,...L}})),!tt.xr){var Q;const st=($,ft)=>{const lt=a.getState();lt.frameloop!=="never"&&HR($,!0,lt,ft)},ht=()=>{const $=a.getState();$.gl.xr.enabled=$.gl.xr.isPresenting,$.gl.xr.setAnimationLoop($.gl.xr.isPresenting?st:null),$.gl.xr.isPresenting||rE($)},dt={connect(){const $=a.getState().gl;$.xr.addEventListener("sessionstart",ht),$.xr.addEventListener("sessionend",ht)},disconnect(){const $=a.getState().gl;$.xr.removeEventListener("sessionstart",ht),$.xr.removeEventListener("sessionend",ht)}};typeof((Q=nt.xr)==null?void 0:Q.addEventListener)=="function"&&dt.connect(),tt.set({xr:dt})}if(nt.shadowMap){const st=nt.shadowMap.enabled,ht=nt.shadowMap.type;if(nt.shadowMap.enabled=!!T,Ci.boo(T))nt.shadowMap.type=wg;else if(Ci.str(T)){var j;const dt={basic:EO,percentage:rb,soft:wg,variance:xo};nt.shadowMap.type=(j=dt[T])!=null?j:wg}else Ci.obj(T)&&Object.assign(nt.shadowMap,T);(st!==nt.shadowMap.enabled||ht!==nt.shadowMap.type)&&(nt.shadowMap.needsUpdate=!0)}return Bn.enabled=!I,p||(nt.outputColorSpace=R?Co:Vr,nt.toneMapping=O?Sl:ZE),tt.legacy!==I&&tt.set(()=>({legacy:I})),tt.linear!==R&&tt.set(()=>({linear:R})),tt.flat!==O&&tt.set(()=>({flat:O})),b&&!Ci.fun(b)&&!UR(b)&&!Ci.equ(b,nt,jd)&&yl(nt,b),u=x,p=!0,_(),this},render(v){return!p&&!m&&this.configure(),m.then(()=>{Ux.updateContainer(W.jsx(hX,{store:a,children:v,onCreated:u,rootElement:n}),l,null,()=>{})}),a},unmount(){BL(n)}}}function hX({store:n,children:t,onCreated:e,rootElement:i}){return Ov(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),e&&e(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),W.jsx(BD.Provider,{value:n,children:t})}function BL(n,t){const e=hh.get(n),i=e==null?void 0:e.fiber;if(i){const r=e==null?void 0:e.store.getState();r&&(r.internal.active=!1),Ux.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,l,u,h;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(l=a.renderLists)==null||l.dispose==null||l.dispose(),(u=r.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=r.gl)!=null&&h.xr&&r.xr.disconnect(),jq(r.scene),hh.delete(n)}catch{}},500)})}}function dX(n,t,e){return W.jsx(pX,{children:n,container:t,state:e})}function pX({state:n={},children:t,container:e}){const{events:i,size:r,...a}=n,l=HD(),[u]=Y.useState(()=>new OD),[h]=Y.useState(()=>new ee),p=zD((v,_)=>{let b;if(_.camera&&r){const S=_.camera;b=v.viewport.getCurrentViewport(S,new ct,r),S!==v.camera&&CL(S,r)}return{...v,..._,scene:e,raycaster:u,pointer:h,mouse:h,previousRoot:l,events:{...v.events,..._.events,...i},size:{...v.size,...r},viewport:{...v.viewport,...b},setEvents:S=>_.set(A=>({...A,events:{...A.events,...S}}))}}),m=Y.useMemo(()=>{const v=_L((b,S)=>({...a,set:b,get:S})),_=b=>v.setState(S=>p.current(b,S));return _(l.getState()),l.subscribe(_),v},[l,e]);return W.jsx(W.Fragment,{children:Ux.createPortal(W.jsx(BD.Provider,{value:m,children:t}),m,null)})}const mX=new Set,gX=new Set,vX=new Set;function W1(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function Bg(n,t){switch(n){case"before":return W1(mX,t);case"after":return W1(gX,t);case"tail":return W1(vX,t)}}let Z1,K1;function nE(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),Z1=t.internal.subscribers;for(let r=0;r<Z1.length;r++)K1=Z1[r],K1.ref.current(K1.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let Px=!1,iE=!1,Q1,BR,qd;function HL(n){BR=requestAnimationFrame(HL),Px=!0,Q1=0,Bg("before",n),iE=!0;for(const e of hh.values()){var t;qd=e.store.getState(),qd.internal.active&&(qd.frameloop==="always"||qd.internal.frames>0)&&!((t=qd.gl.xr)!=null&&t.isPresenting)&&(Q1+=nE(n,qd))}if(iE=!1,Bg("after",n),Q1===0)return Bg("tail",n),Px=!1,cancelAnimationFrame(BR)}function rE(n,t=1){var e;if(!n)return hh.forEach(i=>rE(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):iE?n.internal.frames=2:n.internal.frames=1,Px||(Px=!0,requestAnimationFrame(HL)))}function HR(n,t=!0,e,i){if(t&&Bg("before",n),e)nE(n,e,i);else for(const r of hh.values())nE(n,r.store.getState());t&&Bg("after",n)}const J1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function yX(n){const{handlePointer:t}=Qq(n);return{priority:1,enabled:!0,compute(e,i,r){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(J1).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:r}=n.getState();(e=r.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:e=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:e}})),r.handlers)for(const a in r.handlers){const l=r.handlers[a],[u,h]=J1[a];e.addEventListener(u,l,{passive:h})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[l]=J1[r];i.connected.removeEventListener(l,a)}e(r=>({events:{...r.events,connected:void 0}}))}}}}function FR(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function _X({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=Y.useRef(!1);Y.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,_,b]=Y.useMemo(()=>{const x=()=>{if(!u.current.element)return;const{left:T,top:R,width:O,height:I,bottom:P,right:B,x:N,y:L}=u.current.element.getBoundingClientRect(),U={left:T,top:R,width:O,height:I,bottom:P,right:B,x:N,y:L};u.current.element instanceof HTMLElement&&i&&(U.height=u.current.element.offsetHeight,U.width=u.current.element.offsetWidth),Object.freeze(U),m.current&&!MX(u.current.lastBounds,U)&&l(u.current.lastBounds=U)};return[x,p?FR(x,p):x,h?FR(x,h):x]},[l,i,h,p]);function S(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",b,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function A(){u.current.element&&(u.current.resizeObserver=new r(b),u.current.resizeObserver.observe(u.current.element),t&&u.current.scrollContainers&&u.current.scrollContainers.forEach(x=>x.addEventListener("scroll",b,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const M=x=>{!x||x===u.current.element||(S(),u.current.element=x,u.current.scrollContainers=FL(x),A())};return bX(b,!!t),xX(_),Y.useEffect(()=>{S(),A()},[t,b,_]),Y.useEffect(()=>S,[]),[M,a,v]}function xX(n){Y.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function bX(n,t){Y.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function FL(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[e,i,r].some(a=>a==="auto"||a==="scroll")&&t.push(n),[...t,...FL(n.parentElement)]}const SX=["x","y","top","bottom","left","right","width","height"],MX=(n,t)=>SX.every(e=>n[e]===t[e]);function EX({ref:n,children:t,fallback:e,resize:i,style:r,gl:a,events:l=yX,eventSource:u,eventPrefix:h,shadows:p,linear:m,flat:v,legacy:_,orthographic:b,frameloop:S,dpr:A,performance:M,raycaster:x,camera:T,scene:R,onPointerMissed:O,onCreated:I,...P}){Y.useMemo(()=>UL(dq),[]);const B=Fq(),[N,L]=_X({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=Y.useRef(null),F=Y.useRef(null);Y.useImperativeHandle(n,()=>U.current);const K=zD(O),[tt,nt]=Y.useState(!1),[at,H]=Y.useState(!1);if(tt)throw tt;if(at)throw at;const k=Y.useRef(null);Ov(()=>{const Q=U.current;if(L.width>0&&L.height>0&&Q){k.current||(k.current=fX(Q));async function j(){await k.current.configure({gl:a,scene:R,events:l,shadows:p,linear:m,flat:v,legacy:_,orthographic:b,frameloop:S,dpr:A,performance:M,raycaster:x,camera:T,size:L,onPointerMissed:(...st)=>K.current==null?void 0:K.current(...st),onCreated:st=>{st.events.connect==null||st.events.connect(u?Bq(u)?u.current:u:F.current),h&&st.setEvents({compute:(ht,dt)=>{const $=ht[h+"X"],ft=ht[h+"Y"];dt.pointer.set($/dt.size.width*2-1,-(ft/dt.size.height)*2+1),dt.raycaster.setFromCamera(dt.pointer,dt.camera)}}),I==null||I(st)}}),k.current.render(W.jsx(B,{children:W.jsx(kq,{set:H,children:W.jsx(Y.Suspense,{fallback:W.jsx(Vq,{set:nt}),children:t??null})})}))}j()}}),Y.useEffect(()=>{const Q=U.current;if(Q)return()=>BL(Q)},[]);const V=u?"none":"auto";return W.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...r},...P,children:W.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:W.jsx("canvas",{ref:U,style:{display:"block"},children:e})})})}function DX(n){return W.jsx(EL,{children:W.jsx(EX,{...n})})}const VL=parseInt(yv.replace(/\D+/g,""));var Ha=Uint8Array,Ou=Uint16Array,sE=Uint32Array,kL=new Ha([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),GL=new Ha([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),AX=new Ha([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jL=function(n,t){for(var e=new Ou(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new sE(e[30]),i=1;i<30;++i)for(var a=e[i];a<e[i+1];++a)r[a]=a-e[i]<<5|i;return[e,r]},qL=jL(kL,2),XL=qL[0],TX=qL[1];XL[28]=258,TX[258]=28;var wX=jL(GL,0),RX=wX[0],aE=new Ou(32768);for(var Ei=0;Ei<32768;++Ei){var Eu=(Ei&43690)>>>1|(Ei&21845)<<1;Eu=(Eu&52428)>>>2|(Eu&13107)<<2,Eu=(Eu&61680)>>>4|(Eu&3855)<<4,aE[Ei]=((Eu&65280)>>>8|(Eu&255)<<8)>>>1}var Hg=function(n,t,e){for(var i=n.length,r=0,a=new Ou(t);r<i;++r)++a[n[r]-1];var l=new Ou(t);for(r=0;r<t;++r)l[r]=l[r-1]+a[r-1]<<1;var u;if(e){u=new Ou(1<<t);var h=15-t;for(r=0;r<i;++r)if(n[r])for(var p=r<<4|n[r],m=t-n[r],v=l[n[r]-1]++<<m,_=v|(1<<m)-1;v<=_;++v)u[aE[v]>>>h]=p}else for(u=new Ou(i),r=0;r<i;++r)n[r]&&(u[r]=aE[l[n[r]-1]++]>>>15-n[r]);return u},Nv=new Ha(288);for(var Ei=0;Ei<144;++Ei)Nv[Ei]=8;for(var Ei=144;Ei<256;++Ei)Nv[Ei]=9;for(var Ei=256;Ei<280;++Ei)Nv[Ei]=7;for(var Ei=280;Ei<288;++Ei)Nv[Ei]=8;var YL=new Ha(32);for(var Ei=0;Ei<32;++Ei)YL[Ei]=5;var CX=Hg(Nv,9,1),OX=Hg(YL,5,1),$1=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},yo=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},tM=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},NX=function(n){return(n/8|0)+(n&7&&1)},LX=function(n,t,e){(e==null||e>n.length)&&(e=n.length);var i=new(n instanceof Ou?Ou:n instanceof sE?sE:Ha)(e-t);return i.set(n.subarray(t,e)),i},UX=function(n,t,e){var i=n.length;if(!i||e&&!e.l&&i<5)return t||new Ha(0);var r=!t||e,a=!e||e.i;e||(e={}),t||(t=new Ha(i*3));var l=function(lt){var pt=t.length;if(lt>pt){var xt=new Ha(Math.max(pt*2,lt));xt.set(t),t=xt}},u=e.f||0,h=e.p||0,p=e.b||0,m=e.l,v=e.d,_=e.m,b=e.n,S=i*8;do{if(!m){e.f=u=yo(n,h,1);var A=yo(n,h+1,3);if(h+=3,A)if(A==1)m=CX,v=OX,_=9,b=5;else if(A==2){var R=yo(n,h,31)+257,O=yo(n,h+10,15)+4,I=R+yo(n,h+5,31)+1;h+=14;for(var P=new Ha(I),B=new Ha(19),N=0;N<O;++N)B[AX[N]]=yo(n,h+N*3,7);h+=O*3;for(var L=$1(B),U=(1<<L)-1,F=Hg(B,L,1),N=0;N<I;){var K=F[yo(n,h,U)];h+=K&15;var M=K>>>4;if(M<16)P[N++]=M;else{var tt=0,nt=0;for(M==16?(nt=3+yo(n,h,3),h+=2,tt=P[N-1]):M==17?(nt=3+yo(n,h,7),h+=3):M==18&&(nt=11+yo(n,h,127),h+=7);nt--;)P[N++]=tt}}var at=P.subarray(0,R),H=P.subarray(R);_=$1(at),b=$1(H),m=Hg(at,_,1),v=Hg(H,b,1)}else throw"invalid block type";else{var M=NX(h)+4,x=n[M-4]|n[M-3]<<8,T=M+x;if(T>i){if(a)throw"unexpected EOF";break}r&&l(p+x),t.set(n.subarray(M,T),p),e.b=p+=x,e.p=h=T*8;continue}if(h>S){if(a)throw"unexpected EOF";break}}r&&l(p+131072);for(var k=(1<<_)-1,V=(1<<b)-1,Q=h;;Q=h){var tt=m[tM(n,h)&k],j=tt>>>4;if(h+=tt&15,h>S){if(a)throw"unexpected EOF";break}if(!tt)throw"invalid length/literal";if(j<256)t[p++]=j;else if(j==256){Q=h,m=null;break}else{var st=j-254;if(j>264){var N=j-257,ht=kL[N];st=yo(n,h,(1<<ht)-1)+XL[N],h+=ht}var dt=v[tM(n,h)&V],$=dt>>>4;if(!dt)throw"invalid distance";h+=dt&15;var H=RX[$];if($>3){var ht=GL[$];H+=tM(n,h)&(1<<ht)-1,h+=ht}if(h>S){if(a)throw"unexpected EOF";break}r&&l(p+131072);for(var ft=p+st;p<ft;p+=4)t[p]=t[p-H],t[p+1]=t[p+1-H],t[p+2]=t[p+2-H],t[p+3]=t[p+3-H];p=ft}}e.l=m,e.p=Q,e.b=p,m&&(u=1,e.m=_,e.d=v,e.n=b)}while(!u);return p==t.length?t:LX(t,0,p)},PX=new Ha(0),IX=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function c_(n,t){return UX((IX(n),n.subarray(2,-4)),t)}var zX=typeof TextDecoder<"u"&&new TextDecoder,BX=0;try{zX.decode(PX,{stream:!0}),BX=1}catch{}const HX=n=>n&&n.isCubeTexture;class FX extends Ni{constructor(t,e){var i,r;const a=HX(t),u=((r=a?(i=t.image[0])==null?void 0:i.width:t.image.width)!=null?r:1024)/4,h=Math.floor(Math.log2(u)),p=Math.pow(2,h),m=3*Math.max(p,16*7),v=4*p,_=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/m}`,`#define CUBEUV_TEXEL_HEIGHT ${1/v}`,`#define CUBEUV_MAX_MIP ${h}.0`],b=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,S=_.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${VL>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,A={map:{value:t},height:{value:(e==null?void 0:e.height)||15},radius:{value:(e==null?void 0:e.radius)||100}},M=new Av(1,16),x=new Ks({uniforms:A,fragmentShader:S,vertexShader:b,side:Eo});super(M,x)}set radius(t){this.material.uniforms.radius.value=t}get radius(){return this.material.uniforms.radius.value}set height(t){this.material.uniforms.height.value=t}get height(){return this.material.uniforms.height.value}}var VX=Object.defineProperty,kX=(n,t,e)=>t in n?VX(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,GX=(n,t,e)=>(kX(n,t+"",e),e);class jX{constructor(){GX(this,"_listeners")}addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const r=i.slice(0);for(let a=0,l=r.length;a<l;a++)r[a].call(this,t);t.target=null}}}var qX=Object.defineProperty,XX=(n,t,e)=>t in n?qX(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,ye=(n,t,e)=>(XX(n,typeof t!="symbol"?t+"":t,e),e);let YX=class extends jX{constructor(t,e){super(),ye(this,"enabled",!0),ye(this,"screen",{left:0,top:0,width:0,height:0}),ye(this,"rotateSpeed",1),ye(this,"zoomSpeed",1.2),ye(this,"panSpeed",.3),ye(this,"noRotate",!1),ye(this,"noZoom",!1),ye(this,"noPan",!1),ye(this,"staticMoving",!1),ye(this,"dynamicDampingFactor",.2),ye(this,"minDistance",0),ye(this,"maxDistance",1/0),ye(this,"keys",["KeyA","KeyS","KeyD"]),ye(this,"mouseButtons",{LEFT:w_.ROTATE,MIDDLE:w_.DOLLY,RIGHT:w_.PAN}),ye(this,"object"),ye(this,"domElement"),ye(this,"cursorZoom",!1),ye(this,"target",new ct),ye(this,"mousePosition",new ee),ye(this,"STATE",{NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4}),ye(this,"EPS",1e-6),ye(this,"lastZoom",1),ye(this,"lastPosition",new ct),ye(this,"cursorVector",new ct),ye(this,"targetVector",new ct),ye(this,"_state",this.STATE.NONE),ye(this,"_keyState",this.STATE.NONE),ye(this,"_eye",new ct),ye(this,"_movePrev",new ee),ye(this,"_moveCurr",new ee),ye(this,"_lastAxis",new ct),ye(this,"_lastAngle",0),ye(this,"_zoomStart",new ee),ye(this,"_zoomEnd",new ee),ye(this,"_touchZoomDistanceStart",0),ye(this,"_touchZoomDistanceEnd",0),ye(this,"_panStart",new ee),ye(this,"_panEnd",new ee),ye(this,"target0"),ye(this,"position0"),ye(this,"up0"),ye(this,"zoom0"),ye(this,"changeEvent",{type:"change"}),ye(this,"startEvent",{type:"start"}),ye(this,"endEvent",{type:"end"}),ye(this,"onScreenVector",new ee),ye(this,"getMouseOnScreen",(i,r)=>(this.onScreenVector.set((i-this.screen.left)/this.screen.width,(r-this.screen.top)/this.screen.height),this.onScreenVector)),ye(this,"onCircleVector",new ee),ye(this,"getMouseOnCircle",(i,r)=>(this.onCircleVector.set((i-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-r))/this.screen.width),this.onCircleVector)),ye(this,"axis",new ct),ye(this,"quaternion",new Rs),ye(this,"eyeDirection",new ct),ye(this,"objectUpDirection",new ct),ye(this,"objectSidewaysDirection",new ct),ye(this,"moveDirection",new ct),ye(this,"angle",0),ye(this,"rotateCamera",()=>{this.moveDirection.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0),this.angle=this.moveDirection.length(),this.angle?(this._eye.copy(this.object.position).sub(this.target),this.eyeDirection.copy(this._eye).normalize(),this.objectUpDirection.copy(this.object.up).normalize(),this.objectSidewaysDirection.crossVectors(this.objectUpDirection,this.eyeDirection).normalize(),this.objectUpDirection.setLength(this._moveCurr.y-this._movePrev.y),this.objectSidewaysDirection.setLength(this._moveCurr.x-this._movePrev.x),this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection)),this.axis.crossVectors(this.moveDirection,this._eye).normalize(),this.angle*=this.rotateSpeed,this.quaternion.setFromAxisAngle(this.axis,this.angle),this._eye.applyQuaternion(this.quaternion),this.object.up.applyQuaternion(this.quaternion),this._lastAxis.copy(this.axis),this._lastAngle=this.angle):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),this.quaternion.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(this.quaternion),this.object.up.applyQuaternion(this.quaternion)),this._movePrev.copy(this._moveCurr)}),ye(this,"zoomCamera",()=>{let i;if(this._state===this.STATE.TOUCH_ZOOM_PAN)i=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(i):this.object.isOrthographicCamera?(this.object.zoom/=i,this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type");else{if(i=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,Math.abs(i-1)>this.EPS&&i>0&&(this.object.isPerspectiveCamera?(i>1&&this._eye.length()>=this.maxDistance-this.EPS&&(i=1),this._eye.multiplyScalar(i)):this.object.isOrthographicCamera?(i>1&&this.object.zoom<this.maxDistance*this.maxDistance&&(i=1),this.object.zoom/=i):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor,this.cursorZoom){this.targetVector.copy(this.target).project(this.object);let r=this.cursorVector.set(this.mousePosition.x,this.mousePosition.y,this.targetVector.z).unproject(this.object);this.target.lerpVectors(r,this.target,i)}this.object.isOrthographicCamera&&this.object.updateProjectionMatrix()}}),ye(this,"mouseChange",new ee),ye(this,"objectUp",new ct),ye(this,"pan",new ct),ye(this,"panCamera",()=>{if(this.domElement&&(this.mouseChange.copy(this._panEnd).sub(this._panStart),this.mouseChange.lengthSq()>this.EPS)){if(this.object.isOrthographicCamera){const i=this.object,r=(i.right-i.left)/this.object.zoom,a=(i.top-i.bottom)/this.object.zoom;this.mouseChange.x*=r,this.mouseChange.y*=a}else this.mouseChange.multiplyScalar(this._eye.length()*this.panSpeed);this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x),this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y)),this.object.position.add(this.pan),this.target.add(this.pan),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(this.mouseChange.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}),ye(this,"checkDistances",()=>{(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}),ye(this,"handleResize",()=>{if(!this.domElement)return;const i=this.domElement.getBoundingClientRect(),r=this.domElement.ownerDocument.documentElement;this.screen.left=i.left+window.pageXOffset-r.clientLeft,this.screen.top=i.top+window.pageYOffset-r.clientTop,this.screen.width=i.width,this.screen.height=i.height}),ye(this,"update",()=>{this._eye.subVectors(this.object.position,this.target),this.noRotate||this.rotateCamera(),this.noZoom||this.zoomCamera(),this.noPan||this.panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this.checkDistances(),this.object.lookAt(this.target),this.lastPosition.distanceToSquared(this.object.position)>this.EPS&&(this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this.lastPosition.distanceToSquared(this.object.position)>this.EPS||this.lastZoom!==this.object.zoom)&&(this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position),this.lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")}),ye(this,"reset",()=>{this._state=this.STATE.NONE,this._keyState=this.STATE.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.up.copy(this.up0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position),this.lastZoom=this.object.zoom}),ye(this,"keydown",i=>{this.enabled!==!1&&(window.removeEventListener("keydown",this.keydown),this._keyState===this.STATE.NONE&&(i.code===this.keys[this.STATE.ROTATE]&&!this.noRotate?this._keyState=this.STATE.ROTATE:i.code===this.keys[this.STATE.ZOOM]&&!this.noZoom?this._keyState=this.STATE.ZOOM:i.code===this.keys[this.STATE.PAN]&&!this.noPan&&(this._keyState=this.STATE.PAN)))}),ye(this,"onPointerDown",i=>{if(this.enabled!==!1)switch(i.pointerType){case"mouse":case"pen":this.onMouseDown(i);break}}),ye(this,"onPointerMove",i=>{if(this.enabled!==!1)switch(i.pointerType){case"mouse":case"pen":this.onMouseMove(i);break}}),ye(this,"onPointerUp",i=>{if(this.enabled!==!1)switch(i.pointerType){case"mouse":case"pen":this.onMouseUp();break}}),ye(this,"keyup",()=>{this.enabled!==!1&&(this._keyState=this.STATE.NONE,window.addEventListener("keydown",this.keydown))}),ye(this,"onMouseDown",i=>{if(!this.domElement)return;if(this._state===this.STATE.NONE)switch(i.button){case this.mouseButtons.LEFT:this._state=this.STATE.ROTATE;break;case this.mouseButtons.MIDDLE:this._state=this.STATE.ZOOM;break;case this.mouseButtons.RIGHT:this._state=this.STATE.PAN;break}const r=this._keyState!==this.STATE.NONE?this._keyState:this._state;r===this.STATE.ROTATE&&!this.noRotate?(this._moveCurr.copy(this.getMouseOnCircle(i.pageX,i.pageY)),this._movePrev.copy(this._moveCurr)):r===this.STATE.ZOOM&&!this.noZoom?(this._zoomStart.copy(this.getMouseOnScreen(i.pageX,i.pageY)),this._zoomEnd.copy(this._zoomStart)):r===this.STATE.PAN&&!this.noPan&&(this._panStart.copy(this.getMouseOnScreen(i.pageX,i.pageY)),this._panEnd.copy(this._panStart)),this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.dispatchEvent(this.startEvent)}),ye(this,"onMouseMove",i=>{if(this.enabled===!1)return;const r=this._keyState!==this.STATE.NONE?this._keyState:this._state;r===this.STATE.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this.getMouseOnCircle(i.pageX,i.pageY))):r===this.STATE.ZOOM&&!this.noZoom?this._zoomEnd.copy(this.getMouseOnScreen(i.pageX,i.pageY)):r===this.STATE.PAN&&!this.noPan&&this._panEnd.copy(this.getMouseOnScreen(i.pageX,i.pageY))}),ye(this,"onMouseUp",()=>{this.domElement&&this.enabled!==!1&&(this._state=this.STATE.NONE,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),this.dispatchEvent(this.endEvent))}),ye(this,"mousewheel",i=>{if(this.enabled!==!1&&this.noZoom!==!0){switch(i.preventDefault(),i.deltaMode){case 2:this._zoomStart.y-=i.deltaY*.025;break;case 1:this._zoomStart.y-=i.deltaY*.01;break;default:this._zoomStart.y-=i.deltaY*25e-5;break}this.mousePosition.x=i.offsetX/this.screen.width*2-1,this.mousePosition.y=-(i.offsetY/this.screen.height)*2+1,this.dispatchEvent(this.startEvent),this.dispatchEvent(this.endEvent)}}),ye(this,"touchstart",i=>{if(this.enabled!==!1){switch(i.preventDefault(),i.touches.length){case 1:this._state=this.STATE.TOUCH_ROTATE,this._moveCurr.copy(this.getMouseOnCircle(i.touches[0].pageX,i.touches[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this._state=this.STATE.TOUCH_ZOOM_PAN;const r=i.touches[0].pageX-i.touches[1].pageX,a=i.touches[0].pageY-i.touches[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(r*r+a*a);const l=(i.touches[0].pageX+i.touches[1].pageX)/2,u=(i.touches[0].pageY+i.touches[1].pageY)/2;this._panStart.copy(this.getMouseOnScreen(l,u)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(this.startEvent)}}),ye(this,"touchmove",i=>{if(this.enabled!==!1)switch(i.preventDefault(),i.touches.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this.getMouseOnCircle(i.touches[0].pageX,i.touches[0].pageY));break;default:const r=i.touches[0].pageX-i.touches[1].pageX,a=i.touches[0].pageY-i.touches[1].pageY;this._touchZoomDistanceEnd=Math.sqrt(r*r+a*a);const l=(i.touches[0].pageX+i.touches[1].pageX)/2,u=(i.touches[0].pageY+i.touches[1].pageY)/2;this._panEnd.copy(this.getMouseOnScreen(l,u));break}}),ye(this,"touchend",i=>{if(this.enabled!==!1){switch(i.touches.length){case 0:this._state=this.STATE.NONE;break;case 1:this._state=this.STATE.TOUCH_ROTATE,this._moveCurr.copy(this.getMouseOnCircle(i.touches[0].pageX,i.touches[0].pageY)),this._movePrev.copy(this._moveCurr);break}this.dispatchEvent(this.endEvent)}}),ye(this,"contextmenu",i=>{this.enabled!==!1&&i.preventDefault()}),ye(this,"connect",i=>{i===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=i,this.domElement.addEventListener("contextmenu",this.contextmenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.mousewheel),this.domElement.addEventListener("touchstart",this.touchstart),this.domElement.addEventListener("touchend",this.touchend),this.domElement.addEventListener("touchmove",this.touchmove),this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),this.handleResize()}),ye(this,"dispose",()=>{this.domElement&&(this.domElement.removeEventListener("contextmenu",this.contextmenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.mousewheel),this.domElement.removeEventListener("touchstart",this.touchstart),this.domElement.removeEventListener("touchend",this.touchend),this.domElement.removeEventListener("touchmove",this.touchmove),this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup))}),this.object=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,e!==void 0&&this.connect(e),this.update()}};class WX extends ED{constructor(t){super(t),this.type=Cr}parse(t){const l=function(N,L){switch(N){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(L||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(L||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(L||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(L||""))}},m=`
`,v=function(N,L,U){L=L||1024;let K=N.pos,tt=-1,nt=0,at="",H=String.fromCharCode.apply(null,new Uint16Array(N.subarray(K,K+128)));for(;0>(tt=H.indexOf(m))&&nt<L&&K<N.byteLength;)at+=H,nt+=H.length,K+=128,H+=String.fromCharCode.apply(null,new Uint16Array(N.subarray(K,K+128)));return-1<tt?(N.pos+=nt+tt+1,at+H.slice(0,tt)):!1},_=function(N){const L=/^#\?(\S+)/,U=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,K=/^\s*FORMAT=(\S+)\s*$/,tt=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,nt={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let at,H;for((N.pos>=N.byteLength||!(at=v(N)))&&l(1,"no header found"),(H=at.match(L))||l(3,"bad initial token"),nt.valid|=1,nt.programtype=H[1],nt.string+=at+`
`;at=v(N),at!==!1;){if(nt.string+=at+`
`,at.charAt(0)==="#"){nt.comments+=at+`
`;continue}if((H=at.match(U))&&(nt.gamma=parseFloat(H[1])),(H=at.match(F))&&(nt.exposure=parseFloat(H[1])),(H=at.match(K))&&(nt.valid|=2,nt.format=H[1]),(H=at.match(tt))&&(nt.valid|=4,nt.height=parseInt(H[1],10),nt.width=parseInt(H[2],10)),nt.valid&2&&nt.valid&4)break}return nt.valid&2||l(3,"missing format specifier"),nt.valid&4||l(3,"missing image size specifier"),nt},b=function(N,L,U){const F=L;if(F<8||F>32767||N[0]!==2||N[1]!==2||N[2]&128)return new Uint8Array(N);F!==(N[2]<<8|N[3])&&l(3,"wrong scanline width");const K=new Uint8Array(4*L*U);K.length||l(4,"unable to allocate buffer space");let tt=0,nt=0;const at=4*F,H=new Uint8Array(4),k=new Uint8Array(at);let V=U;for(;V>0&&nt<N.byteLength;){nt+4>N.byteLength&&l(1),H[0]=N[nt++],H[1]=N[nt++],H[2]=N[nt++],H[3]=N[nt++],(H[0]!=2||H[1]!=2||(H[2]<<8|H[3])!=F)&&l(3,"bad rgbe scanline format");let Q=0,j;for(;Q<at&&nt<N.byteLength;){j=N[nt++];const ht=j>128;if(ht&&(j-=128),(j===0||Q+j>at)&&l(3,"bad scanline data"),ht){const dt=N[nt++];for(let $=0;$<j;$++)k[Q++]=dt}else k.set(N.subarray(nt,nt+j),Q),Q+=j,nt+=j}const st=F;for(let ht=0;ht<st;ht++){let dt=0;K[tt]=k[ht+dt],dt+=F,K[tt+1]=k[ht+dt],dt+=F,K[tt+2]=k[ht+dt],dt+=F,K[tt+3]=k[ht+dt],tt+=4}V--}return K},S=function(N,L,U,F){const K=N[L+3],tt=Math.pow(2,K-128)/255;U[F+0]=N[L+0]*tt,U[F+1]=N[L+1]*tt,U[F+2]=N[L+2]*tt,U[F+3]=1},A=function(N,L,U,F){const K=N[L+3],tt=Math.pow(2,K-128)/255;U[F+0]=eh.toHalfFloat(Math.min(N[L+0]*tt,65504)),U[F+1]=eh.toHalfFloat(Math.min(N[L+1]*tt,65504)),U[F+2]=eh.toHalfFloat(Math.min(N[L+2]*tt,65504)),U[F+3]=eh.toHalfFloat(1)},M=new Uint8Array(t);M.pos=0;const x=_(M),T=x.width,R=x.height,O=b(M.subarray(M.pos),T,R);let I,P,B;switch(this.type){case ki:B=O.length/4;const N=new Float32Array(B*4);for(let U=0;U<B;U++)S(O,U*4,N,U*4);I=N,P=ki;break;case Cr:B=O.length/4;const L=new Uint16Array(B*4);for(let U=0;U<B;U++)A(O,U*4,L,U*4);I=L,P=Cr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:T,height:R,data:I,header:x.string,gamma:x.gamma,exposure:x.exposure,type:P}}setDataType(t){return this.type=t,this}load(t,e,i,r){function a(l,u){switch(l.type){case ki:case Cr:"colorSpace"in l?l.colorSpace="srgb-linear":l.encoding=3e3,l.minFilter=oi,l.magFilter=oi,l.generateMipmaps=!1,l.flipY=!0;break}e&&e(l,u)}return super.load(t,a,i,r)}}const dg=VL>=152;class ZX extends ED{constructor(t){super(t),this.type=Cr}parse(t){const L=Math.pow(2.7182818,2.2);function U(q,rt){for(var _t=0,Lt=0;Lt<65536;++Lt)(Lt==0||q[Lt>>3]&1<<(Lt&7))&&(rt[_t++]=Lt);for(var zt=_t-1;_t<65536;)rt[_t++]=0;return zt}function F(q){for(var rt=0;rt<16384;rt++)q[rt]={},q[rt].len=0,q[rt].lit=0,q[rt].p=null}const K={l:0,c:0,lc:0};function tt(q,rt,_t,Lt,zt){for(;_t<q;)rt=rt<<8|_e(Lt,zt),_t+=8;_t-=q,K.l=rt>>_t&(1<<q)-1,K.c=rt,K.lc=_t}const nt=new Array(59);function at(q){for(var rt=0;rt<=58;++rt)nt[rt]=0;for(var rt=0;rt<65537;++rt)nt[q[rt]]+=1;for(var _t=0,rt=58;rt>0;--rt){var Lt=_t+nt[rt]>>1;nt[rt]=_t,_t=Lt}for(var rt=0;rt<65537;++rt){var zt=q[rt];zt>0&&(q[rt]=zt|nt[zt]++<<6)}}function H(q,rt,_t,Lt,zt,qt,he){for(var ae=_t,X=0,ut=0;zt<=qt;zt++){if(ae.value-_t.value>Lt)return!1;tt(6,X,ut,q,ae);var gt=K.l;if(X=K.c,ut=K.lc,he[zt]=gt,gt==63){if(ae.value-_t.value>Lt)throw"Something wrong with hufUnpackEncTable";tt(8,X,ut,q,ae);var vt=K.l+6;if(X=K.c,ut=K.lc,zt+vt>qt+1)throw"Something wrong with hufUnpackEncTable";for(;vt--;)he[zt++]=0;zt--}else if(gt>=59){var vt=gt-59+2;if(zt+vt>qt+1)throw"Something wrong with hufUnpackEncTable";for(;vt--;)he[zt++]=0;zt--}}at(he)}function k(q){return q&63}function V(q){return q>>6}function Q(q,rt,_t,Lt){for(;rt<=_t;rt++){var zt=V(q[rt]),qt=k(q[rt]);if(zt>>qt)throw"Invalid table entry";if(qt>14){var he=Lt[zt>>qt-14];if(he.len)throw"Invalid table entry";if(he.lit++,he.p){var ae=he.p;he.p=new Array(he.lit);for(var X=0;X<he.lit-1;++X)he.p[X]=ae[X]}else he.p=new Array(1);he.p[he.lit-1]=rt}else if(qt)for(var ut=0,X=1<<14-qt;X>0;X--){var he=Lt[(zt<<14-qt)+ut];if(he.len||he.p)throw"Invalid table entry";he.len=qt,he.lit=rt,ut++}}return!0}const j={c:0,lc:0};function st(q,rt,_t,Lt){q=q<<8|_e(_t,Lt),rt+=8,j.c=q,j.lc=rt}const ht={c:0,lc:0};function dt(q,rt,_t,Lt,zt,qt,he,ae,X,ut){if(q==rt){Lt<8&&(st(_t,Lt,zt,he),_t=j.c,Lt=j.lc),Lt-=8;var gt=_t>>Lt,gt=new Uint8Array([gt])[0];if(X.value+gt>ut)return!1;for(var vt=ae[X.value-1];gt-- >0;)ae[X.value++]=vt}else if(X.value<ut)ae[X.value++]=q;else return!1;ht.c=_t,ht.lc=Lt}function $(q){return q&65535}function ft(q){var rt=$(q);return rt>32767?rt-65536:rt}const lt={a:0,b:0};function pt(q,rt){var _t=ft(q),Lt=ft(rt),zt=Lt,qt=_t+(zt&1)+(zt>>1),he=qt,ae=qt-zt;lt.a=he,lt.b=ae}function xt(q,rt){var _t=$(q),Lt=$(rt),zt=_t-(Lt>>1)&65535,qt=Lt+zt-32768&65535;lt.a=qt,lt.b=zt}function Ct(q,rt,_t,Lt,zt,qt,he){for(var ae=he<16384,X=_t>zt?zt:_t,ut=1,gt;ut<=X;)ut<<=1;for(ut>>=1,gt=ut,ut>>=1;ut>=1;){for(var vt=0,St=vt+qt*(zt-gt),Rt=qt*ut,Yt=qt*gt,Jt=Lt*ut,se=Lt*gt,be,ve,Se,je;vt<=St;vt+=Yt){for(var Be=vt,Nn=vt+Lt*(_t-gt);Be<=Nn;Be+=se){var Ne=Be+Jt,ke=Be+Rt,Le=ke+Jt;ae?(pt(q[Be+rt],q[ke+rt]),be=lt.a,Se=lt.b,pt(q[Ne+rt],q[Le+rt]),ve=lt.a,je=lt.b,pt(be,ve),q[Be+rt]=lt.a,q[Ne+rt]=lt.b,pt(Se,je),q[ke+rt]=lt.a,q[Le+rt]=lt.b):(xt(q[Be+rt],q[ke+rt]),be=lt.a,Se=lt.b,xt(q[Ne+rt],q[Le+rt]),ve=lt.a,je=lt.b,xt(be,ve),q[Be+rt]=lt.a,q[Ne+rt]=lt.b,xt(Se,je),q[ke+rt]=lt.a,q[Le+rt]=lt.b)}if(_t&ut){var ke=Be+Rt;ae?pt(q[Be+rt],q[ke+rt]):xt(q[Be+rt],q[ke+rt]),be=lt.a,q[ke+rt]=lt.b,q[Be+rt]=be}}if(zt&ut)for(var Be=vt,Nn=vt+Lt*(_t-gt);Be<=Nn;Be+=se){var Ne=Be+Jt;ae?pt(q[Be+rt],q[Ne+rt]):xt(q[Be+rt],q[Ne+rt]),be=lt.a,q[Ne+rt]=lt.b,q[Be+rt]=be}gt=ut,ut>>=1}return vt}function Ht(q,rt,_t,Lt,zt,qt,he,ae,X,ut){for(var gt=0,vt=0,St=ae,Rt=Math.trunc(zt.value+(qt+7)/8);zt.value<Rt;)for(st(gt,vt,_t,zt),gt=j.c,vt=j.lc;vt>=14;){var Yt=gt>>vt-14&16383,Jt=rt[Yt];if(Jt.len)vt-=Jt.len,dt(Jt.lit,he,gt,vt,_t,Lt,zt,X,ut,St),gt=ht.c,vt=ht.lc;else{if(!Jt.p)throw"hufDecode issues";var se;for(se=0;se<Jt.lit;se++){for(var be=k(q[Jt.p[se]]);vt<be&&zt.value<Rt;)st(gt,vt,_t,zt),gt=j.c,vt=j.lc;if(vt>=be&&V(q[Jt.p[se]])==(gt>>vt-be&(1<<be)-1)){vt-=be,dt(Jt.p[se],he,gt,vt,_t,Lt,zt,X,ut,St),gt=ht.c,vt=ht.lc;break}}if(se==Jt.lit)throw"hufDecode issues"}}var ve=8-qt&7;for(gt>>=ve,vt-=ve;vt>0;){var Jt=rt[gt<<14-vt&16383];if(Jt.len)vt-=Jt.len,dt(Jt.lit,he,gt,vt,_t,Lt,zt,X,ut,St),gt=ht.c,vt=ht.lc;else throw"hufDecode issues"}return!0}function Kt(q,rt,_t,Lt,zt,qt){var he={value:0},ae=_t.value,X=De(rt,_t),ut=De(rt,_t);_t.value+=4;var gt=De(rt,_t);if(_t.value+=4,X<0||X>=65537||ut<0||ut>=65537)throw"Something wrong with HUF_ENCSIZE";var vt=new Array(65537),St=new Array(16384);F(St);var Rt=Lt-(_t.value-ae);if(H(q,rt,_t,Rt,X,ut,vt),gt>8*(Lt-(_t.value-ae)))throw"Something wrong with hufUncompress";Q(vt,X,ut,St),Ht(vt,St,q,rt,_t,gt,ut,qt,zt,he)}function le(q,rt,_t){for(var Lt=0;Lt<_t;++Lt)rt[Lt]=q[rt[Lt]]}function ce(q){for(var rt=1;rt<q.length;rt++){var _t=q[rt-1]+q[rt]-128;q[rt]=_t}}function et(q,rt){for(var _t=0,Lt=Math.floor((q.length+1)/2),zt=0,qt=q.length-1;!(zt>qt||(rt[zt++]=q[_t++],zt>qt));)rt[zt++]=q[Lt++]}function Wt(q){for(var rt=q.byteLength,_t=new Array,Lt=0,zt=new DataView(q);rt>0;){var qt=zt.getInt8(Lt++);if(qt<0){var he=-qt;rt-=he+1;for(var ae=0;ae<he;ae++)_t.push(zt.getUint8(Lt++))}else{var he=qt;rt-=2;for(var X=zt.getUint8(Lt++),ae=0;ae<he+1;ae++)_t.push(X)}}return _t}function Ut(q,rt,_t,Lt,zt,qt){var Ne=new DataView(qt.buffer),he=_t[q.idx[0]].width,ae=_t[q.idx[0]].height,X=3,ut=Math.floor(he/8),gt=Math.ceil(he/8),vt=Math.ceil(ae/8),St=he-(gt-1)*8,Rt=ae-(vt-1)*8,Yt={value:0},Jt=new Array(X),se=new Array(X),be=new Array(X),ve=new Array(X),Se=new Array(X);for(let fn=0;fn<X;++fn)Se[fn]=rt[q.idx[fn]],Jt[fn]=fn<1?0:Jt[fn-1]+gt*vt,se[fn]=new Float32Array(64),be[fn]=new Uint16Array(64),ve[fn]=new Uint16Array(gt*64);for(let fn=0;fn<vt;++fn){var je=8;fn==vt-1&&(je=Rt);var Be=8;for(let Xe=0;Xe<gt;++Xe){Xe==gt-1&&(Be=St);for(let bn=0;bn<X;++bn)be[bn].fill(0),be[bn][0]=zt[Jt[bn]++],Xt(Yt,Lt,be[bn]),It(be[bn],se[bn]),ue(se[bn]);Zt(se);for(let bn=0;bn<X;++bn)ot(se[bn],ve[bn],Xe*64)}let ti=0;for(let Xe=0;Xe<X;++Xe){const bn=_t[q.idx[Xe]].type;for(let vn=8*fn;vn<8*fn+je;++vn){ti=Se[Xe][vn];for(let vi=0;vi<ut;++vi){const Un=vi*64+(vn&7)*8;Ne.setUint16(ti+0*2*bn,ve[Xe][Un+0],!0),Ne.setUint16(ti+1*2*bn,ve[Xe][Un+1],!0),Ne.setUint16(ti+2*2*bn,ve[Xe][Un+2],!0),Ne.setUint16(ti+3*2*bn,ve[Xe][Un+3],!0),Ne.setUint16(ti+4*2*bn,ve[Xe][Un+4],!0),Ne.setUint16(ti+5*2*bn,ve[Xe][Un+5],!0),Ne.setUint16(ti+6*2*bn,ve[Xe][Un+6],!0),Ne.setUint16(ti+7*2*bn,ve[Xe][Un+7],!0),ti+=8*2*bn}}if(ut!=gt)for(let vn=8*fn;vn<8*fn+je;++vn){const vi=Se[Xe][vn]+8*ut*2*bn,Un=ut*64+(vn&7)*8;for(let ei=0;ei<Be;++ei)Ne.setUint16(vi+ei*2*bn,ve[Xe][Un+ei],!0)}}}for(var Nn=new Uint16Array(he),Ne=new DataView(qt.buffer),ke=0;ke<X;++ke){_t[q.idx[ke]].decoded=!0;var Le=_t[q.idx[ke]].type;if(_t[ke].type==2)for(var Kn=0;Kn<ae;++Kn){const fn=Se[ke][Kn];for(var rn=0;rn<he;++rn)Nn[rn]=Ne.getUint16(fn+rn*2*Le,!0);for(var rn=0;rn<he;++rn)Ne.setFloat32(fn+rn*2*Le,Gt(Nn[rn]),!0)}}}function Xt(q,rt,_t){for(var Lt,zt=1;zt<64;)Lt=rt[q.value],Lt==65280?zt=64:Lt>>8==255?zt+=Lt&255:(_t[zt]=Lt,zt++),q.value++}function It(q,rt){rt[0]=Gt(q[0]),rt[1]=Gt(q[1]),rt[2]=Gt(q[5]),rt[3]=Gt(q[6]),rt[4]=Gt(q[14]),rt[5]=Gt(q[15]),rt[6]=Gt(q[27]),rt[7]=Gt(q[28]),rt[8]=Gt(q[2]),rt[9]=Gt(q[4]),rt[10]=Gt(q[7]),rt[11]=Gt(q[13]),rt[12]=Gt(q[16]),rt[13]=Gt(q[26]),rt[14]=Gt(q[29]),rt[15]=Gt(q[42]),rt[16]=Gt(q[3]),rt[17]=Gt(q[8]),rt[18]=Gt(q[12]),rt[19]=Gt(q[17]),rt[20]=Gt(q[25]),rt[21]=Gt(q[30]),rt[22]=Gt(q[41]),rt[23]=Gt(q[43]),rt[24]=Gt(q[9]),rt[25]=Gt(q[11]),rt[26]=Gt(q[18]),rt[27]=Gt(q[24]),rt[28]=Gt(q[31]),rt[29]=Gt(q[40]),rt[30]=Gt(q[44]),rt[31]=Gt(q[53]),rt[32]=Gt(q[10]),rt[33]=Gt(q[19]),rt[34]=Gt(q[23]),rt[35]=Gt(q[32]),rt[36]=Gt(q[39]),rt[37]=Gt(q[45]),rt[38]=Gt(q[52]),rt[39]=Gt(q[54]),rt[40]=Gt(q[20]),rt[41]=Gt(q[22]),rt[42]=Gt(q[33]),rt[43]=Gt(q[38]),rt[44]=Gt(q[46]),rt[45]=Gt(q[51]),rt[46]=Gt(q[55]),rt[47]=Gt(q[60]),rt[48]=Gt(q[21]),rt[49]=Gt(q[34]),rt[50]=Gt(q[37]),rt[51]=Gt(q[47]),rt[52]=Gt(q[50]),rt[53]=Gt(q[56]),rt[54]=Gt(q[59]),rt[55]=Gt(q[61]),rt[56]=Gt(q[35]),rt[57]=Gt(q[36]),rt[58]=Gt(q[48]),rt[59]=Gt(q[49]),rt[60]=Gt(q[57]),rt[61]=Gt(q[58]),rt[62]=Gt(q[62]),rt[63]=Gt(q[63])}function ue(q){const rt=.5*Math.cos(.7853975),_t=.5*Math.cos(3.14159/16),Lt=.5*Math.cos(3.14159/8),zt=.5*Math.cos(3*3.14159/16),qt=.5*Math.cos(5*3.14159/16),he=.5*Math.cos(3*3.14159/8),ae=.5*Math.cos(7*3.14159/16);for(var X=new Array(4),ut=new Array(4),gt=new Array(4),vt=new Array(4),St=0;St<8;++St){var Rt=St*8;X[0]=Lt*q[Rt+2],X[1]=he*q[Rt+2],X[2]=Lt*q[Rt+6],X[3]=he*q[Rt+6],ut[0]=_t*q[Rt+1]+zt*q[Rt+3]+qt*q[Rt+5]+ae*q[Rt+7],ut[1]=zt*q[Rt+1]-ae*q[Rt+3]-_t*q[Rt+5]-qt*q[Rt+7],ut[2]=qt*q[Rt+1]-_t*q[Rt+3]+ae*q[Rt+5]+zt*q[Rt+7],ut[3]=ae*q[Rt+1]-qt*q[Rt+3]+zt*q[Rt+5]-_t*q[Rt+7],gt[0]=rt*(q[Rt+0]+q[Rt+4]),gt[3]=rt*(q[Rt+0]-q[Rt+4]),gt[1]=X[0]+X[3],gt[2]=X[1]-X[2],vt[0]=gt[0]+gt[1],vt[1]=gt[3]+gt[2],vt[2]=gt[3]-gt[2],vt[3]=gt[0]-gt[1],q[Rt+0]=vt[0]+ut[0],q[Rt+1]=vt[1]+ut[1],q[Rt+2]=vt[2]+ut[2],q[Rt+3]=vt[3]+ut[3],q[Rt+4]=vt[3]-ut[3],q[Rt+5]=vt[2]-ut[2],q[Rt+6]=vt[1]-ut[1],q[Rt+7]=vt[0]-ut[0]}for(var Yt=0;Yt<8;++Yt)X[0]=Lt*q[16+Yt],X[1]=he*q[16+Yt],X[2]=Lt*q[48+Yt],X[3]=he*q[48+Yt],ut[0]=_t*q[8+Yt]+zt*q[24+Yt]+qt*q[40+Yt]+ae*q[56+Yt],ut[1]=zt*q[8+Yt]-ae*q[24+Yt]-_t*q[40+Yt]-qt*q[56+Yt],ut[2]=qt*q[8+Yt]-_t*q[24+Yt]+ae*q[40+Yt]+zt*q[56+Yt],ut[3]=ae*q[8+Yt]-qt*q[24+Yt]+zt*q[40+Yt]-_t*q[56+Yt],gt[0]=rt*(q[Yt]+q[32+Yt]),gt[3]=rt*(q[Yt]-q[32+Yt]),gt[1]=X[0]+X[3],gt[2]=X[1]-X[2],vt[0]=gt[0]+gt[1],vt[1]=gt[3]+gt[2],vt[2]=gt[3]-gt[2],vt[3]=gt[0]-gt[1],q[0+Yt]=vt[0]+ut[0],q[8+Yt]=vt[1]+ut[1],q[16+Yt]=vt[2]+ut[2],q[24+Yt]=vt[3]+ut[3],q[32+Yt]=vt[3]-ut[3],q[40+Yt]=vt[2]-ut[2],q[48+Yt]=vt[1]-ut[1],q[56+Yt]=vt[0]-ut[0]}function Zt(q){for(var rt=0;rt<64;++rt){var _t=q[0][rt],Lt=q[1][rt],zt=q[2][rt];q[0][rt]=_t+1.5747*zt,q[1][rt]=_t-.1873*Lt-.4682*zt,q[2][rt]=_t+1.8556*Lt}}function ot(q,rt,_t){for(var Lt=0;Lt<64;++Lt)rt[_t+Lt]=eh.toHalfFloat(Z(q[Lt]))}function Z(q){return q<=1?Math.sign(q)*Math.pow(Math.abs(q),2.2):Math.sign(q)*Math.pow(L,Math.abs(q)-1)}function Dt(q){return new DataView(q.array.buffer,q.offset.value,q.size)}function Ft(q){var rt=q.viewer.buffer.slice(q.offset.value,q.offset.value+q.size),_t=new Uint8Array(Wt(rt)),Lt=new Uint8Array(_t.length);return ce(_t),et(_t,Lt),new DataView(Lt.buffer)}function Qt(q){var rt=q.array.slice(q.offset.value,q.offset.value+q.size),_t=c_(rt),Lt=new Uint8Array(_t.length);return ce(_t),et(_t,Lt),new DataView(Lt.buffer)}function Nt(q){for(var rt=q.viewer,_t={value:q.offset.value},Lt=new Uint16Array(q.width*q.scanlineBlockSize*(q.channels*q.type)),zt=new Uint8Array(8192),qt=0,he=new Array(q.channels),ae=0;ae<q.channels;ae++)he[ae]={},he[ae].start=qt,he[ae].end=he[ae].start,he[ae].nx=q.width,he[ae].ny=q.lines,he[ae].size=q.type,qt+=he[ae].nx*he[ae].ny*he[ae].size;var X=jt(rt,_t),ut=jt(rt,_t);if(ut>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(X<=ut)for(var ae=0;ae<ut-X+1;ae++)zt[ae+X]=Je(rt,_t);var gt=new Uint16Array(65536),vt=U(zt,gt),St=De(rt,_t);Kt(q.array,rt,_t,St,Lt,qt);for(var ae=0;ae<q.channels;++ae)for(var Rt=he[ae],Yt=0;Yt<he[ae].size;++Yt)Ct(Lt,Rt.start+Yt,Rt.nx,Rt.size,Rt.ny,Rt.nx*Rt.size,vt);le(gt,Lt,qt);for(var Jt=0,se=new Uint8Array(Lt.buffer.byteLength),be=0;be<q.lines;be++)for(var ve=0;ve<q.channels;ve++){var Rt=he[ve],Se=Rt.nx*Rt.size,je=new Uint8Array(Lt.buffer,Rt.end*2,Se*2);se.set(je,Jt),Jt+=Se*2,Rt.end+=Se}return new DataView(se.buffer)}function de(q){var rt=q.array.slice(q.offset.value,q.offset.value+q.size),_t=c_(rt);const Lt=q.lines*q.channels*q.width,zt=q.type==1?new Uint16Array(Lt):new Uint32Array(Lt);let qt=0,he=0;const ae=new Array(4);for(let X=0;X<q.lines;X++)for(let ut=0;ut<q.channels;ut++){let gt=0;switch(q.type){case 1:ae[0]=qt,ae[1]=ae[0]+q.width,qt=ae[1]+q.width;for(let vt=0;vt<q.width;++vt){const St=_t[ae[0]++]<<8|_t[ae[1]++];gt+=St,zt[he]=gt,he++}break;case 2:ae[0]=qt,ae[1]=ae[0]+q.width,ae[2]=ae[1]+q.width,qt=ae[2]+q.width;for(let vt=0;vt<q.width;++vt){const St=_t[ae[0]++]<<24|_t[ae[1]++]<<16|_t[ae[2]++]<<8;gt+=St,zt[he]=gt,he++}break}}return new DataView(zt.buffer)}function fe(q){var rt=q.viewer,_t={value:q.offset.value},Lt=new Uint8Array(q.width*q.lines*(q.channels*q.type*2)),zt={version:Oe(rt,_t),unknownUncompressedSize:Oe(rt,_t),unknownCompressedSize:Oe(rt,_t),acCompressedSize:Oe(rt,_t),dcCompressedSize:Oe(rt,_t),rleCompressedSize:Oe(rt,_t),rleUncompressedSize:Oe(rt,_t),rleRawSize:Oe(rt,_t),totalAcUncompressedCount:Oe(rt,_t),totalDcUncompressedCount:Oe(rt,_t),acCompression:Oe(rt,_t)};if(zt.version<2)throw"EXRLoader.parse: "+lr.compression+" version "+zt.version+" is unsupported";for(var qt=new Array,he=jt(rt,_t)-2;he>0;){var ae=Me(rt.buffer,_t),X=Je(rt,_t),ut=X>>2&3,gt=(X>>4)-1,vt=new Int8Array([gt])[0],St=Je(rt,_t);qt.push({name:ae,index:vt,type:St,compression:ut}),he-=ae.length+3}for(var Rt=lr.channels,Yt=new Array(q.channels),Jt=0;Jt<q.channels;++Jt){var se=Yt[Jt]={},be=Rt[Jt];se.name=be.name,se.compression=0,se.decoded=!1,se.type=be.pixelType,se.pLinear=be.pLinear,se.width=q.width,se.height=q.lines}for(var ve={idx:new Array(3)},Se=0;Se<q.channels;++Se)for(var se=Yt[Se],Jt=0;Jt<qt.length;++Jt){var je=qt[Jt];se.name==je.name&&(se.compression=je.compression,je.index>=0&&(ve.idx[je.index]=Se),se.offset=Se)}if(zt.acCompressedSize>0)switch(zt.acCompression){case 0:var Ne=new Uint16Array(zt.totalAcUncompressedCount);Kt(q.array,rt,_t,zt.acCompressedSize,Ne,zt.totalAcUncompressedCount);break;case 1:var Be=q.array.slice(_t.value,_t.value+zt.totalAcUncompressedCount),Nn=c_(Be),Ne=new Uint16Array(Nn.buffer);_t.value+=zt.totalAcUncompressedCount;break}if(zt.dcCompressedSize>0){var ke={array:q.array,offset:_t,size:zt.dcCompressedSize},Le=new Uint16Array(Qt(ke).buffer);_t.value+=zt.dcCompressedSize}if(zt.rleRawSize>0){var Be=q.array.slice(_t.value,_t.value+zt.rleCompressedSize),Nn=c_(Be),Kn=Wt(Nn.buffer);_t.value+=zt.rleCompressedSize}for(var rn=0,fn=new Array(Yt.length),Jt=0;Jt<fn.length;++Jt)fn[Jt]=new Array;for(var ti=0;ti<q.lines;++ti)for(var Xe=0;Xe<Yt.length;++Xe)fn[Xe].push(rn),rn+=Yt[Xe].width*q.type*2;Ut(ve,fn,Yt,Ne,Le,Lt);for(var Jt=0;Jt<Yt.length;++Jt){var se=Yt[Jt];if(!se.decoded)switch(se.compression){case 2:for(var bn=0,vn=0,ti=0;ti<q.lines;++ti){for(var vi=fn[Jt][bn],Un=0;Un<se.width;++Un){for(var ei=0;ei<2*se.type;++ei)Lt[vi++]=Kn[vn+ei*se.width*se.height];vn++}bn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Lt.buffer)}function Me(q,rt){for(var _t=new Uint8Array(q),Lt=0;_t[rt.value+Lt]!=0;)Lt+=1;var zt=new TextDecoder().decode(_t.slice(rt.value,rt.value+Lt));return rt.value=rt.value+Lt+1,zt}function He(q,rt,_t){var Lt=new TextDecoder().decode(new Uint8Array(q).slice(rt.value,rt.value+_t));return rt.value=rt.value+_t,Lt}function oe(q,rt){var _t=Ae(q,rt),Lt=De(q,rt);return[_t,Lt]}function ge(q,rt){var _t=De(q,rt),Lt=De(q,rt);return[_t,Lt]}function Ae(q,rt){var _t=q.getInt32(rt.value,!0);return rt.value=rt.value+4,_t}function De(q,rt){var _t=q.getUint32(rt.value,!0);return rt.value=rt.value+4,_t}function _e(q,rt){var _t=q[rt.value];return rt.value=rt.value+1,_t}function Je(q,rt){var _t=q.getUint8(rt.value);return rt.value=rt.value+1,_t}const Oe=function(q,rt){let _t;return"getBigInt64"in DataView.prototype?_t=Number(q.getBigInt64(rt.value,!0)):_t=q.getUint32(rt.value+4,!0)+Number(q.getUint32(rt.value,!0)<<32),rt.value+=8,_t};function Ke(q,rt){var _t=q.getFloat32(rt.value,!0);return rt.value+=4,_t}function Et(q,rt){return eh.toHalfFloat(Ke(q,rt))}function Gt(q){var rt=(q&31744)>>10,_t=q&1023;return(q>>15?-1:1)*(rt?rt===31?_t?NaN:1/0:Math.pow(2,rt-15)*(1+_t/1024):6103515625e-14*(_t/1024))}function jt(q,rt){var _t=q.getUint16(rt.value,!0);return rt.value+=2,_t}function ne(q,rt){return Gt(jt(q,rt))}function Ee(q,rt,_t,Lt){for(var zt=_t.value,qt=[];_t.value<zt+Lt-1;){var he=Me(rt,_t),ae=Ae(q,_t),X=Je(q,_t);_t.value+=3;var ut=Ae(q,_t),gt=Ae(q,_t);qt.push({name:he,pixelType:ae,pLinear:X,xSampling:ut,ySampling:gt})}return _t.value+=1,qt}function xe(q,rt){var _t=Ke(q,rt),Lt=Ke(q,rt),zt=Ke(q,rt),qt=Ke(q,rt),he=Ke(q,rt),ae=Ke(q,rt),X=Ke(q,rt),ut=Ke(q,rt);return{redX:_t,redY:Lt,greenX:zt,greenY:qt,blueX:he,blueY:ae,whiteX:X,whiteY:ut}}function nn(q,rt){var _t=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Lt=Je(q,rt);return _t[Lt]}function Vn(q,rt){var _t=De(q,rt),Lt=De(q,rt),zt=De(q,rt),qt=De(q,rt);return{xMin:_t,yMin:Lt,xMax:zt,yMax:qt}}function ci(q,rt){var _t=["INCREASING_Y"],Lt=Je(q,rt);return _t[Lt]}function Tn(q,rt){var _t=Ke(q,rt),Lt=Ke(q,rt);return[_t,Lt]}function br(q,rt){var _t=Ke(q,rt),Lt=Ke(q,rt),zt=Ke(q,rt);return[_t,Lt,zt]}function Li(q,rt,_t,Lt,zt){if(Lt==="string"||Lt==="stringvector"||Lt==="iccProfile")return He(rt,_t,zt);if(Lt==="chlist")return Ee(q,rt,_t,zt);if(Lt==="chromaticities")return xe(q,_t);if(Lt==="compression")return nn(q,_t);if(Lt==="box2i")return Vn(q,_t);if(Lt==="lineOrder")return ci(q,_t);if(Lt==="float")return Ke(q,_t);if(Lt==="v2f")return Tn(q,_t);if(Lt==="v3f")return br(q,_t);if(Lt==="int")return Ae(q,_t);if(Lt==="rational")return oe(q,_t);if(Lt==="timecode")return ge(q,_t);if(Lt==="preview")return _t.value+=zt,"skipped";_t.value+=zt}function Di(q,rt,_t){const Lt={};if(q.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Lt.version=q.getUint8(4);const zt=q.getUint8(5);Lt.spec={singleTile:!!(zt&2),longName:!!(zt&4),deepFormat:!!(zt&8),multiPart:!!(zt&16)},_t.value=8;for(var qt=!0;qt;){var he=Me(rt,_t);if(he==0)qt=!1;else{var ae=Me(rt,_t),X=De(q,_t),ut=Li(q,rt,_t,ae,X);ut===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ae}'.`):Lt[he]=ut}}if((zt&-5)!=0)throw console.error("EXRHeader:",Lt),"THREE.EXRLoader: provided file is currently unsupported.";return Lt}function Ui(q,rt,_t,Lt,zt){const qt={size:0,viewer:rt,array:_t,offset:Lt,width:q.dataWindow.xMax-q.dataWindow.xMin+1,height:q.dataWindow.yMax-q.dataWindow.yMin+1,channels:q.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:q.channels[0].pixelType,uncompress:null,getter:null,format:null,[dg?"colorSpace":"encoding"]:null};switch(q.compression){case"NO_COMPRESSION":qt.lines=1,qt.uncompress=Dt;break;case"RLE_COMPRESSION":qt.lines=1,qt.uncompress=Ft;break;case"ZIPS_COMPRESSION":qt.lines=1,qt.uncompress=Qt;break;case"ZIP_COMPRESSION":qt.lines=16,qt.uncompress=Qt;break;case"PIZ_COMPRESSION":qt.lines=32,qt.uncompress=Nt;break;case"PXR24_COMPRESSION":qt.lines=16,qt.uncompress=de;break;case"DWAA_COMPRESSION":qt.lines=32,qt.uncompress=fe;break;case"DWAB_COMPRESSION":qt.lines=256,qt.uncompress=fe;break;default:throw"EXRLoader.parse: "+q.compression+" is unsupported"}if(qt.scanlineBlockSize=qt.lines,qt.type==1)switch(zt){case ki:qt.getter=ne,qt.inputSize=2;break;case Cr:qt.getter=jt,qt.inputSize=2;break}else if(qt.type==2)switch(zt){case ki:qt.getter=Ke,qt.inputSize=4;break;case Cr:qt.getter=Et,qt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+qt.type+" for "+q.compression+".";qt.blockCount=(q.dataWindow.yMax+1)/qt.scanlineBlockSize;for(var he=0;he<qt.blockCount;he++)Oe(rt,Lt);qt.outputChannels=qt.channels==3?4:qt.channels;const ae=qt.width*qt.height*qt.outputChannels;switch(zt){case ki:qt.byteArray=new Float32Array(ae),qt.channels<qt.outputChannels&&qt.byteArray.fill(1,0,ae);break;case Cr:qt.byteArray=new Uint16Array(ae),qt.channels<qt.outputChannels&&qt.byteArray.fill(15360,0,ae);break;default:console.error("THREE.EXRLoader: unsupported type: ",zt);break}return qt.bytesPerLine=qt.width*qt.inputSize*qt.channels,qt.outputChannels==4?qt.format=$i:qt.format=bv,dg?qt.colorSpace="srgb-linear":qt.encoding=3e3,qt}const Pi=new DataView(t),Sr=new Uint8Array(t),Js={value:0},lr=Di(Pi,t,Js),Ye=Ui(lr,Pi,Sr,Js,this.type),Xr={value:0},qn={R:0,G:1,B:2,A:3,Y:0};for(let q=0;q<Ye.height/Ye.scanlineBlockSize;q++){const rt=De(Pi,Js);Ye.size=De(Pi,Js),Ye.lines=rt+Ye.scanlineBlockSize>Ye.height?Ye.height-rt:Ye.scanlineBlockSize;const Lt=Ye.size<Ye.lines*Ye.bytesPerLine?Ye.uncompress(Ye):Dt(Ye);Js.value+=Ye.size;for(let zt=0;zt<Ye.scanlineBlockSize;zt++){const qt=zt+q*Ye.scanlineBlockSize;if(qt>=Ye.height)break;for(let he=0;he<Ye.channels;he++){const ae=qn[lr.channels[he].name];for(let X=0;X<Ye.width;X++){Xr.value=(zt*(Ye.channels*Ye.width)+he*Ye.width+X)*Ye.inputSize;const ut=(Ye.height-1-qt)*(Ye.width*Ye.outputChannels)+X*Ye.outputChannels+ae;Ye.byteArray[ut]=Ye.getter(Lt,Xr)}}}}return{header:lr,width:Ye.width,height:Ye.height,data:Ye.byteArray,format:Ye.format,[dg?"colorSpace":"encoding"]:Ye[dg?"colorSpace":"encoding"],type:this.type}}setDataType(t){return this.type=t,this}load(t,e,i,r){function a(l,u){dg?l.colorSpace=u.colorSpace:l.encoding=u.encoding,l.minFilter=oi,l.magFilter=oi,l.generateMipmaps=!1,l.flipY=!1,e&&e(l,u)}return super.load(t,a,i,r)}}const KX=Y.forwardRef(({makeDefault:n,camera:t,domElement:e,regress:i,onChange:r,onStart:a,onEnd:l,...u},h)=>{const{invalidate:p,camera:m,gl:v,events:_,set:b,get:S,performance:A,viewport:M}=_p(),x=t||m,T=e||_.connected||v.domElement,R=Y.useMemo(()=>new YX(x),[x]);return zb(()=>{R.enabled&&R.update()},-1),Y.useEffect(()=>(R.connect(T),()=>void R.dispose()),[T,i,R,p]),Y.useEffect(()=>{const O=I=>{p(),i&&A.regress(),r&&r(I)};return R.addEventListener("change",O),a&&R.addEventListener("start",a),l&&R.addEventListener("end",l),()=>{a&&R.removeEventListener("start",a),l&&R.removeEventListener("end",l),R.removeEventListener("change",O)}},[r,a,l,R,p]),Y.useEffect(()=>{R.handleResize()},[M]),Y.useEffect(()=>{if(n){const O=S().controls;return b({controls:R}),()=>b({controls:O})}},[n,R]),Y.createElement("primitive",j_({ref:h,object:R},u))}),QX=3e3,JX=3001,WL=(n,t,e)=>{let i;switch(n){case Cs:i=new Uint8ClampedArray(t*e*4);break;case Cr:i=new Uint16Array(t*e*4);break;case Dl:i=new Uint32Array(t*e*4);break;case sb:i=new Int8Array(t*e*4);break;case ab:i=new Int16Array(t*e*4);break;case xv:i=new Int32Array(t*e*4);break;case ki:i=new Float32Array(t*e*4);break;default:throw new Error("Unsupported data type")}return i};let u_;const $X=(n,t,e,i)=>{if(u_!==void 0)return u_;const r=new ka(1,1,i);t.setRenderTarget(r);const a=new Ni(new ku,new Sc({color:16777215}));t.render(a,e),t.setRenderTarget(null);const l=WL(n,r.width,r.height);return t.readRenderTargetPixels(r,0,0,r.width,r.height,l),r.dispose(),a.geometry.dispose(),a.material.dispose(),u_=l[0]!==0,u_};class VD{constructor(t){var e,i,r,a,l,u,h,p,m,v,_,b,S,A,M,x;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(R){throw this._renderer.setRenderTarget(null),R}this._renderer.setRenderTarget(null)},this._width=t.width,this._height=t.height,this._type=t.type,this._colorSpace=t.colorSpace;const T={format:$i,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((e=t.renderTargetOptions)===null||e===void 0?void 0:e.anisotropy)!==void 0?(i=t.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=t.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(a=t.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps:!1,magFilter:((l=t.renderTargetOptions)===null||l===void 0?void 0:l.magFilter)!==void 0?(u=t.renderTargetOptions)===null||u===void 0?void 0:u.magFilter:oi,minFilter:((h=t.renderTargetOptions)===null||h===void 0?void 0:h.minFilter)!==void 0?(p=t.renderTargetOptions)===null||p===void 0?void 0:p.minFilter:oi,samples:((m=t.renderTargetOptions)===null||m===void 0?void 0:m.samples)!==void 0?(v=t.renderTargetOptions)===null||v===void 0?void 0:v.samples:void 0,wrapS:((_=t.renderTargetOptions)===null||_===void 0?void 0:_.wrapS)!==void 0?(b=t.renderTargetOptions)===null||b===void 0?void 0:b.wrapS:or,wrapT:((S=t.renderTargetOptions)===null||S===void 0?void 0:S.wrapT)!==void 0?(A=t.renderTargetOptions)===null||A===void 0?void 0:A.wrapT:or};if(this._material=t.material,t.renderer?this._renderer=t.renderer:(this._renderer=VD.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Dv,this._camera=new Pp,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!$X(this._type,this._renderer,this._camera,T)){let R;switch(this._type){case Cr:R=this._renderer.extensions.has("EXT_color_buffer_float")?ki:void 0;break}R!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${ki}`),this._type=R):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Ni(new ku,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ka(this.width,this.height,T),this._renderTarget.texture.mapping=((M=t.renderTargetOptions)===null||M===void 0?void 0:M.mapping)!==void 0?(x=t.renderTargetOptions)===null||x===void 0?void 0:x.mapping:zu}static instantiateRenderer(){const t=new UD;return t.setSize(128,128),t}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const t=WL(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,t),t}toDataTexture(t){const e=new To(this.toArray(),this.width,this.height,$i,this._type,(t==null?void 0:t.mapping)||zu,(t==null?void 0:t.wrapS)||or,(t==null?void 0:t.wrapT)||or,(t==null?void 0:t.magFilter)||oi,(t==null?void 0:t.minFilter)||oi,(t==null?void 0:t.anisotropy)||1,Co);return e.generateMipmaps=(t==null?void 0:t.generateMipmaps)!==void 0?t==null?void 0:t.generateMipmaps:!1,e}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(t){this.disposeOnDemandRenderer(),t&&this.renderTarget.dispose(),this.material instanceof Ks&&Object.values(this.material.uniforms).forEach(e=>{e.value instanceof mi&&e.value.dispose()}),Object.values(this.material).forEach(e=>{e instanceof mi&&e.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(t){this._width=t,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(t){this._height=t,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(t){this._renderTarget=t,this._width=t.width,this._height=t.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const tY=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,eY=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class nY extends Ks{constructor({gamma:t,offsetHdr:e,offsetSdr:i,gainMapMin:r,gainMapMax:a,maxDisplayBoost:l,hdrCapacityMin:u,hdrCapacityMax:h,sdr:p,gainMap:m}){super({name:"GainMapDecoderMaterial",vertexShader:tY,fragmentShader:eY,uniforms:{sdr:{value:p},gainMap:{value:m},gamma:{value:new ct(1/t[0],1/t[1],1/t[2])},offsetHdr:{value:new ct().fromArray(e)},offsetSdr:{value:new ct().fromArray(i)},gainMapMin:{value:new ct().fromArray(r)},gainMapMax:{value:new ct().fromArray(a)},weightFactor:{value:(Math.log2(l)-u)/(h-u)}},blending:bl,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=l,this._hdrCapacityMin=u,this._hdrCapacityMax=h,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(t){this.uniforms.sdr.value=t}get gainMap(){return this.uniforms.gainMap.value}set gainMap(t){this.uniforms.gainMap.value=t}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(t){this.uniforms.offsetHdr.value.fromArray(t)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(t){this.uniforms.offsetSdr.value.fromArray(t)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(t){this.uniforms.gainMapMin.value.fromArray(t)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(t){this.uniforms.gainMapMax.value.fromArray(t)}get gamma(){const t=this.uniforms.gamma.value;return[1/t.x,1/t.y,1/t.z]}set gamma(t){const e=this.uniforms.gamma.value;e.x=1/t[0],e.y=1/t[1],e.z=1/t[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(t){this._hdrCapacityMin=t,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(t){this._hdrCapacityMax=t,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(t){this._maxDisplayBoost=Math.max(1,Math.min(65504,t)),this.calculateWeight()}calculateWeight(){const t=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,t))}}class ZL extends Error{}class KL extends Error{}const pg=(n,t,e)=>{const i=new RegExp(`${t}="([^"]*)"`,"i").exec(n);if(i)return i[1];const r=new RegExp(`<${t}[^>]*>([\\s\\S]*?)</${t}>`,"i").exec(n);if(r){const a=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(l=>l.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(e!==void 0)return e;throw new Error(`Can't find ${t} in gainmap metadata`)},iY=n=>{let t;typeof TextDecoder<"u"?t=new TextDecoder().decode(n):t=n.toString();let e=t.indexOf("<x:xmpmeta");for(;e!==-1;){const i=t.indexOf("x:xmpmeta>",e),r=t.slice(e,i+10);try{const a=pg(r,"hdrgm:GainMapMin","0"),l=pg(r,"hdrgm:GainMapMax"),u=pg(r,"hdrgm:Gamma","1"),h=pg(r,"hdrgm:OffsetSDR","0.015625"),p=pg(r,"hdrgm:OffsetHDR","0.015625"),m=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),v=m?m[1]:"0",_=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!_)throw new Error("Incomplete gainmap metadata");const b=_[1];return{gainMapMin:Array.isArray(a)?a.map(S=>parseFloat(S)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(l)?l.map(S=>parseFloat(S)):[parseFloat(l),parseFloat(l),parseFloat(l)],gamma:Array.isArray(u)?u.map(S=>parseFloat(S)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetSdr:Array.isArray(h)?h.map(S=>parseFloat(S)):[parseFloat(h),parseFloat(h),parseFloat(h)],offsetHdr:Array.isArray(p)?p.map(S=>parseFloat(S)):[parseFloat(p),parseFloat(p),parseFloat(p)],hdrCapacityMin:parseFloat(v),hdrCapacityMax:parseFloat(b)}}catch{}e=t.indexOf("<x:xmpmeta",i)}};class rY{constructor(t){this.options={debug:t&&t.debug!==void 0?t.debug:!1,extractFII:t&&t.extractFII!==void 0?t.extractFII:!0,extractNonFII:t&&t.extractNonFII!==void 0?t.extractNonFII:!0}}extract(t){return new Promise((e,i)=>{const r=this.options.debug,a=new DataView(t.buffer);if(a.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const l=a.byteLength;let u=2,h=0,p;for(;u<l;){if(++h>250){i(new Error(`Found no marker after ${h} loops 😵`));return}if(a.getUint8(u)!==255){i(new Error(`Not a valid marker at offset 0x${u.toString(16)}, found: 0x${a.getUint8(u).toString(16)}`));return}if(p=a.getUint8(u+1),r&&console.log(`Marker: ${p.toString(16)}`),p===226){r&&console.log("Found APP2 marker (0xffe2)");const m=u+4;if(a.getUint32(m)===1297106432){const v=m+4;let _;if(a.getUint16(v)===18761)_=!1;else if(a.getUint16(v)===19789)_=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(v+2,!_)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const b=a.getUint32(v+4,!_);if(b<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const S=v+b,A=a.getUint16(S,!_),M=S+2;let x=0;for(let I=M;I<M+12*A;I+=12)a.getUint16(I,!_)===45057&&(x=a.getUint32(I+8,!_));const R=S+2+A*12+4,O=[];for(let I=R;I<R+x*16;I+=16){const P={MPType:a.getUint32(I,!_),size:a.getUint32(I+4,!_),dataOffset:a.getUint32(I+8,!_),dependantImages:a.getUint32(I+12,!_),start:-1,end:-1,isFII:!1};P.dataOffset?(P.start=v+P.dataOffset,P.isFII=!1):(P.start=0,P.isFII=!0),P.end=P.start+P.size,O.push(P)}if(this.options.extractNonFII&&O.length){const I=new Blob([a]),P=[];for(const B of O){if(B.isFII&&!this.options.extractFII)continue;const N=I.slice(B.start,B.end+1,"image/jpeg");P.push(N)}e(P)}}}u+=2+a.getUint16(u+2)}})}}const sY=async n=>{const t=iY(n);if(!t)throw new KL("Gain map XMP metadata not found");const i=await new rY({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new ZL("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:t}},VR=n=>new Promise((t,e)=>{const i=document.createElement("img");i.onload=()=>{t(i)},i.onerror=r=>{e(r)},i.src=URL.createObjectURL(n)});class QL extends Ns{constructor(t,e){super(e),t&&(this._renderer=t),this._internalLoadingManager=new Ub}setRenderer(t){return this._renderer=t,this}setRenderTargetOptions(t){return this._renderTargetOptions=t,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const t=new nY({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new mi,sdr:new mi});return new VD({width:16,height:16,type:Cr,colorSpace:Co,material:t,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(t,e,i,r){const a=r?new Blob([r],{type:"image/jpeg"}):void 0,l=new Blob([i],{type:"image/jpeg"});let u,h,p=!1;if(typeof createImageBitmap>"u"){const _=await Promise.all([a?VR(a):Promise.resolve(void 0),VR(l)]);h=_[0],u=_[1],p=!0}else{const _=await Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(l,{imageOrientation:"flipY"})]);h=_[0],u=_[1]}const m=new mi(h||new ImageData(2,2),zu,or,or,oi,kM,$i,Cs,1,Co);m.flipY=p,m.needsUpdate=!0;const v=new mi(u,zu,or,or,oi,kM,$i,Cs,1,Vr);v.flipY=p,v.needsUpdate=!0,t.width=u.width,t.height=u.height,t.material.gainMap=m,t.material.sdr=v,t.material.gainMapMin=e.gainMapMin,t.material.gainMapMax=e.gainMapMax,t.material.offsetHdr=e.offsetHdr,t.material.offsetSdr=e.offsetSdr,t.material.gamma=e.gamma,t.material.hdrCapacityMin=e.hdrCapacityMin,t.material.hdrCapacityMax=e.hdrCapacityMax,t.material.maxDisplayBoost=Math.pow(2,e.hdrCapacityMax),t.material.needsUpdate=!0,t.render()}}class aY extends QL{load([t,e,i],r,a,l){const u=this.prepareQuadRenderer();let h,p,m;const v=async()=>{if(h&&p&&m){try{await this.render(u,m,h,p)}catch(L){this.manager.itemError(t),this.manager.itemError(e),this.manager.itemError(i),typeof l=="function"&&l(L),u.disposeOnDemandRenderer();return}typeof r=="function"&&r(u),this.manager.itemEnd(t),this.manager.itemEnd(e),this.manager.itemEnd(i),u.disposeOnDemandRenderer()}};let _=!0,b=0,S=0,A=!0,M=0,x=0,T=!0,R=0,O=0;const I=()=>{if(typeof a=="function"){const L=b+M+R,U=S+x+O,F=_&&A&&T;a(new ProgressEvent("progress",{lengthComputable:F,loaded:U,total:L}))}};this.manager.itemStart(t),this.manager.itemStart(e),this.manager.itemStart(i);const P=new va(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(t,async L=>{if(typeof L=="string")throw new Error("Invalid sdr buffer");h=L,await v()},L=>{_=L.lengthComputable,S=L.loaded,b=L.total,I()},L=>{this.manager.itemError(t),typeof l=="function"&&l(L)});const B=new va(this._internalLoadingManager);B.setResponseType("arraybuffer"),B.setRequestHeader(this.requestHeader),B.setPath(this.path),B.setWithCredentials(this.withCredentials),B.load(e,async L=>{if(typeof L=="string")throw new Error("Invalid gainmap buffer");p=L,await v()},L=>{A=L.lengthComputable,x=L.loaded,M=L.total,I()},L=>{this.manager.itemError(e),typeof l=="function"&&l(L)});const N=new va(this._internalLoadingManager);return N.setRequestHeader(this.requestHeader),N.setPath(this.path),N.setWithCredentials(this.withCredentials),N.load(i,async L=>{if(typeof L!="string")throw new Error("Invalid metadata string");m=JSON.parse(L),await v()},L=>{T=L.lengthComputable,O=L.loaded,R=L.total,I()},L=>{this.manager.itemError(i),typeof l=="function"&&l(L)}),u}}class oY extends QL{load(t,e,i,r){const a=this.prepareQuadRenderer(),l=new va(this._internalLoadingManager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(this.withCredentials),this.manager.itemStart(t),l.load(t,async u=>{if(typeof u=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const h=new Uint8Array(u);let p,m,v;try{const _=await sY(h);p=_.sdr,m=_.gainMap,v=_.metadata}catch(_){if(_ instanceof KL||_ instanceof ZL)console.warn(`Failure to reconstruct an HDR image from ${t}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),v={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},p=h;else throw _}try{await this.render(a,v,p,m)}catch(_){this.manager.itemError(t),typeof r=="function"&&r(_),a.disposeOnDemandRenderer();return}typeof e=="function"&&e(a),this.manager.itemEnd(t),a.disposeOnDemandRenderer()},i,u=>{this.manager.itemError(t),typeof r=="function"&&r(u)}),a}}const uv={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},JL="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",rp=n=>Array.isArray(n),kD=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Hb({files:n=kD,path:t="",preset:e=void 0,encoding:i=void 0,extensions:r}={}){let a=null,l=!1;e&&(GD(e),n=uv[e],t=JL),l=rp(n);const{extension:u,isCubemap:h}=jD(n);if(a=qD(u),!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);const p=_p(b=>b.gl);Y.useLayoutEffect(()=>{if(u!=="webp"&&u!=="jpg"&&u!=="jpeg")return;function b(){xp.clear(a,l?[n]:n)}p.domElement.addEventListener("webglcontextlost",b,{once:!0})},[n,p.domElement]);const m=xp(a,l?[n]:n,b=>{(u==="webp"||u==="jpg"||u==="jpeg")&&b.setRenderer(p),b.setPath==null||b.setPath(t),r&&r(b)});let v=l?m[0]:m;if(u==="jpg"||u==="jpeg"||u==="webp"){var _;v=(_=v.renderTarget)==null?void 0:_.texture}return v.mapping=h?El:cp,"colorSpace"in v?v.colorSpace=i??h?"srgb":"srgb-linear":v.encoding=i??h?JX:QX,v}const lY={files:kD,path:"",preset:void 0,extensions:void 0};Hb.preload=n=>{const t={...lY,...n};let{files:e,path:i=""}=t;const{preset:r,extensions:a}=t;r&&(GD(r),e=uv[r],i=JL);const{extension:l}=jD(e);if(l==="webp"||l==="jpg"||l==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const u=qD(l);if(!u)throw new Error("useEnvironment: Unrecognized file extension: "+e);xp.preload(u,rp(e)?[e]:e,h=>{h.setPath==null||h.setPath(i),a&&a(h)})};const cY={files:kD,preset:void 0};Hb.clear=n=>{const t={...cY,...n};let{files:e}=t;const{preset:i}=t;i&&(GD(i),e=uv[i]);const{extension:r}=jD(e),a=qD(r);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+e);xp.clear(a,rp(e)?[e]:e)};function GD(n){if(!(n in uv))throw new Error("Preset must be one of: "+Object.keys(uv).join(", "))}function jD(n){var t;const e=rp(n)&&n.length===6,i=rp(n)&&n.length===3&&n.some(l=>l.endsWith("json")),r=rp(n)?n[0]:n;return{extension:e?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(t=r.split(".").pop())==null||(t=t.split("?"))==null||(t=t.shift())==null?void 0:t.toLowerCase(),isCubemap:e,isGainmap:i}}function qD(n){return n==="cube"?QN:n==="hdr"?WX:n==="exr"?ZX:n==="jpg"||n==="jpeg"?oY:n==="webp"?aY:null}const uY=n=>n.current&&n.current.isScene,fY=n=>uY(n)?n.current:n;function XD(n,t,e,i,r={}){var a,l,u,h;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const p=fY(t||e),m=p.background,v=p.environment,_={backgroundBlurriness:p.backgroundBlurriness,backgroundIntensity:p.backgroundIntensity,backgroundRotation:(a=(l=p.backgroundRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:p.environmentIntensity,environmentRotation:(u=(h=p.environmentRotation)==null||h.clone==null?void 0:h.clone())!==null&&u!==void 0?u:[0,0,0]};return n!=="only"&&(p.environment=i),n&&(p.background=i),yl(p,r),()=>{n!=="only"&&(p.environment=v),n&&(p.background=m),yl(p,_)}}function YD({scene:n,background:t=!1,map:e,...i}){const r=_p(a=>a.scene);return Y.useLayoutEffect(()=>{if(e)return XD(t,n,r,e,i)}),null}function $L({background:n=!1,scene:t,blur:e,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:l,environmentRotation:u,...h}){const p=Hb(h),m=_p(v=>v.scene);return Y.useLayoutEffect(()=>XD(n,t,m,p,{backgroundBlurriness:e??i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:l,environmentRotation:u})),Y.useEffect(()=>()=>{p.dispose()},[p]),null}function hY({children:n,near:t=.1,far:e=1e3,resolution:i=256,frames:r=1,map:a,background:l=!1,blur:u,backgroundBlurriness:h,backgroundIntensity:p,backgroundRotation:m,environmentIntensity:v,environmentRotation:_,scene:b,files:S,path:A,preset:M=void 0,extensions:x}){const T=_p(N=>N.gl),R=_p(N=>N.scene),O=Y.useRef(null),[I]=Y.useState(()=>new Dv),P=Y.useMemo(()=>{const N=new oD(i);return N.texture.type=Cr,N},[i]);Y.useEffect(()=>()=>{P.dispose()},[P]),Y.useLayoutEffect(()=>{if(r===1){const N=T.autoClear;T.autoClear=!0,O.current.update(T,I),T.autoClear=N}return XD(l,b,R,P.texture,{backgroundBlurriness:u??h,backgroundIntensity:p,backgroundRotation:m,environmentIntensity:v,environmentRotation:_})},[n,I,P.texture,b,R,l,r,T]);let B=1;return zb(()=>{if(r===1/0||B<r){const N=T.autoClear;T.autoClear=!0,O.current.update(T,I),T.autoClear=N,B++}}),Y.createElement(Y.Fragment,null,dX(Y.createElement(Y.Fragment,null,n,Y.createElement("cubeCamera",{ref:O,args:[t,e,P]}),S||M?Y.createElement($L,{background:!0,files:S,preset:M,path:A,extensions:x}):a?Y.createElement(YD,{background:!0,map:a,extensions:x}):null),I))}function dY(n){var t,e,i,r;const a=Hb(n),l=n.map||a;Y.useMemo(()=>UL({GroundProjectedEnvImpl:FX}),[]),Y.useEffect(()=>()=>{a.dispose()},[a]);const u=Y.useMemo(()=>[l],[l]),h=(t=n.ground)==null?void 0:t.height,p=(e=n.ground)==null?void 0:e.radius,m=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return Y.createElement(Y.Fragment,null,Y.createElement(YD,j_({},n,{map:l})),Y.createElement("groundProjectedEnvImpl",{args:u,scale:m,height:h,radius:p}))}function pY(n){return n.ground?Y.createElement(dY,n):n.map?Y.createElement(YD,n):n.children?Y.createElement(hY,n):Y.createElement($L,n)}function mY(n,t,e){var i,r=1;n==null&&(n=0),t==null&&(t=0),e==null&&(e=0);function a(){var l,u=i.length,h,p=0,m=0,v=0;for(l=0;l<u;++l)h=i[l],p+=h.x||0,m+=h.y||0,v+=h.z||0;for(p=(p/u-n)*r,m=(m/u-t)*r,v=(v/u-e)*r,l=0;l<u;++l)h=i[l],p&&(h.x-=p),m&&(h.y-=m),v&&(h.z-=v)}return a.initialize=function(l){i=l},a.x=function(l){return arguments.length?(n=+l,a):n},a.y=function(l){return arguments.length?(t=+l,a):t},a.z=function(l){return arguments.length?(e=+l,a):e},a.strength=function(l){return arguments.length?(r=+l,a):r},a}function gY(n){const t=+this._x.call(null,n);return tU(this.cover(t),t,n)}function tU(n,t,e){if(isNaN(t))return n;var i,r=n._root,a={data:e},l=n._x0,u=n._x1,h,p,m,v,_;if(!r)return n._root=a,n;for(;r.length;)if((m=t>=(h=(l+u)/2))?l=h:u=h,i=r,!(r=r[v=+m]))return i[v]=a,n;if(p=+n._x.call(null,r.data),t===p)return a.next=r,i?i[v]=a:n._root=a,n;do i=i?i[v]=new Array(2):n._root=new Array(2),(m=t>=(h=(l+u)/2))?l=h:u=h;while((v=+m)==(_=+(p>=h)));return i[_]=r,i[v]=a,n}function vY(n){Array.isArray(n)||(n=Array.from(n));const t=n.length,e=new Float64Array(t);let i=1/0,r=-1/0;for(let a=0,l;a<t;++a)isNaN(l=+this._x.call(null,n[a]))||(e[a]=l,l<i&&(i=l),l>r&&(r=l));if(i>r)return this;this.cover(i).cover(r);for(let a=0;a<t;++a)tU(this,e[a],n[a]);return this}function yY(n){if(isNaN(n=+n))return this;var t=this._x0,e=this._x1;if(isNaN(t))e=(t=Math.floor(n))+1;else{for(var i=e-t||1,r=this._root,a,l;t>n||n>=e;)switch(l=+(n<t),a=new Array(2),a[l]=r,r=a,i*=2,l){case 0:e=t+i;break;case 1:t=e-i;break}this._root&&this._root.length&&(this._root=r)}return this._x0=t,this._x1=e,this}function _Y(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function xY(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function pc(n,t,e){this.node=n,this.x0=t,this.x1=e}function bY(n,t){var e,i=this._x0,r,a,l=this._x1,u=[],h=this._root,p,m;for(h&&u.push(new pc(h,i,l)),t==null?t=1/0:(i=n-t,l=n+t);p=u.pop();)if(!(!(h=p.node)||(r=p.x0)>l||(a=p.x1)<i))if(h.length){var v=(r+a)/2;u.push(new pc(h[1],v,a),new pc(h[0],r,v)),(m=+(n>=v))&&(p=u[u.length-1],u[u.length-1]=u[u.length-1-m],u[u.length-1-m]=p)}else{var _=Math.abs(n-+this._x.call(null,h.data));_<t&&(t=_,i=n-_,l=n+_,e=h.data)}return e}function SY(n){if(isNaN(h=+this._x.call(null,n)))return this;var t,e=this._root,i,r,a,l=this._x0,u=this._x1,h,p,m,v,_;if(!e)return this;if(e.length)for(;;){if((m=h>=(p=(l+u)/2))?l=p:u=p,t=e,!(e=e[v=+m]))return this;if(!e.length)break;t[v+1&1]&&(i=t,_=v)}for(;e.data!==n;)if(r=e,!(e=e.next))return this;return(a=e.next)&&delete e.next,r?(a?r.next=a:delete r.next,this):t?(a?t[v]=a:delete t[v],(e=t[0]||t[1])&&e===(t[1]||t[0])&&!e.length&&(i?i[_]=e:this._root=e),this):(this._root=a,this)}function MY(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function EY(){return this._root}function DY(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function AY(n){var t=[],e,i=this._root,r,a,l;for(i&&t.push(new pc(i,this._x0,this._x1));e=t.pop();)if(!n(i=e.node,a=e.x0,l=e.x1)&&i.length){var u=(a+l)/2;(r=i[1])&&t.push(new pc(r,u,l)),(r=i[0])&&t.push(new pc(r,a,u))}return this}function TY(n){var t=[],e=[],i;for(this._root&&t.push(new pc(this._root,this._x0,this._x1));i=t.pop();){var r=i.node;if(r.length){var a,l=i.x0,u=i.x1,h=(l+u)/2;(a=r[0])&&t.push(new pc(a,l,h)),(a=r[1])&&t.push(new pc(a,h,u))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.x1);return this}function wY(n){return n[0]}function RY(n){return arguments.length?(this._x=n,this):this._x}function eU(n,t){var e=new WD(t??wY,NaN,NaN);return n==null?e:e.addAll(n)}function WD(n,t,e){this._x=n,this._x0=t,this._x1=e,this._root=void 0}function kR(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var Qs=eU.prototype=WD.prototype;Qs.copy=function(){var n=new WD(this._x,this._x0,this._x1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=kR(t),n;for(e=[{source:t,target:n._root=new Array(2)}];t=e.pop();)for(var r=0;r<2;++r)(i=t.source[r])&&(i.length?e.push({source:i,target:t.target[r]=new Array(2)}):t.target[r]=kR(i));return n};Qs.add=gY;Qs.addAll=vY;Qs.cover=yY;Qs.data=_Y;Qs.extent=xY;Qs.find=bY;Qs.remove=SY;Qs.removeAll=MY;Qs.root=EY;Qs.size=DY;Qs.visit=AY;Qs.visitAfter=TY;Qs.x=RY;function CY(n){const t=+this._x.call(null,n),e=+this._y.call(null,n);return nU(this.cover(t,e),t,e,n)}function nU(n,t,e,i){if(isNaN(t)||isNaN(e))return n;var r,a=n._root,l={data:i},u=n._x0,h=n._y0,p=n._x1,m=n._y1,v,_,b,S,A,M,x,T;if(!a)return n._root=l,n;for(;a.length;)if((A=t>=(v=(u+p)/2))?u=v:p=v,(M=e>=(_=(h+m)/2))?h=_:m=_,r=a,!(a=a[x=M<<1|A]))return r[x]=l,n;if(b=+n._x.call(null,a.data),S=+n._y.call(null,a.data),t===b&&e===S)return l.next=a,r?r[x]=l:n._root=l,n;do r=r?r[x]=new Array(4):n._root=new Array(4),(A=t>=(v=(u+p)/2))?u=v:p=v,(M=e>=(_=(h+m)/2))?h=_:m=_;while((x=M<<1|A)===(T=(S>=_)<<1|b>=v));return r[T]=a,r[x]=l,n}function OY(n){var t,e,i=n.length,r,a,l=new Array(i),u=new Array(i),h=1/0,p=1/0,m=-1/0,v=-1/0;for(e=0;e<i;++e)isNaN(r=+this._x.call(null,t=n[e]))||isNaN(a=+this._y.call(null,t))||(l[e]=r,u[e]=a,r<h&&(h=r),r>m&&(m=r),a<p&&(p=a),a>v&&(v=a));if(h>m||p>v)return this;for(this.cover(h,p).cover(m,v),e=0;e<i;++e)nU(this,l[e],u[e],n[e]);return this}function NY(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(e))r=(e=Math.floor(n))+1,a=(i=Math.floor(t))+1;else{for(var l=r-e||1,u=this._root,h,p;e>n||n>=r||i>t||t>=a;)switch(p=(t<i)<<1|n<e,h=new Array(4),h[p]=u,u=h,l*=2,p){case 0:r=e+l,a=i+l;break;case 1:e=r-l,a=i+l;break;case 2:r=e+l,i=a-l;break;case 3:e=r-l,i=a-l;break}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=i,this._x1=r,this._y1=a,this}function LY(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function UY(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ts(n,t,e,i,r){this.node=n,this.x0=t,this.y0=e,this.x1=i,this.y1=r}function PY(n,t,e){var i,r=this._x0,a=this._y0,l,u,h,p,m=this._x1,v=this._y1,_=[],b=this._root,S,A;for(b&&_.push(new Ts(b,r,a,m,v)),e==null?e=1/0:(r=n-e,a=t-e,m=n+e,v=t+e,e*=e);S=_.pop();)if(!(!(b=S.node)||(l=S.x0)>m||(u=S.y0)>v||(h=S.x1)<r||(p=S.y1)<a))if(b.length){var M=(l+h)/2,x=(u+p)/2;_.push(new Ts(b[3],M,x,h,p),new Ts(b[2],l,x,M,p),new Ts(b[1],M,u,h,x),new Ts(b[0],l,u,M,x)),(A=(t>=x)<<1|n>=M)&&(S=_[_.length-1],_[_.length-1]=_[_.length-1-A],_[_.length-1-A]=S)}else{var T=n-+this._x.call(null,b.data),R=t-+this._y.call(null,b.data),O=T*T+R*R;if(O<e){var I=Math.sqrt(e=O);r=n-I,a=t-I,m=n+I,v=t+I,i=b.data}}return i}function IY(n){if(isNaN(m=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n)))return this;var t,e=this._root,i,r,a,l=this._x0,u=this._y0,h=this._x1,p=this._y1,m,v,_,b,S,A,M,x;if(!e)return this;if(e.length)for(;;){if((S=m>=(_=(l+h)/2))?l=_:h=_,(A=v>=(b=(u+p)/2))?u=b:p=b,t=e,!(e=e[M=A<<1|S]))return this;if(!e.length)break;(t[M+1&3]||t[M+2&3]||t[M+3&3])&&(i=t,x=M)}for(;e.data!==n;)if(r=e,!(e=e.next))return this;return(a=e.next)&&delete e.next,r?(a?r.next=a:delete r.next,this):t?(a?t[M]=a:delete t[M],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(i?i[x]=e:this._root=e),this):(this._root=a,this)}function zY(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function BY(){return this._root}function HY(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function FY(n){var t=[],e,i=this._root,r,a,l,u,h;for(i&&t.push(new Ts(i,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!n(i=e.node,a=e.x0,l=e.y0,u=e.x1,h=e.y1)&&i.length){var p=(a+u)/2,m=(l+h)/2;(r=i[3])&&t.push(new Ts(r,p,m,u,h)),(r=i[2])&&t.push(new Ts(r,a,m,p,h)),(r=i[1])&&t.push(new Ts(r,p,l,u,m)),(r=i[0])&&t.push(new Ts(r,a,l,p,m))}return this}function VY(n){var t=[],e=[],i;for(this._root&&t.push(new Ts(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var r=i.node;if(r.length){var a,l=i.x0,u=i.y0,h=i.x1,p=i.y1,m=(l+h)/2,v=(u+p)/2;(a=r[0])&&t.push(new Ts(a,l,u,m,v)),(a=r[1])&&t.push(new Ts(a,m,u,h,v)),(a=r[2])&&t.push(new Ts(a,l,v,m,p)),(a=r[3])&&t.push(new Ts(a,m,v,h,p))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function kY(n){return n[0]}function GY(n){return arguments.length?(this._x=n,this):this._x}function jY(n){return n[1]}function qY(n){return arguments.length?(this._y=n,this):this._y}function iU(n,t,e){var i=new ZD(t??kY,e??jY,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function ZD(n,t,e,i,r,a){this._x=n,this._y=t,this._x0=e,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function GR(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var Ls=iU.prototype=ZD.prototype;Ls.copy=function(){var n=new ZD(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=GR(t),n;for(e=[{source:t,target:n._root=new Array(4)}];t=e.pop();)for(var r=0;r<4;++r)(i=t.source[r])&&(i.length?e.push({source:i,target:t.target[r]=new Array(4)}):t.target[r]=GR(i));return n};Ls.add=CY;Ls.addAll=OY;Ls.cover=NY;Ls.data=LY;Ls.extent=UY;Ls.find=PY;Ls.remove=IY;Ls.removeAll=zY;Ls.root=BY;Ls.size=HY;Ls.visit=FY;Ls.visitAfter=VY;Ls.x=GY;Ls.y=qY;function XY(n){const t=+this._x.call(null,n),e=+this._y.call(null,n),i=+this._z.call(null,n);return rU(this.cover(t,e,i),t,e,i,n)}function rU(n,t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i))return n;var a,l=n._root,u={data:r},h=n._x0,p=n._y0,m=n._z0,v=n._x1,_=n._y1,b=n._z1,S,A,M,x,T,R,O,I,P,B,N;if(!l)return n._root=u,n;for(;l.length;)if((O=t>=(S=(h+v)/2))?h=S:v=S,(I=e>=(A=(p+_)/2))?p=A:_=A,(P=i>=(M=(m+b)/2))?m=M:b=M,a=l,!(l=l[B=P<<2|I<<1|O]))return a[B]=u,n;if(x=+n._x.call(null,l.data),T=+n._y.call(null,l.data),R=+n._z.call(null,l.data),t===x&&e===T&&i===R)return u.next=l,a?a[B]=u:n._root=u,n;do a=a?a[B]=new Array(8):n._root=new Array(8),(O=t>=(S=(h+v)/2))?h=S:v=S,(I=e>=(A=(p+_)/2))?p=A:_=A,(P=i>=(M=(m+b)/2))?m=M:b=M;while((B=P<<2|I<<1|O)===(N=(R>=M)<<2|(T>=A)<<1|x>=S));return a[N]=l,a[B]=u,n}function YY(n){Array.isArray(n)||(n=Array.from(n));const t=n.length,e=new Float64Array(t),i=new Float64Array(t),r=new Float64Array(t);let a=1/0,l=1/0,u=1/0,h=-1/0,p=-1/0,m=-1/0;for(let v=0,_,b,S,A;v<t;++v)isNaN(b=+this._x.call(null,_=n[v]))||isNaN(S=+this._y.call(null,_))||isNaN(A=+this._z.call(null,_))||(e[v]=b,i[v]=S,r[v]=A,b<a&&(a=b),b>h&&(h=b),S<l&&(l=S),S>p&&(p=S),A<u&&(u=A),A>m&&(m=A));if(a>h||l>p||u>m)return this;this.cover(a,l,u).cover(h,p,m);for(let v=0;v<t;++v)rU(this,e[v],i[v],r[v],n[v]);return this}function WY(n,t,e){if(isNaN(n=+n)||isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,r=this._y0,a=this._z0,l=this._x1,u=this._y1,h=this._z1;if(isNaN(i))l=(i=Math.floor(n))+1,u=(r=Math.floor(t))+1,h=(a=Math.floor(e))+1;else{for(var p=l-i||1,m=this._root,v,_;i>n||n>=l||r>t||t>=u||a>e||e>=h;)switch(_=(e<a)<<2|(t<r)<<1|n<i,v=new Array(8),v[_]=m,m=v,p*=2,_){case 0:l=i+p,u=r+p,h=a+p;break;case 1:i=l-p,u=r+p,h=a+p;break;case 2:l=i+p,r=u-p,h=a+p;break;case 3:i=l-p,r=u-p,h=a+p;break;case 4:l=i+p,u=r+p,a=h-p;break;case 5:i=l-p,u=r+p,a=h-p;break;case 6:l=i+p,r=u-p,a=h-p;break;case 7:i=l-p,r=u-p,a=h-p;break}this._root&&this._root.length&&(this._root=m)}return this._x0=i,this._y0=r,this._z0=a,this._x1=l,this._y1=u,this._z1=h,this}function ZY(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function KY(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function xi(n,t,e,i,r,a,l){this.node=n,this.x0=t,this.y0=e,this.z0=i,this.x1=r,this.y1=a,this.z1=l}function QY(n,t,e,i){var r,a=this._x0,l=this._y0,u=this._z0,h,p,m,v,_,b,S=this._x1,A=this._y1,M=this._z1,x=[],T=this._root,R,O;for(T&&x.push(new xi(T,a,l,u,S,A,M)),i==null?i=1/0:(a=n-i,l=t-i,u=e-i,S=n+i,A=t+i,M=e+i,i*=i);R=x.pop();)if(!(!(T=R.node)||(h=R.x0)>S||(p=R.y0)>A||(m=R.z0)>M||(v=R.x1)<a||(_=R.y1)<l||(b=R.z1)<u))if(T.length){var I=(h+v)/2,P=(p+_)/2,B=(m+b)/2;x.push(new xi(T[7],I,P,B,v,_,b),new xi(T[6],h,P,B,I,_,b),new xi(T[5],I,p,B,v,P,b),new xi(T[4],h,p,B,I,P,b),new xi(T[3],I,P,m,v,_,B),new xi(T[2],h,P,m,I,_,B),new xi(T[1],I,p,m,v,P,B),new xi(T[0],h,p,m,I,P,B)),(O=(e>=B)<<2|(t>=P)<<1|n>=I)&&(R=x[x.length-1],x[x.length-1]=x[x.length-1-O],x[x.length-1-O]=R)}else{var N=n-+this._x.call(null,T.data),L=t-+this._y.call(null,T.data),U=e-+this._z.call(null,T.data),F=N*N+L*L+U*U;if(F<i){var K=Math.sqrt(i=F);a=n-K,l=t-K,u=e-K,S=n+K,A=t+K,M=e+K,r=T.data}}return r}const JY=(n,t,e,i,r,a)=>Math.sqrt((n-i)**2+(t-r)**2+(e-a)**2);function $Y(n,t,e,i){const r=[],a=n-i,l=t-i,u=e-i,h=n+i,p=t+i,m=e+i;return this.visit((v,_,b,S,A,M,x)=>{if(!v.length)do{const T=v.data;JY(n,t,e,this._x(T),this._y(T),this._z(T))<=i&&r.push(T)}while(v=v.next);return _>h||b>p||S>m||A<a||M<l||x<u}),r}function tW(n){if(isNaN(_=+this._x.call(null,n))||isNaN(b=+this._y.call(null,n))||isNaN(S=+this._z.call(null,n)))return this;var t,e=this._root,i,r,a,l=this._x0,u=this._y0,h=this._z0,p=this._x1,m=this._y1,v=this._z1,_,b,S,A,M,x,T,R,O,I,P;if(!e)return this;if(e.length)for(;;){if((T=_>=(A=(l+p)/2))?l=A:p=A,(R=b>=(M=(u+m)/2))?u=M:m=M,(O=S>=(x=(h+v)/2))?h=x:v=x,t=e,!(e=e[I=O<<2|R<<1|T]))return this;if(!e.length)break;(t[I+1&7]||t[I+2&7]||t[I+3&7]||t[I+4&7]||t[I+5&7]||t[I+6&7]||t[I+7&7])&&(i=t,P=I)}for(;e.data!==n;)if(r=e,!(e=e.next))return this;return(a=e.next)&&delete e.next,r?(a?r.next=a:delete r.next,this):t?(a?t[I]=a:delete t[I],(e=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&e===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!e.length&&(i?i[P]=e:this._root=e),this):(this._root=a,this)}function eW(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function nW(){return this._root}function iW(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function rW(n){var t=[],e,i=this._root,r,a,l,u,h,p,m;for(i&&t.push(new xi(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=t.pop();)if(!n(i=e.node,a=e.x0,l=e.y0,u=e.z0,h=e.x1,p=e.y1,m=e.z1)&&i.length){var v=(a+h)/2,_=(l+p)/2,b=(u+m)/2;(r=i[7])&&t.push(new xi(r,v,_,b,h,p,m)),(r=i[6])&&t.push(new xi(r,a,_,b,v,p,m)),(r=i[5])&&t.push(new xi(r,v,l,b,h,_,m)),(r=i[4])&&t.push(new xi(r,a,l,b,v,_,m)),(r=i[3])&&t.push(new xi(r,v,_,u,h,p,b)),(r=i[2])&&t.push(new xi(r,a,_,u,v,p,b)),(r=i[1])&&t.push(new xi(r,v,l,u,h,_,b)),(r=i[0])&&t.push(new xi(r,a,l,u,v,_,b))}return this}function sW(n){var t=[],e=[],i;for(this._root&&t.push(new xi(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=t.pop();){var r=i.node;if(r.length){var a,l=i.x0,u=i.y0,h=i.z0,p=i.x1,m=i.y1,v=i.z1,_=(l+p)/2,b=(u+m)/2,S=(h+v)/2;(a=r[0])&&t.push(new xi(a,l,u,h,_,b,S)),(a=r[1])&&t.push(new xi(a,_,u,h,p,b,S)),(a=r[2])&&t.push(new xi(a,l,b,h,_,m,S)),(a=r[3])&&t.push(new xi(a,_,b,h,p,m,S)),(a=r[4])&&t.push(new xi(a,l,u,S,_,b,v)),(a=r[5])&&t.push(new xi(a,_,u,S,p,b,v)),(a=r[6])&&t.push(new xi(a,l,b,S,_,m,v)),(a=r[7])&&t.push(new xi(a,_,b,S,p,m,v))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function aW(n){return n[0]}function oW(n){return arguments.length?(this._x=n,this):this._x}function lW(n){return n[1]}function cW(n){return arguments.length?(this._y=n,this):this._y}function uW(n){return n[2]}function fW(n){return arguments.length?(this._z=n,this):this._z}function sU(n,t,e,i){var r=new KD(t??aW,e??lW,i??uW,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function KD(n,t,e,i,r,a,l,u,h){this._x=n,this._y=t,this._z=e,this._x0=i,this._y0=r,this._z0=a,this._x1=l,this._y1=u,this._z1=h,this._root=void 0}function jR(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var qr=sU.prototype=KD.prototype;qr.copy=function(){var n=new KD(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=jR(t),n;for(e=[{source:t,target:n._root=new Array(8)}];t=e.pop();)for(var r=0;r<8;++r)(i=t.source[r])&&(i.length?e.push({source:i,target:t.target[r]=new Array(8)}):t.target[r]=jR(i));return n};qr.add=XY;qr.addAll=YY;qr.cover=WY;qr.data=ZY;qr.extent=KY;qr.find=QY;qr.findAllWithinRadius=$Y;qr.remove=tW;qr.removeAll=eW;qr.root=nW;qr.size=iW;qr.visit=rW;qr.visitAfter=sW;qr.x=oW;qr.y=cW;qr.z=fW;function hc(n){return function(){return n}}function lc(n){return(n()-.5)*1e-6}function hW(n){return n.index}function qR(n,t){var e=n.get(t);if(!e)throw new Error("node not found: "+t);return e}function dW(n){var t=hW,e=_,i,r=hc(30),a,l,u,h,p,m,v=1;n==null&&(n=[]);function _(x){return 1/Math.min(h[x.source.index],h[x.target.index])}function b(x){for(var T=0,R=n.length;T<v;++T)for(var O=0,I,P,B,N=0,L=0,U=0,F,K;O<R;++O)I=n[O],P=I.source,B=I.target,N=B.x+B.vx-P.x-P.vx||lc(m),u>1&&(L=B.y+B.vy-P.y-P.vy||lc(m)),u>2&&(U=B.z+B.vz-P.z-P.vz||lc(m)),F=Math.sqrt(N*N+L*L+U*U),F=(F-a[O])/F*x*i[O],N*=F,L*=F,U*=F,B.vx-=N*(K=p[O]),u>1&&(B.vy-=L*K),u>2&&(B.vz-=U*K),P.vx+=N*(K=1-K),u>1&&(P.vy+=L*K),u>2&&(P.vz+=U*K)}function S(){if(l){var x,T=l.length,R=n.length,O=new Map(l.map((P,B)=>[t(P,B,l),P])),I;for(x=0,h=new Array(T);x<R;++x)I=n[x],I.index=x,typeof I.source!="object"&&(I.source=qR(O,I.source)),typeof I.target!="object"&&(I.target=qR(O,I.target)),h[I.source.index]=(h[I.source.index]||0)+1,h[I.target.index]=(h[I.target.index]||0)+1;for(x=0,p=new Array(R);x<R;++x)I=n[x],p[x]=h[I.source.index]/(h[I.source.index]+h[I.target.index]);i=new Array(R),A(),a=new Array(R),M()}}function A(){if(l)for(var x=0,T=n.length;x<T;++x)i[x]=+e(n[x],x,n)}function M(){if(l)for(var x=0,T=n.length;x<T;++x)a[x]=+r(n[x],x,n)}return b.initialize=function(x,...T){l=x,m=T.find(R=>typeof R=="function")||Math.random,u=T.find(R=>[1,2,3].includes(R))||2,S()},b.links=function(x){return arguments.length?(n=x,S(),b):n},b.id=function(x){return arguments.length?(t=x,b):t},b.iterations=function(x){return arguments.length?(v=+x,b):v},b.strength=function(x){return arguments.length?(e=typeof x=="function"?x:hc(+x),A(),b):e},b.distance=function(x){return arguments.length?(r=typeof x=="function"?x:hc(+x),M(),b):r},b}var pW={value:()=>{}};function aU(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new P_(e)}function P_(n){this._=n}function mW(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}P_.prototype=aU.prototype={constructor:P_,on:function(n,t){var e=this._,i=mW(n+"",e),r,a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((r=(n=i[a]).type)&&(r=gW(e[r],n.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(r=(n=i[a]).type)e[r]=XR(e[r],n.name,t);else if(t==null)for(r in e)e[r]=XR(e[r],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new P_(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,a;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=this._[n],i=0,r=a.length;i<r;++i)a[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,a=i.length;r<a;++r)i[r].value.apply(t,e)}};function gW(n,t){for(var e=0,i=n.length,r;e<i;++e)if((r=n[e]).name===t)return r.value}function XR(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=pW,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}var Sp=0,Dg=0,mg=0,oU=1e3,Ix,Ag,zx=0,dh=0,Fb=0,fv=typeof performance=="object"&&performance.now?performance:Date,lU=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function cU(){return dh||(lU(vW),dh=fv.now()+Fb)}function vW(){dh=0}function oE(){this._call=this._time=this._next=null}oE.prototype=uU.prototype={constructor:oE,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?cU():+e)+(t==null?0:+t),!this._next&&Ag!==this&&(Ag?Ag._next=this:Ix=this,Ag=this),this._call=n,this._time=e,lE()},stop:function(){this._call&&(this._call=null,this._time=1/0,lE())}};function uU(n,t,e){var i=new oE;return i.restart(n,t,e),i}function yW(){cU(),++Sp;for(var n=Ix,t;n;)(t=dh-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Sp}function YR(){dh=(zx=fv.now())+Fb,Sp=Dg=0;try{yW()}finally{Sp=0,xW(),dh=0}}function _W(){var n=fv.now(),t=n-zx;t>oU&&(Fb-=t,zx=n)}function xW(){for(var n,t=Ix,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Ix=e);Ag=n,lE(i)}function lE(n){if(!Sp){Dg&&(Dg=clearTimeout(Dg));var t=n-dh;t>24?(n<1/0&&(Dg=setTimeout(YR,n-fv.now()-Fb)),mg&&(mg=clearInterval(mg))):(mg||(zx=fv.now(),mg=setInterval(_W,oU)),Sp=1,lU(YR))}}const bW=1664525,SW=1013904223,WR=4294967296;function MW(){let n=1;return()=>(n=(bW*n+SW)%WR)/WR}var ZR=3;function eM(n){return n.x}function KR(n){return n.y}function EW(n){return n.z}var DW=10,AW=Math.PI*(3-Math.sqrt(5)),TW=Math.PI*20/(9+Math.sqrt(221));function wW(n,t){t=t||2;var e=Math.min(ZR,Math.max(1,Math.round(t))),i,r=1,a=.001,l=1-Math.pow(a,1/300),u=0,h=.6,p=new Map,m=uU(b),v=aU("tick","end"),_=MW();n==null&&(n=[]);function b(){S(),v.call("tick",i),r<a&&(m.stop(),v.call("end",i))}function S(x){var T,R=n.length,O;x===void 0&&(x=1);for(var I=0;I<x;++I)for(r+=(u-r)*l,p.forEach(function(P){P(r)}),T=0;T<R;++T)O=n[T],O.fx==null?O.x+=O.vx*=h:(O.x=O.fx,O.vx=0),e>1&&(O.fy==null?O.y+=O.vy*=h:(O.y=O.fy,O.vy=0)),e>2&&(O.fz==null?O.z+=O.vz*=h:(O.z=O.fz,O.vz=0));return i}function A(){for(var x=0,T=n.length,R;x<T;++x){if(R=n[x],R.index=x,R.fx!=null&&(R.x=R.fx),R.fy!=null&&(R.y=R.fy),R.fz!=null&&(R.z=R.fz),isNaN(R.x)||e>1&&isNaN(R.y)||e>2&&isNaN(R.z)){var O=DW*(e>2?Math.cbrt(.5+x):e>1?Math.sqrt(.5+x):x),I=x*AW,P=x*TW;e===1?R.x=O:e===2?(R.x=O*Math.cos(I),R.y=O*Math.sin(I)):(R.x=O*Math.sin(I)*Math.cos(P),R.y=O*Math.cos(I),R.z=O*Math.sin(I)*Math.sin(P))}(isNaN(R.vx)||e>1&&isNaN(R.vy)||e>2&&isNaN(R.vz))&&(R.vx=0,e>1&&(R.vy=0),e>2&&(R.vz=0))}}function M(x){return x.initialize&&x.initialize(n,_,e),x}return A(),i={tick:S,restart:function(){return m.restart(b),i},stop:function(){return m.stop(),i},numDimensions:function(x){return arguments.length?(e=Math.min(ZR,Math.max(1,Math.round(x))),p.forEach(M),i):e},nodes:function(x){return arguments.length?(n=x,A(),p.forEach(M),i):n},alpha:function(x){return arguments.length?(r=+x,i):r},alphaMin:function(x){return arguments.length?(a=+x,i):a},alphaDecay:function(x){return arguments.length?(l=+x,i):+l},alphaTarget:function(x){return arguments.length?(u=+x,i):u},velocityDecay:function(x){return arguments.length?(h=1-x,i):1-h},randomSource:function(x){return arguments.length?(_=x,p.forEach(M),i):_},force:function(x,T){return arguments.length>1?(T==null?p.delete(x):p.set(x,M(T)),i):p.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),T=x.shift()||0,R=(e>1?x.shift():null)||0,O=(e>2?x.shift():null)||0,I=x.shift()||1/0,P=0,B=n.length,N,L,U,F,K,tt;for(I*=I,P=0;P<B;++P)K=n[P],N=T-K.x,L=R-(K.y||0),U=O-(K.z||0),F=N*N+L*L+U*U,F<I&&(tt=K,I=F);return tt},on:function(x,T){return arguments.length>1?(v.on(x,T),i):v.on(x)}}}function RW(){var n,t,e,i,r,a=hc(-30),l,u=1,h=1/0,p=.81;function m(S){var A,M=n.length,x=(t===1?eU(n,eM):t===2?iU(n,eM,KR):t===3?sU(n,eM,KR,EW):null).visitAfter(_);for(r=S,A=0;A<M;++A)e=n[A],x.visit(b)}function v(){if(n){var S,A=n.length,M;for(l=new Array(A),S=0;S<A;++S)M=n[S],l[M.index]=+a(M,S,n)}}function _(S){var A=0,M,x,T=0,R,O,I,P,B=S.length;if(B){for(R=O=I=P=0;P<B;++P)(M=S[P])&&(x=Math.abs(M.value))&&(A+=M.value,T+=x,R+=x*(M.x||0),O+=x*(M.y||0),I+=x*(M.z||0));A*=Math.sqrt(4/B),S.x=R/T,t>1&&(S.y=O/T),t>2&&(S.z=I/T)}else{M=S,M.x=M.data.x,t>1&&(M.y=M.data.y),t>2&&(M.z=M.data.z);do A+=l[M.data.index];while(M=M.next)}S.value=A}function b(S,A,M,x,T){if(!S.value)return!0;var R=[M,x,T][t-1],O=S.x-e.x,I=t>1?S.y-e.y:0,P=t>2?S.z-e.z:0,B=R-A,N=O*O+I*I+P*P;if(B*B/p<N)return N<h&&(O===0&&(O=lc(i),N+=O*O),t>1&&I===0&&(I=lc(i),N+=I*I),t>2&&P===0&&(P=lc(i),N+=P*P),N<u&&(N=Math.sqrt(u*N)),e.vx+=O*S.value*r/N,t>1&&(e.vy+=I*S.value*r/N),t>2&&(e.vz+=P*S.value*r/N)),!0;if(S.length||N>=h)return;(S.data!==e||S.next)&&(O===0&&(O=lc(i),N+=O*O),t>1&&I===0&&(I=lc(i),N+=I*I),t>2&&P===0&&(P=lc(i),N+=P*P),N<u&&(N=Math.sqrt(u*N)));do S.data!==e&&(B=l[S.data.index]*r/N,e.vx+=O*B,t>1&&(e.vy+=I*B),t>2&&(e.vz+=P*B));while(S=S.next)}return m.initialize=function(S,...A){n=S,i=A.find(M=>typeof M=="function")||Math.random,t=A.find(M=>[1,2,3].includes(M))||2,v()},m.strength=function(S){return arguments.length?(a=typeof S=="function"?S:hc(+S),v(),m):a},m.distanceMin=function(S){return arguments.length?(u=S*S,m):Math.sqrt(u)},m.distanceMax=function(S){return arguments.length?(h=S*S,m):Math.sqrt(h)},m.theta=function(S){return arguments.length?(p=S*S,m):Math.sqrt(p)},m}function CW(n,t,e,i){var r,a,l=hc(.1),u,h;typeof n!="function"&&(n=hc(+n)),t==null&&(t=0),e==null&&(e=0),i==null&&(i=0);function p(v){for(var _=0,b=r.length;_<b;++_){var S=r[_],A=S.x-t||1e-6,M=(S.y||0)-e||1e-6,x=(S.z||0)-i||1e-6,T=Math.sqrt(A*A+M*M+x*x),R=(h[_]-T)*u[_]*v/T;S.vx+=A*R,a>1&&(S.vy+=M*R),a>2&&(S.vz+=x*R)}}function m(){if(r){var v,_=r.length;for(u=new Array(_),h=new Array(_),v=0;v<_;++v)h[v]=+n(r[v],v,r),u[v]=isNaN(h[v])?0:+l(r[v],v,r)}}return p.initialize=function(v,..._){r=v,a=_.find(b=>[1,2,3].includes(b))||2,m()},p.strength=function(v){return arguments.length?(l=typeof v=="function"?v:hc(+v),m(),p):l},p.radius=function(v){return arguments.length?(n=typeof v=="function"?v:hc(+v),m(),p):n},p.x=function(v){return arguments.length?(t=+v,p):t},p.y=function(v){return arguments.length?(e=+v,p):e},p.z=function(v){return arguments.length?(i=+v,p):i},p}var nM,QR;function QD(){if(QR)return nM;QR=1,nM=function(i){t(i);var r=n(i);return i.on=r.on,i.off=r.off,i.fire=r.fire,i};function n(e){var i=Object.create(null);return{on:function(r,a,l){if(typeof a!="function")throw new Error("callback is expected to be a function");var u=i[r];return u||(u=i[r]=[]),u.push({callback:a,ctx:l}),e},off:function(r,a){var l=typeof r>"u";if(l)return i=Object.create(null),e;if(i[r]){var u=typeof a!="function";if(u)delete i[r];else for(var h=i[r],p=0;p<h.length;++p)h[p].callback===a&&h.splice(p,1)}return e},fire:function(r){var a=i[r];if(!a)return e;var l;arguments.length>1&&(l=Array.prototype.splice.call(arguments,1));for(var u=0;u<a.length;++u){var h=a[u];h.callback.apply(h.ctx,l)}return e}}}function t(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var i=["on","fire","off"],r=0;r<i.length;++r)if(e.hasOwnProperty(i[r]))throw new Error("Subject cannot be eventified, since it already has property '"+i[r]+"'")}return nM}var iM,JR;function OW(){if(JR)return iM;JR=1,iM=t;var n=QD();function t(l){if(l=l||{},"uniqueLinkId"in l&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),l.multigraph=l.uniqueLinkId),l.multigraph===void 0&&(l.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var u=new Map,h=new Map,p={},m=0,v=l.multigraph?U:L,_=[],b=ht,S=ht,A=ht,M=ht,x={version:20,addNode:I,addLink:N,removeLink:nt,removeNode:B,getNode:P,getNodeCount:F,getLinkCount:K,getEdgeCount:K,getLinksCount:K,getNodesCount:F,getLinks:tt,forEachNode:ft,forEachLinkedNode:Q,forEachLink:V,beginUpdate:A,endUpdate:M,clear:k,hasLink:H,hasNode:P,getLink:H};return n(x),T(),x;function T(){var lt=x.on;x.on=pt;function pt(){return x.beginUpdate=A=dt,x.endUpdate=M=$,b=R,S=O,x.on=lt,lt.apply(x,arguments)}}function R(lt,pt){_.push({link:lt,changeType:pt})}function O(lt,pt){_.push({node:lt,changeType:pt})}function I(lt,pt){if(lt===void 0)throw new Error("Invalid node identifier");A();var xt=P(lt);return xt?(xt.data=pt,S(xt,"update")):(xt=new e(lt,pt),S(xt,"add")),u.set(lt,xt),M(),xt}function P(lt){return u.get(lt)}function B(lt){var pt=P(lt);if(!pt)return!1;A();var xt=pt.links;return xt&&(xt.forEach(at),pt.links=null),u.delete(lt),S(pt,"remove"),M(),!0}function N(lt,pt,xt){A();var Ct=P(lt)||I(lt),Ht=P(pt)||I(pt),Kt=v(lt,pt,xt),le=h.has(Kt.id);return h.set(Kt.id,Kt),i(Ct,Kt),lt!==pt&&i(Ht,Kt),b(Kt,le?"update":"add"),M(),Kt}function L(lt,pt,xt){var Ct=a(lt,pt),Ht=h.get(Ct);return Ht?(Ht.data=xt,Ht):new r(lt,pt,xt,Ct)}function U(lt,pt,xt){var Ct=a(lt,pt),Ht=p.hasOwnProperty(Ct);if(Ht||H(lt,pt)){Ht||(p[Ct]=0);var Kt="@"+ ++p[Ct];Ct=a(lt+Kt,pt+Kt)}return new r(lt,pt,xt,Ct)}function F(){return u.size}function K(){return h.size}function tt(lt){var pt=P(lt);return pt?pt.links:null}function nt(lt,pt){return pt!==void 0&&(lt=H(lt,pt)),at(lt)}function at(lt){if(!lt||!h.get(lt.id))return!1;A(),h.delete(lt.id);var pt=P(lt.fromId),xt=P(lt.toId);return pt&&pt.links.delete(lt),xt&&xt.links.delete(lt),b(lt,"remove"),M(),!0}function H(lt,pt){if(!(lt===void 0||pt===void 0))return h.get(a(lt,pt))}function k(){A(),ft(function(lt){B(lt.id)}),M()}function V(lt){if(typeof lt=="function")for(var pt=h.values(),xt=pt.next();!xt.done;){if(lt(xt.value))return!0;xt=pt.next()}}function Q(lt,pt,xt){var Ct=P(lt);if(Ct&&Ct.links&&typeof pt=="function")return xt?st(Ct.links,lt,pt):j(Ct.links,lt,pt)}function j(lt,pt,xt){for(var Ct,Ht=lt.values(),Kt=Ht.next();!Kt.done;){var le=Kt.value,ce=le.fromId===pt?le.toId:le.fromId;if(Ct=xt(u.get(ce),le),Ct)return!0;Kt=Ht.next()}}function st(lt,pt,xt){for(var Ct,Ht=lt.values(),Kt=Ht.next();!Kt.done;){var le=Kt.value;if(le.fromId===pt&&(Ct=xt(u.get(le.toId),le),Ct))return!0;Kt=Ht.next()}}function ht(){}function dt(){m+=1}function $(){m-=1,m===0&&_.length>0&&(x.fire("changed",_),_.length=0)}function ft(lt){if(typeof lt!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+lt);for(var pt=u.values(),xt=pt.next();!xt.done;){if(lt(xt.value))return!0;xt=pt.next()}}}function e(l,u){this.id=l,this.links=null,this.data=u}function i(l,u){l.links?l.links.add(u):l.links=new Set([u])}function r(l,u,h,p){this.fromId=l,this.toId=u,this.data=h,this.id=p}function a(l,u){return l.toString()+"👉 "+u.toString()}return iM}var NW=OW();const LW=bc(NW);var f_={exports:{}},Xd={exports:{}},rM,$R;function fU(){return $R||($R=1,rM=function(t){return t===0?"x":t===1?"y":t===2?"z":"c"+(t+1)}),rM}var sM,t2;function Bp(){if(t2)return sM;t2=1;const n=fU();return sM=function(e){return i;function i(r,a){let l=a&&a.indent||0,u=a&&a.join!==void 0?a.join:`
`,h=Array(l+1).join(" "),p=[];for(let m=0;m<e;++m){let v=n(m),_=m===0?"":h;p.push(_+r.replace(/{var}/g,v))}return p.join(u)}},sM}var e2;function UW(){if(e2)return Xd.exports;e2=1;const n=Bp();Xd.exports=t,Xd.exports.generateCreateBodyFunctionBody=e,Xd.exports.getVectorCode=r,Xd.exports.getBodyCode=i;function t(a,l){let u=e(a,l),{Body:h}=new Function(u)();return h}function e(a,l){return`
${r(a,l)}
${i(a)}
return {Body: Body, Vector: Vector};
`}function i(a){let l=n(a),u=l("{var}",{join:", "});return`
function Body(${u}) {
  this.isPinned = false;
  this.pos = new Vector(${u});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${u}) {
  ${l("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function r(a,l){let u=n(a),h="";return l&&(h=`${u(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${u("{var}",{join:", "})}) {
  ${h}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${u('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${u("this.{var} = v.{var};",{indent:4})}
    } else {
      ${u('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${u("this.{var} = ",{join:""})}0;
  };`}return Xd.exports}var ac={exports:{}},n2;function PW(){if(n2)return ac.exports;n2=1;const n=Bp(),t=fU();ac.exports=e,ac.exports.generateQuadTreeFunctionBody=i,ac.exports.getInsertStackCode=h,ac.exports.getQuadNodeCode=u,ac.exports.isSamePosition=r,ac.exports.getChildBodyCode=l,ac.exports.setChildBodyCode=a;function e(p){let m=i(p);return new Function(m)()}function i(p){let m=n(p),v=Math.pow(2,p);return`
${h()}
${u(p)}
${r(p)}
${l(p)}
${a(p)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${A("      node.")}
      node.body = null;
      node.mass = ${m("node.mass_{var} = ",{join:""})}0;
      ${m("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${m("var d{var};",{indent:4})}
    var r; 
    ${m("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${m("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${m("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${m("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${m("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${m("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${m("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${m("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${m("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${m("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < θ, treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${t(0)} - node.min_${t(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${m("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${S()}
        }
      }
    }

    ${m("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${m("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${m("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${m("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${m("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${m("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${m("root.min_{var} = {var}min;",{indent:4})}
    ${m("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${m("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${m("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${m("var min_{var} = node.min_{var};",{indent:8})}
        ${m("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${b(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${m("child.min_{var} = min_{var};",{indent:10})}
          ${m("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${m("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${m("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function b(M){let x=[],T=Array(M+1).join(" ");for(let R=0;R<p;++R)x.push(T+`if (${t(R)} > max_${t(R)}) {`),x.push(T+`  quadIdx = quadIdx + ${Math.pow(2,R)};`),x.push(T+`  min_${t(R)} = max_${t(R)};`),x.push(T+`  max_${t(R)} = node.max_${t(R)};`),x.push(T+"}");return x.join(`
`)}function S(){let M=Array(11).join(" "),x=[];for(let T=0;T<v;++T)x.push(M+`if (node.quad${T}) {`),x.push(M+`  queue[pushIdx] = node.quad${T};`),x.push(M+"  queueLength += 1;"),x.push(M+"  pushIdx += 1;"),x.push(M+"}");return x.join(`
`)}function A(M){let x=[];for(let T=0;T<v;++T)x.push(`${M}quad${T} = null;`);return x.join(`
`)}}function r(p){let m=n(p);return`
  function isSamePosition(point1, point2) {
    ${m("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${m("d{var} < 1e-8",{join:" && "})};
  }  
`}function a(p){var m=Math.pow(2,p);return`
function setChild(node, idx, child) {
  ${v()}
}`;function v(){let _=[];for(let b=0;b<m;++b){let S=b===0?"  ":"  else ";_.push(`${S}if (idx === ${b}) node.quad${b} = child;`)}return _.join(`
`)}}function l(p){return`function getChild(node, idx) {
${m()}
  return null;
}`;function m(){let v=[],_=Math.pow(2,p);for(let b=0;b<_;++b)v.push(`  if (idx === ${b}) return node.quad${b};`);return v.join(`
`)}}function u(p){let m=n(p),v=Math.pow(2,p);var _=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${b("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${m("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${m("this.min_{var} = 0;",{indent:2})}
  ${m("this.max_{var} = 0;",{indent:2})}
}
`;return _;function b(S){let A=[];for(let M=0;M<v;++M)A.push(`${S}quad${M} = null;`);return A.join(`
`)}}function h(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return ac.exports}var h_={exports:{}},i2;function IW(){if(i2)return h_.exports;i2=1,h_.exports=t,h_.exports.generateFunctionBody=e;const n=Bp();function t(i){let r=e(i);return new Function("bodies","settings","random",r)}function e(i){let r=n(i);return`
  var boundingBox = {
    ${r("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${r("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${r("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${r("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${r("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${r("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${r("var max_{var} = -Infinity;",{indent:4})}
    ${r("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${r("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${r("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${r("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${r("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${r("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return h_.exports}var d_={exports:{}},r2;function zW(){if(r2)return d_.exports;r2=1;const n=Bp();d_.exports=t,d_.exports.generateCreateDragForceFunctionBody=e;function t(i){let r=e(i);return new Function("options",r)}function e(i){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${n(i)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return d_.exports}var p_={exports:{}},s2;function BW(){if(s2)return p_.exports;s2=1;const n=Bp();p_.exports=t,p_.exports.generateCreateSpringForceFunctionBody=e;function t(i){let r=e(i);return new Function("options","random",r)}function e(i){let r=n(i);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${r("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${r("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${r("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${r("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return p_.exports}var m_={exports:{}},a2;function HW(){if(a2)return m_.exports;a2=1;const n=Bp();m_.exports=t,m_.exports.generateIntegratorFunctionBody=e;function t(i){let r=e(i);return new Function("bodies","timeStep","adaptiveTimeStepWeight",r)}function e(i){let r=n(i);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${r("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${r("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${r("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${r("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${r("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${r("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${r("body.pos.{var} += d{var};",{indent:4})}

    ${r("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${r("t{var} * t{var}",{join:" + "})})/length;
`}return m_.exports}var aM,o2;function FW(){if(o2)return aM;o2=1,aM=n;function n(t,e,i,r){this.from=t,this.to=e,this.length=i,this.coefficient=r}return aM}var oM,l2;function VW(){if(l2)return oM;l2=1,oM=n;function n(t,e){var i;if(t||(t={}),e){for(i in e)if(e.hasOwnProperty(i)){var r=t.hasOwnProperty(i),a=typeof e[i],l=!r||typeof t[i]!==a;l?t[i]=e[i]:a==="object"&&(t[i]=n(t[i],e[i]))}}return t}return oM}var gg={exports:{}},c2;function kW(){if(c2)return gg.exports;c2=1,gg.exports=n,gg.exports.random=n,gg.exports.randomIterator=u;function n(h){var p=typeof h=="number"?h:+new Date;return new t(p)}function t(h){this.seed=h}t.prototype.next=l,t.prototype.nextDouble=a,t.prototype.uniform=a,t.prototype.gaussian=e,t.prototype.random=a;function e(){var h,p,m;do p=this.nextDouble()*2-1,m=this.nextDouble()*2-1,h=p*p+m*m;while(h>=1||h===0);return p*Math.sqrt(-2*Math.log(h)/h)}t.prototype.levy=i;function i(){var h=1.5,p=Math.pow(r(1+h)*Math.sin(Math.PI*h/2)/(r((1+h)/2)*h*Math.pow(2,(h-1)/2)),1/h);return this.gaussian()*p/Math.pow(Math.abs(this.gaussian()),1/h)}function r(h){return Math.sqrt(2*Math.PI/h)*Math.pow(1/Math.E*(h+1/(12*h-1/(10*h))),h)}function a(){var h=this.seed;return h=h+2127912214+(h<<12)&4294967295,h=(h^3345072700^h>>>19)&4294967295,h=h+374761393+(h<<5)&4294967295,h=(h+3550635116^h<<9)&4294967295,h=h+4251993797+(h<<3)&4294967295,h=(h^3042594569^h>>>16)&4294967295,this.seed=h,(h&268435455)/268435456}function l(h){return Math.floor(this.nextDouble()*h)}function u(h,p){var m=p||n();if(typeof m.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:_,shuffle:v};function v(){var b,S,A;for(b=h.length-1;b>0;--b)S=m.next(b+1),A=h[S],h[S]=h[b],h[b]=A;return h}function _(b){var S,A,M;for(S=h.length-1;S>0;--S)A=m.next(S+1),M=h[A],h[A]=h[S],h[S]=M,b(M);h.length&&b(h[0])}}return gg.exports}var lM,u2;function f2(){if(u2)return lM;u2=1,lM=u;var n=UW(),t=PW(),e=IW(),i=zW(),r=BW(),a=HW(),l={};function u(m){var v=FW(),_=VW(),b=QD();if(m){if(m.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(m.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}m=_(m,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var S=l[m.dimensions];if(!S){var A=m.dimensions;S={Body:n(A,m.debug),createQuadTree:t(A),createBounds:e(A),createDragForce:i(A),createSpringForce:r(A),integrate:a(A)},l[A]=S}var M=S.Body,x=S.createQuadTree,T=S.createBounds,R=S.createDragForce,O=S.createSpringForce,I=S.integrate,P=ft=>new M(ft),B=kW().random(42),N=[],L=[],U=x(m,B),F=T(N,m,B),K=O(m,B),tt=R(m),nt=0,at=[],H=new Map,k=0;j("nbody",dt),j("spring",$);var V={bodies:N,quadTree:U,springs:L,settings:m,addForce:j,removeForce:st,getForces:ht,step:function(){for(var ft=0;ft<at.length;++ft)at[ft](k);var lt=I(N,m.timeStep,m.adaptiveTimeStepWeight);return k+=1,lt},addBody:function(ft){if(!ft)throw new Error("Body is required");return N.push(ft),ft},addBodyAt:function(ft){if(!ft)throw new Error("Body position is required");var lt=P(ft);return N.push(lt),lt},removeBody:function(ft){if(ft){var lt=N.indexOf(ft);if(!(lt<0))return N.splice(lt,1),N.length===0&&F.reset(),!0}},addSpring:function(ft,lt,pt,xt){if(!ft||!lt)throw new Error("Cannot add null spring to force simulator");typeof pt!="number"&&(pt=-1);var Ct=new v(ft,lt,pt,xt>=0?xt:-1);return L.push(Ct),Ct},getTotalMovement:function(){return nt},removeSpring:function(ft){if(ft){var lt=L.indexOf(ft);if(lt>-1)return L.splice(lt,1),!0}},getBestNewBodyPosition:function(ft){return F.getBestNewPosition(ft)},getBBox:Q,getBoundingBox:Q,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(ft){return ft!==void 0?(m.gravity=ft,U.options({gravity:ft}),this):m.gravity},theta:function(ft){return ft!==void 0?(m.theta=ft,U.options({theta:ft}),this):m.theta},random:B};return h(m,V),b(V),V;function Q(){return F.update(),F.box}function j(ft,lt){if(H.has(ft))throw new Error("Force "+ft+" is already added");H.set(ft,lt),at.push(lt)}function st(ft){var lt=at.indexOf(H.get(ft));lt<0||(at.splice(lt,1),H.delete(ft))}function ht(){return H}function dt(){if(N.length!==0){U.insertBodies(N);for(var ft=N.length;ft--;){var lt=N[ft];lt.isPinned||(lt.reset(),U.updateBodyForce(lt),tt.update(lt))}}}function $(){for(var ft=L.length;ft--;)K.update(L[ft])}}function h(m,v){for(var _ in m)p(m,v,_)}function p(m,v,_){if(m.hasOwnProperty(_)&&typeof v[_]!="function"){var b=Number.isFinite(m[_]);b?v[_]=function(S){if(S!==void 0){if(!Number.isFinite(S))throw new Error("Value of "+_+" should be a valid number.");return m[_]=S,v}return m[_]}:v[_]=function(S){return S!==void 0?(m[_]=S,v):m[_]}}}return lM}var h2;function GW(){if(h2)return f_.exports;h2=1,f_.exports=t,f_.exports.simulator=f2();var n=QD();function t(i,r){if(!i)throw new Error("Graph structure cannot be undefined");var a=r&&r.createSimulator||f2(),l=a(r);if(Array.isArray(r))throw new Error("Physics settings is expected to be an object");var u=i.version>19?H:at;r&&typeof r.nodeMass=="function"&&(u=r.nodeMass);var h=new Map,p={},m=0,v=l.settings.springTransform||e;P(),R();var _=!1,b={step:function(){if(m===0)return S(!0),!0;var k=l.step();b.lastMove=k,b.fire("step");var V=k/m,Q=V<=.01;return S(Q),Q},getNodePosition:function(k){return nt(k).pos},setNodePosition:function(k){var V=nt(k);V.setPosition.apply(V,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(k){var V=p[k];if(V)return{from:V.from.pos,to:V.to.pos}},getGraphRect:function(){return l.getBBox()},forEachBody:A,pinNode:function(k,V){var Q=nt(k.id);Q.isPinned=!!V},isNodePinned:function(k){return nt(k.id).isPinned},dispose:function(){i.off("changed",I),b.fire("disposed")},getBody:T,getSpring:x,getForceVectorLength:M,simulator:l,graph:i,lastMove:0};return n(b),b;function S(k){_!==k&&(_=k,O(k))}function A(k){h.forEach(k)}function M(){var k=0,V=0;return A(function(Q){k+=Math.abs(Q.force.x),V+=Math.abs(Q.force.y)}),Math.sqrt(k*k+V*V)}function x(k,V){var Q;if(V===void 0)typeof k!="object"?Q=k:Q=k.id;else{var j=i.hasLink(k,V);if(!j)return;Q=j.id}return p[Q]}function T(k){return h.get(k)}function R(){i.on("changed",I)}function O(k){b.fire("stable",k)}function I(k){for(var V=0;V<k.length;++V){var Q=k[V];Q.changeType==="add"?(Q.node&&B(Q.node.id),Q.link&&L(Q.link)):Q.changeType==="remove"&&(Q.node&&N(Q.node),Q.link&&U(Q.link))}m=i.getNodesCount()}function P(){m=0,i.forEachNode(function(k){B(k.id),m+=1}),i.forEachLink(L)}function B(k){var V=h.get(k);if(!V){var Q=i.getNode(k);if(!Q)throw new Error("initBody() was called with unknown node id");var j=Q.position;if(!j){var st=F(Q);j=l.getBestNewBodyPosition(st)}V=l.addBodyAt(j),V.id=k,h.set(k,V),K(k),tt(Q)&&(V.isPinned=!0)}}function N(k){var V=k.id,Q=h.get(V);Q&&(h.delete(V),l.removeBody(Q))}function L(k){K(k.fromId),K(k.toId);var V=h.get(k.fromId),Q=h.get(k.toId),j=l.addSpring(V,Q,k.length);v(k,j),p[k.id]=j}function U(k){var V=p[k.id];if(V){var Q=i.getNode(k.fromId),j=i.getNode(k.toId);Q&&K(Q.id),j&&K(j.id),delete p[k.id],l.removeSpring(V)}}function F(k){var V=[];if(!k.links)return V;for(var Q=Math.min(k.links.length,2),j=0;j<Q;++j){var st=k.links[j],ht=st.fromId!==k.id?h.get(st.fromId):h.get(st.toId);ht&&ht.pos&&V.push(ht)}return V}function K(k){var V=h.get(k);if(V.mass=u(k),Number.isNaN(V.mass))throw new Error("Node mass should be a number")}function tt(k){return k&&(k.isPinned||k.data&&k.data.isPinned)}function nt(k){var V=h.get(k);return V||(B(k),V=h.get(k)),V}function at(k){var V=i.getLinks(k);return V?1+V.length/3:1}function H(k){var V=i.getLinks(k);return V?1+V.size/3:1}}function e(){}return f_.exports}var jW=GW();const qW=bc(jW);function cE(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var XW=typeof global=="object"&&global&&global.Object===Object&&global,YW=typeof self=="object"&&self&&self.Object===Object&&self,hU=XW||YW||Function("return this")(),cM=function(){return hU.Date.now()},WW=/\s/;function ZW(n){for(var t=n.length;t--&&WW.test(n.charAt(t)););return t}var KW=/^\s+/;function QW(n){return n&&n.slice(0,ZW(n)+1).replace(KW,"")}var Bx=hU.Symbol,dU=Object.prototype,JW=dU.hasOwnProperty,$W=dU.toString,vg=Bx?Bx.toStringTag:void 0;function tZ(n){var t=JW.call(n,vg),e=n[vg];try{n[vg]=void 0;var i=!0}catch{}var r=$W.call(n);return i&&(t?n[vg]=e:delete n[vg]),r}var eZ=Object.prototype,nZ=eZ.toString;function iZ(n){return nZ.call(n)}var rZ="[object Null]",sZ="[object Undefined]",d2=Bx?Bx.toStringTag:void 0;function aZ(n){return n==null?n===void 0?sZ:rZ:d2&&d2 in Object(n)?tZ(n):iZ(n)}function oZ(n){return n!=null&&typeof n=="object"}var lZ="[object Symbol]";function cZ(n){return typeof n=="symbol"||oZ(n)&&aZ(n)==lZ}var p2=NaN,uZ=/^[-+]0x[0-9a-f]+$/i,fZ=/^0b[01]+$/i,hZ=/^0o[0-7]+$/i,dZ=parseInt;function m2(n){if(typeof n=="number")return n;if(cZ(n))return p2;if(cE(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=cE(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=QW(n);var e=fZ.test(n);return e||hZ.test(n)?dZ(n.slice(2),e?2:8):uZ.test(n)?p2:+n}var pZ="Expected a function",mZ=Math.max,gZ=Math.min;function vZ(n,t,e){var i,r,a,l,u,h,p=0,m=!1,v=!1,_=!0;if(typeof n!="function")throw new TypeError(pZ);t=m2(t)||0,cE(e)&&(m=!!e.leading,v="maxWait"in e,a=v?mZ(m2(e.maxWait)||0,t):a,_="trailing"in e?!!e.trailing:_);function b(P){var B=i,N=r;return i=r=void 0,p=P,l=n.apply(N,B),l}function S(P){return p=P,u=setTimeout(x,t),m?b(P):l}function A(P){var B=P-h,N=P-p,L=t-B;return v?gZ(L,a-N):L}function M(P){var B=P-h,N=P-p;return h===void 0||B>=t||B<0||v&&N>=a}function x(){var P=cM();if(M(P))return T(P);u=setTimeout(x,A(P))}function T(P){return u=void 0,_&&i?b(P):(i=r=void 0,l)}function R(){u!==void 0&&clearTimeout(u),p=0,i=h=r=u=void 0}function O(){return u===void 0?l:T(cM())}function I(){var P=cM(),B=M(P);if(i=arguments,r=this,h=P,B){if(u===void 0)return S(h);if(v)return clearTimeout(u),u=setTimeout(x,t),b(h)}return u===void 0&&(u=setTimeout(x,t)),l}return I.cancel=R,I.flush=O,I}function g2(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function yZ(n){if(Array.isArray(n))return n}function _Z(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function xZ(n,t,e){return Object.defineProperty(n,"prototype",{writable:!1}),n}function bZ(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,l,u=[],h=!0,p=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(h=(i=a.call(e)).done)&&(u.push(i.value),u.length!==t);h=!0);}catch(m){p=!0,r=m}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(p)throw r}}return u}}function SZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(n,t){return yZ(n)||bZ(n,t)||EZ(n,t)||SZ()}function EZ(n,t){if(n){if(typeof n=="string")return g2(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?g2(n,t):void 0}}var DZ=xZ(function n(t,e){var i=e.default,r=i===void 0?null:i,a=e.triggerUpdate,l=a===void 0?!0:a,u=e.onChange,h=u===void 0?function(p,m){}:u;_Z(this,n),this.name=t,this.defaultVal=r,this.triggerUpdate=l,this.onChange=h});function AZ(n){var t=n.stateInit,e=t===void 0?function(){return{}}:t,i=n.props,r=i===void 0?{}:i,a=n.methods,l=a===void 0?{}:a,u=n.aliases,h=u===void 0?{}:u,p=n.init,m=p===void 0?function(){}:p,v=n.update,_=v===void 0?function(){}:v,b=Object.keys(r).map(function(S){return new DZ(S,r[S])});return function S(){for(var A=arguments.length,M=new Array(A),x=0;x<A;x++)M[x]=arguments[x];var T=!!(this instanceof S&&this.constructor),R=T?M.shift():void 0,O=M[0],I=O===void 0?{}:O,P=Object.assign({},e instanceof Function?e(I):e,{initialised:!1}),B={};function N(F){return L(F,I),U(),N}var L=function(K,tt){m.call(N,K,P,tt),P.initialised=!0},U=vZ(function(){P.initialised&&(_.call(N,P,B),B={})},1);return b.forEach(function(F){N[F.name]=K(F);function K(tt){var nt=tt.name,at=tt.triggerUpdate,H=at===void 0?!1:at,k=tt.onChange,V=k===void 0?function(st,ht){}:k,Q=tt.defaultVal,j=Q===void 0?null:Q;return function(st){var ht=P[nt];if(!arguments.length)return ht;var dt=st===void 0?j:st;return P[nt]=dt,V.call(N,dt,P,ht),!B.hasOwnProperty(nt)&&(B[nt]=ht),H&&U(),N}}}),Object.keys(l).forEach(function(F){N[F]=function(){for(var K,tt=arguments.length,nt=new Array(tt),at=0;at<tt;at++)nt[at]=arguments[at];return(K=l[F]).call.apply(K,[N,P].concat(nt))}}),Object.entries(h).forEach(function(F){var K=MZ(F,2),tt=K[0],nt=K[1];return N[tt]=N[nt]}),N.resetProps=function(){return b.forEach(function(F){N[F.name](F.defaultVal)}),N},N.resetProps(),P._rerender=U,T&&R&&N(R),N}}var Jn=function(n){return typeof n=="function"?n:typeof n=="string"?function(t){return t[n]}:function(t){return n}};class v2 extends Map{constructor(t,e=RZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(y2(this,t))}has(t){return super.has(y2(this,t))}set(t,e){return super.set(TZ(this,t),e)}delete(t){return super.delete(wZ(this,t))}}function y2({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function TZ({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function wZ({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function RZ(n){return n!==null&&typeof n=="object"?n.valueOf():n}function CZ(n,t){let e;if(t===void 0)for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function OZ(n,t){let e;if(t===void 0)for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(e>r||e===void 0&&r>=r)&&(e=r)}return e}function uE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function NZ(n){if(Array.isArray(n))return n}function LZ(n){if(Array.isArray(n))return uE(n)}function pU(n,t,e){if(typeof n=="function"?n===t:n.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function UZ(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ss(n,t){return n.get(pU(n,t))}function Yd(n,t,e){UZ(n,t),t.set(n,e)}function g_(n,t,e){return n.set(pU(n,t),e),e}function IZ(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,qZ(i.key),i)}}function zZ(n,t,e){return t&&IZ(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function BZ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function HZ(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,l,u=[],h=!0,p=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(h=(i=a.call(e)).done)&&(u.push(i.value),u.length!==t);h=!0);}catch(m){p=!0,r=m}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(p)throw r}}return u}}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(n,t){return NZ(n)||HZ(n,t)||mU(n,t)||FZ()}function GZ(n){return LZ(n)||BZ(n)||mU(n)||VZ()}function jZ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function qZ(n){var t=jZ(n,"string");return typeof t=="symbol"?t:t+""}function mU(n,t){if(n){if(typeof n=="string")return uE(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?uE(n,t):void 0}}var Wd=new WeakMap,yg=new WeakMap,Zd=new WeakMap,uM=new WeakMap,fM=new WeakMap,hM=new WeakMap,XZ=function(){function n(){PZ(this,n),Yd(this,Wd,new Map),Yd(this,yg,new Map),Yd(this,Zd,function(t){return t}),Yd(this,uM,function(){return{}}),Yd(this,fM,function(){}),Yd(this,hM,function(){})}return zZ(n,[{key:"getObj",value:function(e){return ss(Wd,this).get(ss(Zd,this).call(this,e))}},{key:"getData",value:function(e){return ss(yg,this).get(e)}},{key:"entries",value:function(){return GZ(ss(yg,this).entries()).map(function(e){var i=kZ(e,2),r=i[0],a=i[1];return[a,r]})}},{key:"id",value:function(e){return g_(Zd,this,Jn(e)),this}},{key:"onCreateObj",value:function(e){return g_(uM,this,e),this}},{key:"onUpdateObj",value:function(e){return g_(fM,this,e),this}},{key:"onRemoveObj",value:function(e){return g_(hM,this,e),this}},{key:"digest",value:function(e){var i=this;e.filter(function(a){return!ss(Wd,i).has(ss(Zd,i).call(i,a))}).forEach(function(a){var l=ss(uM,i).call(i,a);ss(Wd,i).set(ss(Zd,i).call(i,a),l),ss(yg,i).set(l,a)});var r=new Map(e.map(function(a){return[ss(Zd,i).call(i,a),a]}));return ss(Wd,this).forEach(function(a,l){r.has(l)?ss(fM,i).call(i,a,r.get(l)):(ss(hM,i).call(i,a,l),ss(Wd,i).delete(l),ss(yg,i).delete(a))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}();function YZ(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const _2=Symbol("implicit");function gU(){var n=new v2,t=[],e=[],i=_2;function r(a){let l=n.get(a);if(l===void 0){if(i!==_2)return i;n.set(a,l=t.push(a)-1)}return e[l%e.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new v2;for(const l of a)n.has(l)||n.set(l,t.push(l)-1);return r},r.range=function(a){return arguments.length?(e=Array.from(a),r):e.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return gU(t,e).unknown(i)},YZ.apply(r,arguments),r}function WZ(n){for(var t=n.length/6|0,e=new Array(t),i=0;i<t;)e[i]="#"+n.slice(i*6,++i*6);return e}const ZZ=WZ("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Hx(n){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(n)}var KZ=/^\s+/,QZ=/\s+$/;function Ve(n,t){if(n=n||"",t=t||{},n instanceof Ve)return n;if(!(this instanceof Ve))return new Ve(n,t);var e=JZ(n);this._originalInput=n,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||e.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=e.ok}Ve.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),e,i,r,a,l,u;return e=t.r/255,i=t.g/255,r=t.b/255,e<=.03928?a=e/12.92:a=Math.pow((e+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),r<=.03928?u=r/12.92:u=Math.pow((r+.055)/1.055,2.4),.2126*a+.7152*l+.0722*u},setAlpha:function(t){return this._a=vU(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=b2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=b2(this._r,this._g,this._b),e=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.v*100);return this._a==1?"hsv("+e+", "+i+"%, "+r+"%)":"hsva("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=x2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=x2(this._r,this._g,this._b),e=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.l*100);return this._a==1?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return S2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return nK(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Oi(this._r,255)*100)+"%",g:Math.round(Oi(this._g,255)*100)+"%",b:Math.round(Oi(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Oi(this._r,255)*100)+"%, "+Math.round(Oi(this._g,255)*100)+"%, "+Math.round(Oi(this._b,255)*100)+"%)":"rgba("+Math.round(Oi(this._r,255)*100)+"%, "+Math.round(Oi(this._g,255)*100)+"%, "+Math.round(Oi(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:pK[S2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+M2(this._r,this._g,this._b,this._a),i=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var a=Ve(t);i="#"+M2(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,r=this._a<1&&this._a>=0,a=!e&&r&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return a?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Ve(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(aK,arguments)},brighten:function(){return this._applyModification(oK,arguments)},darken:function(){return this._applyModification(lK,arguments)},desaturate:function(){return this._applyModification(iK,arguments)},saturate:function(){return this._applyModification(rK,arguments)},greyscale:function(){return this._applyModification(sK,arguments)},spin:function(){return this._applyModification(cK,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(hK,arguments)},complement:function(){return this._applyCombination(uK,arguments)},monochromatic:function(){return this._applyCombination(dK,arguments)},splitcomplement:function(){return this._applyCombination(fK,arguments)},triad:function(){return this._applyCombination(E2,[3])},tetrad:function(){return this._applyCombination(E2,[4])}};Ve.fromRatio=function(n,t){if(Hx(n)=="object"){var e={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?e[i]=n[i]:e[i]=Tg(n[i]));n=e}return Ve(n,t)};function JZ(n){var t={r:0,g:0,b:0},e=1,i=null,r=null,a=null,l=!1,u=!1;return typeof n=="string"&&(n=yK(n)),Hx(n)=="object"&&(oc(n.r)&&oc(n.g)&&oc(n.b)?(t=$Z(n.r,n.g,n.b),l=!0,u=String(n.r).substr(-1)==="%"?"prgb":"rgb"):oc(n.h)&&oc(n.s)&&oc(n.v)?(i=Tg(n.s),r=Tg(n.v),t=eK(n.h,i,r),l=!0,u="hsv"):oc(n.h)&&oc(n.s)&&oc(n.l)&&(i=Tg(n.s),a=Tg(n.l),t=tK(n.h,i,a),l=!0,u="hsl"),n.hasOwnProperty("a")&&(e=n.a)),e=vU(e),{ok:l,format:n.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}function $Z(n,t,e){return{r:Oi(n,255)*255,g:Oi(t,255)*255,b:Oi(e,255)*255}}function x2(n,t,e){n=Oi(n,255),t=Oi(t,255),e=Oi(e,255);var i=Math.max(n,t,e),r=Math.min(n,t,e),a,l,u=(i+r)/2;if(i==r)a=l=0;else{var h=i-r;switch(l=u>.5?h/(2-i-r):h/(i+r),i){case n:a=(t-e)/h+(t<e?6:0);break;case t:a=(e-n)/h+2;break;case e:a=(n-t)/h+4;break}a/=6}return{h:a,s:l,l:u}}function tK(n,t,e){var i,r,a;n=Oi(n,360),t=Oi(t,100),e=Oi(e,100);function l(p,m,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(m-p)*6*v:v<1/2?m:v<2/3?p+(m-p)*(2/3-v)*6:p}if(t===0)i=r=a=e;else{var u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;i=l(h,u,n+1/3),r=l(h,u,n),a=l(h,u,n-1/3)}return{r:i*255,g:r*255,b:a*255}}function b2(n,t,e){n=Oi(n,255),t=Oi(t,255),e=Oi(e,255);var i=Math.max(n,t,e),r=Math.min(n,t,e),a,l,u=i,h=i-r;if(l=i===0?0:h/i,i==r)a=0;else{switch(i){case n:a=(t-e)/h+(t<e?6:0);break;case t:a=(e-n)/h+2;break;case e:a=(n-t)/h+4;break}a/=6}return{h:a,s:l,v:u}}function eK(n,t,e){n=Oi(n,360)*6,t=Oi(t,100),e=Oi(e,100);var i=Math.floor(n),r=n-i,a=e*(1-t),l=e*(1-r*t),u=e*(1-(1-r)*t),h=i%6,p=[e,l,a,a,u,e][h],m=[u,e,e,l,a,a][h],v=[a,a,u,e,e,l][h];return{r:p*255,g:m*255,b:v*255}}function S2(n,t,e,i){var r=[Ao(Math.round(n).toString(16)),Ao(Math.round(t).toString(16)),Ao(Math.round(e).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function nK(n,t,e,i,r){var a=[Ao(Math.round(n).toString(16)),Ao(Math.round(t).toString(16)),Ao(Math.round(e).toString(16)),Ao(yU(i))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function M2(n,t,e,i){var r=[Ao(yU(i)),Ao(Math.round(n).toString(16)),Ao(Math.round(t).toString(16)),Ao(Math.round(e).toString(16))];return r.join("")}Ve.equals=function(n,t){return!n||!t?!1:Ve(n).toRgbString()==Ve(t).toRgbString()};Ve.random=function(){return Ve.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function iK(n,t){t=t===0?0:t||10;var e=Ve(n).toHsl();return e.s-=t/100,e.s=Vb(e.s),Ve(e)}function rK(n,t){t=t===0?0:t||10;var e=Ve(n).toHsl();return e.s+=t/100,e.s=Vb(e.s),Ve(e)}function sK(n){return Ve(n).desaturate(100)}function aK(n,t){t=t===0?0:t||10;var e=Ve(n).toHsl();return e.l+=t/100,e.l=Vb(e.l),Ve(e)}function oK(n,t){t=t===0?0:t||10;var e=Ve(n).toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),Ve(e)}function lK(n,t){t=t===0?0:t||10;var e=Ve(n).toHsl();return e.l-=t/100,e.l=Vb(e.l),Ve(e)}function cK(n,t){var e=Ve(n).toHsl(),i=(e.h+t)%360;return e.h=i<0?360+i:i,Ve(e)}function uK(n){var t=Ve(n).toHsl();return t.h=(t.h+180)%360,Ve(t)}function E2(n,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var e=Ve(n).toHsl(),i=[Ve(n)],r=360/t,a=1;a<t;a++)i.push(Ve({h:(e.h+a*r)%360,s:e.s,l:e.l}));return i}function fK(n){var t=Ve(n).toHsl(),e=t.h;return[Ve(n),Ve({h:(e+72)%360,s:t.s,l:t.l}),Ve({h:(e+216)%360,s:t.s,l:t.l})]}function hK(n,t,e){t=t||6,e=e||30;var i=Ve(n).toHsl(),r=360/e,a=[Ve(n)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,a.push(Ve(i));return a}function dK(n,t){t=t||6;for(var e=Ve(n).toHsv(),i=e.h,r=e.s,a=e.v,l=[],u=1/t;t--;)l.push(Ve({h:i,s:r,v:a})),a=(a+u)%1;return l}Ve.mix=function(n,t,e){e=e===0?0:e||50;var i=Ve(n).toRgb(),r=Ve(t).toRgb(),a=e/100,l={r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a};return Ve(l)};Ve.readability=function(n,t){var e=Ve(n),i=Ve(t);return(Math.max(e.getLuminance(),i.getLuminance())+.05)/(Math.min(e.getLuminance(),i.getLuminance())+.05)};Ve.isReadable=function(n,t,e){var i=Ve.readability(n,t),r,a;switch(a=!1,r=_K(e),r.level+r.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};Ve.mostReadable=function(n,t,e){var i=null,r=0,a,l,u,h;e=e||{},l=e.includeFallbackColors,u=e.level,h=e.size;for(var p=0;p<t.length;p++)a=Ve.readability(n,t[p]),a>r&&(r=a,i=Ve(t[p]));return Ve.isReadable(n,i,{level:u,size:h})||!l?i:(e.includeFallbackColors=!1,Ve.mostReadable(n,["#fff","#000"],e))};var fE=Ve.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},pK=Ve.hexNames=mK(fE);function mK(n){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function vU(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Oi(n,t){gK(n)&&(n="100%");var e=vK(n);return n=Math.min(t,Math.max(0,parseFloat(n))),e&&(n=parseInt(n*t,10)/100),Math.abs(n-t)<1e-6?1:n%t/parseFloat(t)}function Vb(n){return Math.min(1,Math.max(0,n))}function da(n){return parseInt(n,16)}function gK(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function vK(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Ao(n){return n.length==1?"0"+n:""+n}function Tg(n){return n<=1&&(n=n*100+"%"),n}function yU(n){return Math.round(parseFloat(n)*255).toString(16)}function D2(n){return da(n)/255}var _o=function(){var n="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",e="(?:"+t+")|(?:"+n+")",i="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function oc(n){return!!_o.CSS_UNIT.exec(n)}function yK(n){n=n.replace(KZ,"").replace(QZ,"").toLowerCase();var t=!1;if(fE[n])n=fE[n],t=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e;return(e=_o.rgb.exec(n))?{r:e[1],g:e[2],b:e[3]}:(e=_o.rgba.exec(n))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=_o.hsl.exec(n))?{h:e[1],s:e[2],l:e[3]}:(e=_o.hsla.exec(n))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=_o.hsv.exec(n))?{h:e[1],s:e[2],v:e[3]}:(e=_o.hsva.exec(n))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=_o.hex8.exec(n))?{r:da(e[1]),g:da(e[2]),b:da(e[3]),a:D2(e[4]),format:t?"name":"hex8"}:(e=_o.hex6.exec(n))?{r:da(e[1]),g:da(e[2]),b:da(e[3]),format:t?"name":"hex"}:(e=_o.hex4.exec(n))?{r:da(e[1]+""+e[1]),g:da(e[2]+""+e[2]),b:da(e[3]+""+e[3]),a:D2(e[4]+""+e[4]),format:t?"name":"hex8"}:(e=_o.hex3.exec(n))?{r:da(e[1]+""+e[1]),g:da(e[2]+""+e[2]),b:da(e[3]+""+e[3]),format:t?"name":"hex"}:!1}function _K(n){var t,e;return n=n||{level:"AA",size:"small"},t=(n.level||"AA").toUpperCase(),e=(n.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),e!=="small"&&e!=="large"&&(e="small"),{level:t,size:e}}function hE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function xK(n){if(Array.isArray(n))return n}function bK(n){if(Array.isArray(n))return hE(n)}function _U(n,t,e){if(typeof n=="function"?n===t:n.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function SK(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xU(n,t,e){return t=Mp(t),CK(n,JD()?Reflect.construct(t,e||[],Mp(n).constructor):t.apply(n,e))}function MK(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bU(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function dM(n,t){return n.get(_U(n,t))}function A2(n,t,e){MK(n,t),t.set(n,e)}function T2(n,t,e){return n.set(_U(n,t),e),e}function SU(n,t,e){if(JD())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(n.bind.apply(n,i));return r}function EK(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,DU(i.key),i)}}function MU(n,t,e){return t&&EK(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function kb(n,t,e){return(t=DU(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dE(){return dE=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,t,e){var i=OK(n,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?n:e):r.value}},dE.apply(null,arguments)}function Mp(n){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mp(n)}function EU(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&pE(n,t)}function JD(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!n})()}function DK(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function AK(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,l,u=[],h=!0,p=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(h=(i=a.call(e)).done)&&(u.push(i.value),u.length!==t);h=!0);}catch(m){p=!0,r=m}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(p)throw r}}return u}}function TK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function RK(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(e),!0).forEach(function(i){kb(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):w2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function CK(n,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SK(n)}function pE(n,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},pE(n,t)}function Fg(n,t){return xK(n)||AK(n,t)||AU(n,t)||TK()}function OK(n,t){for(;!{}.hasOwnProperty.call(n,t)&&(n=Mp(n))!==null;);return n}function pM(n,t,e,i){var r=dE(Mp(n.prototype),t,e);return typeof r=="function"?function(a){return r.apply(e,a)}:r}function So(n){return bK(n)||DK(n)||AU(n)||wK()}function NK(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function DU(n){var t=NK(n,"string");return typeof t=="symbol"?t:t+""}function mE(n){"@babel/helpers - typeof";return mE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mE(n)}function AU(n,t){if(n){if(typeof n=="string")return hE(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?hE(n,t):void 0}}var TU=function(t){t instanceof Array?t.forEach(TU):(t.map&&t.map.dispose(),t.dispose())},wU=function(t){t.geometry&&t.geometry.dispose(),t.material&&TU(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(wU)},gE=function(t){for(;t.children.length;){var e=t.children[0];t.remove(e),wU(e)}},mM=new WeakMap,v_=new WeakMap,_g=function(n){function t(e){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.dataBindAttr,l=a===void 0?"__data":a,u=r.objBindAttr,h=u===void 0?"__threeObj":u;return bU(this,t),i=xU(this,t),kb(i,"scene",void 0),A2(i,mM,void 0),A2(i,v_,void 0),i.scene=e,T2(mM,i,l),T2(v_,i,h),i.onRemoveObj(function(){}),i}return EU(t,n),MU(t,[{key:"onCreateObj",value:function(i){var r=this;return pM(t,"onCreateObj",this)([function(a){var l=i(a);return a[dM(v_,r)]=l,l[dM(mM,r)]=a,r.scene.add(l),l}]),this}},{key:"onRemoveObj",value:function(i){var r=this;return pM(t,"onRemoveObj",this)([function(a,l){var u=pM(t,"getData",r)([a]);i(a,l),r.scene.remove(a),gE(a),delete u[dM(v_,r)]}]),this}}])}(XZ),xg=function(t){return isNaN(t)?parseInt(Ve(t).toHex(),16):t},gM=function(t){return isNaN(t)?Ve(t).getAlpha():1},LK=gU(ZZ);function R2(n,t,e){!t||typeof e!="string"||n.filter(function(i){return!i[e]}).forEach(function(i){i[e]=LK(t(i))})}function UK(n,t){var e=n.nodes,i=n.links,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.nodeFilter,l=a===void 0?function(){return!0}:a,u=r.onLoopError,h=u===void 0?function(b){throw"Invalid DAG structure! Found cycle in node path: ".concat(b.join(" -> "),".")}:u,p={};e.forEach(function(b){return p[t(b)]={data:b,out:[],depth:-1,skip:!l(b)}}),i.forEach(function(b){var S=b.source,A=b.target,M=O(S),x=O(A);if(!p.hasOwnProperty(M))throw"Missing source node with id: ".concat(M);if(!p.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var T=p[M],R=p[x];T.out.push(R);function O(I){return mE(I)==="object"?t(I):I}});var m=[];_(Object.values(p));var v=Object.assign.apply(Object,[{}].concat(So(Object.entries(p).filter(function(b){var S=Fg(b,2),A=S[1];return!A.skip}).map(function(b){var S=Fg(b,2),A=S[0],M=S[1];return kb({},A,M.depth)}))));return v;function _(b){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,M=function(){var O=b[x];if(S.indexOf(O)!==-1){var I=[].concat(So(S.slice(S.indexOf(O))),[O]).map(function(P){return t(P.data)});return m.some(function(P){return P.length===I.length&&P.every(function(B,N){return B===I[N]})})||(m.push(I),h(I)),1}A>O.depth&&(O.depth=A,_(O.out,[].concat(So(S),[O]),A+(O.skip?0:1)))},x=0,T=b.length;x<T;x++)M()}}var tn=window.THREE?window.THREE:{Group:Cu,Mesh:Ni,MeshLambertMaterial:yD,Color:Ce,BufferGeometry:xn,BufferAttribute:li,Matrix4:en,Vector3:ct,SphereGeometry:Up,CylinderGeometry:Np,TubeGeometry:wv,ConeGeometry:Lp,Line:xc,LineBasicMaterial:os,QuadraticBezierCurve3:Ab,CubicBezierCurve3:dD,Box3:Gr},C2={graph:LW,forcelayout:qW},PK=2,vM=new tn.BufferGeometry().setAttribute?"setAttribute":"addAttribute",y_=new tn.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",IK=AZ({props:{jsonUrl:{onChange:function(t,e){var i=this;t&&!e.fetchingJson&&(e.fetchingJson=!0,e.onLoading(),fetch(t).then(function(r){return r.json()}).then(function(r){e.fetchingJson=!1,e.onFinishLoading(r),i.graphData(r)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(t,e){e.engineRunning=!1}},numDimensions:{default:3,onChange:function(t,e){var i=e.d3ForceLayout.force("charge");i&&i.strength(t>2?-60:-30),t<3&&r(e.graphData.nodes,"z"),t<2&&r(e.graphData.nodes,"y");function r(a,l){a.forEach(function(u){delete u[l],delete u["v".concat(l)]})}}},dagMode:{onChange:function(t,e){!t&&e.forceEngine==="d3"&&(e.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=i.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(t){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.alphaDecay(t)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.alphaTarget(t)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(t,e){e.d3ForceLayout.velocityDecay(t)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(t){return t._flushObjects=!0,t._rerender(),this},d3Force:function(t,e,i){return i===void 0?t.d3ForceLayout.force(e):(t.d3ForceLayout.force(e,i),this)},d3ReheatSimulation:function(t){return t.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(t){return t.cntTicks=0,t.startTickTime=new Date,t.engineRunning=!0,this},tickFrame:function(t){var e=t.forceEngine!=="ngraph";return t.engineRunning&&i(),r(),a(),this;function i(){++t.cntTicks>t.cooldownTicks||new Date-t.startTickTime>t.cooldownTime||e&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin?(t.engineRunning=!1,t.onEngineStop()):(t.layout[e?"tick":"step"](),t.onEngineTick());var l=Jn(t.nodeThreeObjectExtend);t.nodeDataMapper.entries().forEach(function(_){var b=Fg(_,2),S=b[0],A=b[1];if(A){var M=e?S:t.layout.getNodePosition(S[t.nodeId]),x=l(S);(!t.nodePositionUpdate||!t.nodePositionUpdate(x?A.children[0]:A,{x:M.x,y:M.y,z:M.z},S)||x)&&(A.position.x=M.x,A.position.y=M.y||0,A.position.z=M.z||0)}});var u=Jn(t.linkWidth),h=Jn(t.linkCurvature),p=Jn(t.linkCurveRotation),m=Jn(t.linkThreeObjectExtend);t.linkDataMapper.entries().forEach(function(_){var b=Fg(_,2),S=b[0],A=b[1];if(A){var M=e?S:t.layout.getLinkPosition(t.layout.graph.getLink(S.source,S.target).id),x=M[e?"source":"from"],T=M[e?"target":"to"];if(!(!x||!T||!x.hasOwnProperty("x")||!T.hasOwnProperty("x"))){v(S);var R=m(S);if(!(t.linkPositionUpdate&&t.linkPositionUpdate(R?A.children[1]:A,{start:{x:x.x,y:x.y,z:x.z},end:{x:T.x,y:T.y,z:T.z}},S)&&!R)){var O=30,I=S.__curve,P=A.children.length?A.children[0]:A;if(P.type==="Line"){if(I){var N=I.getPoints(O);P.geometry.getAttribute("position").array.length!==N.length*3&&P.geometry[vM]("position",new tn.BufferAttribute(new Float32Array(N.length*3),3)),P.geometry.setFromPoints(N)}else{var B=P.geometry.getAttribute("position");(!B||!B.array||B.array.length!==6)&&P.geometry[vM]("position",B=new tn.BufferAttribute(new Float32Array(2*3),3)),B.array[0]=x.x,B.array[1]=x.y||0,B.array[2]=x.z||0,B.array[3]=T.x,B.array[4]=T.y||0,B.array[5]=T.z||0,B.needsUpdate=!0}P.geometry.computeBoundingSphere()}else if(P.type==="Mesh")if(I){P.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(P.position.set(0,0,0),P.rotation.set(0,0,0),P.scale.set(1,1,1));var at=Math.ceil(u(S)*10)/10,H=at/2,k=new tn.TubeGeometry(I,O,H,t.linkResolution,!1);P.geometry.dispose(),P.geometry=k}else{if(!P.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var L=Math.ceil(u(S)*10)/10,U=L/2,F=new tn.CylinderGeometry(U,U,1,t.linkResolution,1,!1);F[y_](new tn.Matrix4().makeTranslation(0,1/2,0)),F[y_](new tn.Matrix4().makeRotationX(Math.PI/2)),P.geometry.dispose(),P.geometry=F}var K=new tn.Vector3(x.x,x.y||0,x.z||0),tt=new tn.Vector3(T.x,T.y||0,T.z||0),nt=K.distanceTo(tt);P.position.x=K.x,P.position.y=K.y,P.position.z=K.z,P.scale.z=nt,P.parent.localToWorld(tt),P.lookAt(tt)}}}}});function v(_){var b=e?_:t.layout.getLinkPosition(t.layout.graph.getLink(_.source,_.target).id),S=b[e?"source":"from"],A=b[e?"target":"to"];if(!(!S||!A||!S.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var M=h(_);if(!M)_.__curve=null;else{var x=new tn.Vector3(S.x,S.y||0,S.z||0),T=new tn.Vector3(A.x,A.y||0,A.z||0),R=x.distanceTo(T),O,I=p(_);if(R>0){var P=A.x-S.x,B=A.y-S.y||0,N=new tn.Vector3().subVectors(T,x),L=N.clone().multiplyScalar(M).cross(P!==0||B!==0?new tn.Vector3(0,0,1):new tn.Vector3(0,1,0)).applyAxisAngle(N.normalize(),I).add(new tn.Vector3().addVectors(x,T).divideScalar(2));O=new tn.QuadraticBezierCurve3(x,L,T)}else{var U=M*70,F=-I,K=F+Math.PI/2;O=new tn.CubicBezierCurve3(x,new tn.Vector3(U*Math.cos(K),U*Math.sin(K),0).add(x),new tn.Vector3(U*Math.cos(F),U*Math.sin(F),0).add(x),T)}_.__curve=O}}}}function r(){var l=Jn(t.linkDirectionalArrowRelPos),u=Jn(t.linkDirectionalArrowLength),h=Jn(t.nodeVal);t.arrowDataMapper.entries().forEach(function(p){var m=Fg(p,2),v=m[0],_=m[1];if(_){var b=e?v:t.layout.getLinkPosition(t.layout.graph.getLink(v.source,v.target).id),S=b[e?"source":"from"],A=b[e?"target":"to"];if(!(!S||!A||!S.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var M=Math.cbrt(Math.max(0,h(S)||1))*t.nodeRelSize,x=Math.cbrt(Math.max(0,h(A)||1))*t.nodeRelSize,T=u(v),R=l(v),O=v.__curve?function(U){return v.__curve.getPoint(U)}:function(U){var F=function(tt,nt,at,H){return nt[tt]+(at[tt]-nt[tt])*H||0};return{x:F("x",S,A,U),y:F("y",S,A,U),z:F("z",S,A,U)}},I=v.__curve?v.__curve.getLength():Math.sqrt(["x","y","z"].map(function(U){return Math.pow((A[U]||0)-(S[U]||0),2)}).reduce(function(U,F){return U+F},0)),P=M+T+(I-M-x-T)*R,B=O(P/I),N=O((P-T)/I);["x","y","z"].forEach(function(U){return _.position[U]=N[U]});var L=SU(tn.Vector3,So(["x","y","z"].map(function(U){return B[U]})));_.parent.localToWorld(L),_.lookAt(L)}}})}function a(){var l=Jn(t.linkDirectionalParticleSpeed);t.graphData.links.forEach(function(u){var h=t.particlesDataMapper.getObj(u),p=h&&h.children,m=u.__singleHopPhotonsObj&&u.__singleHopPhotonsObj.children;if(!((!m||!m.length)&&(!p||!p.length))){var v=e?u:t.layout.getLinkPosition(t.layout.graph.getLink(u.source,u.target).id),_=v[e?"source":"from"],b=v[e?"target":"to"];if(!(!_||!b||!_.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var S=l(u),A=u.__curve?function(x){return u.__curve.getPoint(x)}:function(x){var T=function(O,I,P,B){return I[O]+(P[O]-I[O])*B||0};return{x:T("x",_,b,x),y:T("y",_,b,x),z:T("z",_,b,x)}},M=[].concat(So(p||[]),So(m||[]));M.forEach(function(x,T){var R=x.parent.__linkThreeObjType==="singleHopPhotons";if(x.hasOwnProperty("__progressRatio")||(x.__progressRatio=R?0:T/p.length),x.__progressRatio+=S,x.__progressRatio>=1)if(!R)x.__progressRatio=x.__progressRatio%1;else{x.parent.remove(x),gE(x);return}var O=x.__progressRatio,I=A(O);["x","y","z"].forEach(function(P){return x.position[P]=I[P]})})}}})}},emitParticle:function(t,e){if(e&&t.graphData.links.includes(e)){if(!e.__singleHopPhotonsObj){var i=new tn.Group;i.__linkThreeObjType="singleHopPhotons",e.__singleHopPhotonsObj=i,t.graphScene.add(i)}var r=Jn(t.linkDirectionalParticleWidth),a=Math.ceil(r(e)*10)/10/2,l=t.linkDirectionalParticleResolution,u=new tn.SphereGeometry(a,l,l),h=Jn(t.linkColor),p=Jn(t.linkDirectionalParticleColor),m=p(e)||h(e)||"#f0f0f0",v=new tn.Color(xg(m)),_=t.linkOpacity*3,b=new tn.MeshLambertMaterial({color:v,transparent:!0,opacity:_});e.__singleHopPhotonsObj.add(new tn.Mesh(u,b))}return this},getGraphBbox:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!t.initialised)return null;var i=function r(a){var l=[];if(a.geometry){a.geometry.computeBoundingBox();var u=new tn.Box3;u.copy(a.geometry.boundingBox).applyMatrix4(a.matrixWorld),l.push(u)}return l.concat.apply(l,So((a.children||[]).filter(function(h){return!h.hasOwnProperty("__graphObjType")||h.__graphObjType==="node"&&e(h.__data)}).map(r)))}(t.graphScene);return i.length?Object.assign.apply(Object,So(["x","y","z"].map(function(r){return kb({},r,[OZ(i,function(a){return a.min[r]}),CZ(i,function(a){return a.max[r]})])}))):null}},stateInit:function(){return{d3ForceLayout:wW().force("link",dW()).force("charge",RW()).force("center",mY()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(t,e){e.graphScene=t,e.nodeDataMapper=new _g(t,{objBindAttr:"__threeObj"}),e.linkDataMapper=new _g(t,{objBindAttr:"__lineObj"}),e.arrowDataMapper=new _g(t,{objBindAttr:"__arrowObj"}),e.particlesDataMapper=new _g(t,{objBindAttr:"__photonsObj"})},update:function(t,e){var i=function(ft){return ft.some(function(lt){return e.hasOwnProperty(lt)})};if(t.engineRunning=!1,typeof t.onUpdate=="function"&&t.onUpdate(),t.nodeAutoColorBy!==null&&i(["nodeAutoColorBy","graphData","nodeColor"])&&R2(t.graphData.nodes,Jn(t.nodeAutoColorBy),t.nodeColor),t.linkAutoColorBy!==null&&i(["linkAutoColorBy","graphData","linkColor"])&&R2(t.graphData.links,Jn(t.linkAutoColorBy),t.linkColor),t._flushObjects||i(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=Jn(t.nodeThreeObject),a=Jn(t.nodeThreeObjectExtend),l=Jn(t.nodeVal),u=Jn(t.nodeColor),h=Jn(t.nodeVisibility),p={},m={};(t._flushObjects||i(["nodeThreeObject","nodeThreeObjectExtend"]))&&t.nodeDataMapper.clear(),t.nodeDataMapper.onCreateObj(function($){var ft=r($),lt=a($);ft&&t.nodeThreeObject===ft&&(ft=ft.clone());var pt;return ft&&!lt?pt=ft:(pt=new tn.Mesh,pt.__graphDefaultObj=!0,ft&&lt&&pt.add(ft)),pt.__graphObjType="node",pt}).onUpdateObj(function($,ft){if($.__graphDefaultObj){var lt=l(ft)||1,pt=Math.cbrt(lt)*t.nodeRelSize,xt=t.nodeResolution;(!$.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||$.geometry.parameters.radius!==pt||$.geometry.parameters.widthSegments!==xt)&&(p.hasOwnProperty(lt)||(p[lt]=new tn.SphereGeometry(pt,xt,xt)),$.geometry.dispose(),$.geometry=p[lt]);var Ct=u(ft),Ht=new tn.Color(xg(Ct||"#ffffaa")),Kt=t.nodeOpacity*gM(Ct);($.material.type!=="MeshLambertMaterial"||!$.material.color.equals(Ht)||$.material.opacity!==Kt)&&(m.hasOwnProperty(Ct)||(m[Ct]=new tn.MeshLambertMaterial({color:Ht,transparent:!0,opacity:Kt})),$.material.dispose(),$.material=m[Ct])}}).digest(t.graphData.nodes.filter(h))}if(t._flushObjects||i(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var v=Jn(t.linkThreeObject),_=Jn(t.linkThreeObjectExtend),b=Jn(t.linkMaterial),S=Jn(t.linkVisibility),A=Jn(t.linkColor),M=Jn(t.linkWidth),x={},T={},R={},O=t.graphData.links.filter(S);if((t._flushObjects||i(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&t.linkDataMapper.clear(),t.linkDataMapper.onRemoveObj(function($){var ft=$.__data&&$.__data.__singleHopPhotonsObj;ft&&(ft.parent.remove(ft),gE(ft),delete $.__data.__singleHopPhotonsObj)}).onCreateObj(function($){var ft=v($),lt=_($);ft&&t.linkThreeObject===ft&&(ft=ft.clone());var pt;if(!ft||lt){var xt=!!M($);if(xt)pt=new tn.Mesh;else{var Ct=new tn.BufferGeometry;Ct[vM]("position",new tn.BufferAttribute(new Float32Array(2*3),3)),pt=new tn.Line(Ct)}}var Ht;return ft?lt?(Ht=new tn.Group,Ht.__graphDefaultObj=!0,Ht.add(pt),Ht.add(ft)):Ht=ft:(Ht=pt,Ht.__graphDefaultObj=!0),Ht.renderOrder=10,Ht.__graphObjType="link",Ht}).onUpdateObj(function($,ft){if($.__graphDefaultObj){var lt=$.children.length?$.children[0]:$,pt=Math.ceil(M(ft)*10)/10,xt=!!pt;if(xt){var Ct=pt/2,Ht=t.linkResolution;if(!lt.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||lt.geometry.parameters.radiusTop!==Ct||lt.geometry.parameters.radialSegments!==Ht){if(!x.hasOwnProperty(pt)){var Kt=new tn.CylinderGeometry(Ct,Ct,1,Ht,1,!1);Kt[y_](new tn.Matrix4().makeTranslation(0,1/2,0)),Kt[y_](new tn.Matrix4().makeRotationX(Math.PI/2)),x[pt]=Kt}lt.geometry.dispose(),lt.geometry=x[pt]}}var le=b(ft);if(le)lt.material=le;else{var ce=A(ft),et=new tn.Color(xg(ce||"#f0f0f0")),Wt=t.linkOpacity*gM(ce),Ut=xt?"MeshLambertMaterial":"LineBasicMaterial";if(lt.material.type!==Ut||!lt.material.color.equals(et)||lt.material.opacity!==Wt){var Xt=xt?T:R;Xt.hasOwnProperty(ce)||(Xt[ce]=new tn[Ut]({color:et,transparent:Wt<1,opacity:Wt,depthWrite:Wt>=1})),lt.material.dispose(),lt.material=Xt[ce]}}}}).digest(O),t.linkDirectionalArrowLength||e.hasOwnProperty("linkDirectionalArrowLength")){var I=Jn(t.linkDirectionalArrowLength),P=Jn(t.linkDirectionalArrowColor);t.arrowDataMapper.onCreateObj(function(){var $=new tn.Mesh(void 0,new tn.MeshLambertMaterial({transparent:!0}));return $.__linkThreeObjType="arrow",$}).onUpdateObj(function($,ft){var lt=I(ft),pt=t.linkDirectionalArrowResolution;if(!$.geometry.type.match(/^Cone(Buffer)?Geometry$/)||$.geometry.parameters.height!==lt||$.geometry.parameters.radialSegments!==pt){var xt=new tn.ConeGeometry(lt*.25,lt,pt);xt.translate(0,lt/2,0),xt.rotateX(Math.PI/2),$.geometry.dispose(),$.geometry=xt}var Ct=P(ft)||A(ft)||"#f0f0f0";$.material.color=new tn.Color(xg(Ct)),$.material.opacity=t.linkOpacity*3*gM(Ct)}).digest(O.filter(I))}if(t.linkDirectionalParticles||e.hasOwnProperty("linkDirectionalParticles")){var B=Jn(t.linkDirectionalParticles),N=Jn(t.linkDirectionalParticleWidth),L=Jn(t.linkDirectionalParticleColor),U={},F={};t.particlesDataMapper.onCreateObj(function(){var $=new tn.Group;return $.__linkThreeObjType="photons",$.__photonDataMapper=new _g($),$}).onUpdateObj(function($,ft){var lt=Math.round(Math.abs(B(ft))),pt=!!$.children.length&&$.children[0],xt=Math.ceil(N(ft)*10)/10/2,Ct=t.linkDirectionalParticleResolution,Ht;pt&&pt.geometry.parameters.radius===xt&&pt.geometry.parameters.widthSegments===Ct?Ht=pt.geometry:(F.hasOwnProperty(xt)||(F[xt]=new tn.SphereGeometry(xt,Ct,Ct)),Ht=F[xt],pt&&pt.geometry.dispose());var Kt=L(ft)||A(ft)||"#f0f0f0",le=new tn.Color(xg(Kt)),ce=t.linkOpacity*3,et;pt&&pt.material.color.equals(le)&&pt.material.opacity===ce?et=pt.material:(U.hasOwnProperty(Kt)||(U[Kt]=new tn.MeshLambertMaterial({color:le,transparent:!0,opacity:ce})),et=U[Kt],pt&&pt.material.dispose()),$.__photonDataMapper.id(function(Wt){return Wt.idx}).onCreateObj(function(){return new tn.Mesh(Ht,et)}).onUpdateObj(function(Wt){Wt.geometry=Ht,Wt.material=et}).digest(So(new Array(lt)).map(function(Wt,Ut){return{idx:Ut}}))}).digest(O.filter(B))}}if(t._flushObjects=!1,i(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){t.engineRunning=!1,t.graphData.links.forEach(function($){$.source=$[t.linkSource],$.target=$[t.linkTarget]});var K=t.forceEngine!=="ngraph",tt;if(K){(tt=t.d3ForceLayout).stop().alpha(1).numDimensions(t.numDimensions).nodes(t.graphData.nodes);var nt=t.d3ForceLayout.force("link");nt&&nt.id(function($){return $[t.nodeId]}).links(t.graphData.links);var at=t.dagMode&&UK(t.graphData,function($){return $[t.nodeId]},{nodeFilter:t.dagNodeFilter,onLoopError:t.onDagError||void 0}),H=Math.max.apply(Math,So(Object.values(at||[]))),k=t.dagLevelDistance||t.graphData.nodes.length/(H||1)*PK*(["radialin","radialout"].indexOf(t.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var V=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";t.graphData.nodes.filter(t.dagNodeFilter).forEach(function($){return delete $[V]})}if(["lr","rl","td","bu","zin","zout"].includes(t.dagMode)){var Q=["rl","td","zout"].includes(t.dagMode),j=function(ft){return(at[ft[t.nodeId]]-H/2)*k*(Q?-1:1)},st=["lr","rl"].includes(t.dagMode)?"fx":["td","bu"].includes(t.dagMode)?"fy":"fz";t.graphData.nodes.filter(t.dagNodeFilter).forEach(function($){return $[st]=j($)})}t.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(t.dagMode)!==-1?CW(function($){var ft=at[$[t.nodeId]]||-1;return(t.dagMode==="radialin"?H-ft:ft)*k}).strength(function($){return t.dagNodeFilter($)?1:0}):null)}else{var ht=C2.graph();t.graphData.nodes.forEach(function($){ht.addNode($[t.nodeId])}),t.graphData.links.forEach(function($){ht.addLink($.source,$.target)}),tt=C2.forcelayout(ht,RK({dimensions:t.numDimensions},t.ngraphPhysics)),tt.graph=ht}for(var dt=0;dt<t.warmupTicks&&!(K&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin);dt++)tt[K?"tick":"step"]();t.layout=tt,this.resetCountdown()}t.engineRunning=!0,t.onFinishUpdate()}});function zK(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=function(r){function a(){var l;bU(this,a);for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];return l=xU(this,a,[].concat(h)),l.__kapsuleInstance=SU(n,[].concat(So(e?[l]:[]),h)),l}return EU(a,r),MU(a)}(t);return Object.keys(n()).forEach(function(r){return i.prototype[r]=function(){var a,l=(a=this.__kapsuleInstance)[r].apply(a,arguments);return l===this.__kapsuleInstance?this:l}}),i}var BK=window.THREE?window.THREE:{Group:Cu},HK=zK(IK,BK.Group,!0);function FK(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,l,u=[],h=!0,p=!1;try{if(a=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;h=!1}else for(;!(h=(i=a.call(e)).done)&&(u.push(i.value),u.length!==t);h=!0);}catch(m){p=!0,r=m}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(p)throw r}}return u}}function VK(n,t,e){return t=ZK(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function O2(n,t){return jK(n)||FK(n,t)||RU(n,t)||YK()}function kK(n){return GK(n)||qK(n)||RU(n)||XK()}function GK(n){if(Array.isArray(n))return vE(n)}function jK(n){if(Array.isArray(n))return n}function qK(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function RU(n,t){if(n){if(typeof n=="string")return vE(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return vE(n,t)}}function vE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function XK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WK(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ZK(n){var t=WK(n,"string");return typeof t=="symbol"?t:String(t)}var KK=function(t,e){var i=new Set(e);return Object.assign.apply(Object,[{}].concat(kK(Object.entries(t).filter(function(r){var a=O2(r,1),l=a[0];return!i.has(l)}).map(function(r){var a=O2(r,2),l=a[0],u=a[1];return VK({},l,u)}))))};function yE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function QK(n){if(Array.isArray(n))return n}function JK(n){if(Array.isArray(n))return yE(n)}function $K(n,t,e){return(t=lQ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tQ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function eQ(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,a,l,u=[],h=!0,p=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(h=(i=a.call(e)).done)&&(u.push(i.value),u.length!==t);h=!0);}catch(m){p=!0,r=m}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(p)throw r}}return u}}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Fx(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(e),!0).forEach(function(i){$K(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function rQ(n,t){if(n==null)return{};var e,i,r=sQ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function sQ(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function aQ(n,t){return QK(n)||eQ(n,t)||CU(n,t)||nQ()}function yM(n){return JK(n)||tQ(n)||CU(n)||iQ()}function oQ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function lQ(n){var t=oQ(n,"string");return typeof t=="symbol"?t:t+""}function CU(n,t){if(n){if(typeof n=="string")return yE(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?yE(n,t):void 0}}function cQ(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.methodNames,i=e===void 0?[]:e,r=t.initPropNames,a=r===void 0?[]:r;return Y.forwardRef(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0,h=Y.useMemo(function(){return new n(Object.fromEntries(a.filter(function(_){return l.hasOwnProperty(_)}).map(function(_){return[_,l[_]]})))},[]);Y.useEffect(function(){return h._destructor instanceof Function?h._destructor:void 0},[h]);var p=Y.useCallback(function(_){for(var b=arguments.length,S=new Array(b>1?b-1:0),A=1;A<b;A++)S[A-1]=arguments[A];return h[_]instanceof Function?h[_].apply(h,S):void 0},[h]),m=Object.fromEntries(Object.entries(l).filter(function(_){var b=aQ(_,1),S=b[0];return!h[S]||!(h[S]instanceof Function)})),v=Y.useRef({});return Object.keys(KK(l,[].concat(yM(i),yM(a),yM(Object.keys(m))))).filter(function(_){return v.current[_]!==l[_]}).forEach(function(_){return p(_,l[_])}),v.current=l,Y.useImperativeHandle(u,function(){return Object.fromEntries(i.map(function(_){return[_,function(){for(var b=arguments.length,S=new Array(b),A=0;A<b;A++)S[A]=arguments[A];return p.apply(void 0,[_].concat(S))}]}))}),Y.createElement("primitive",Fx(Fx({},m),{},{object:h}))})}var uQ=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"],fQ=cQ(HK,{initPropNames:[],methodNames:["emitParticle","getGraphBbox","d3ReheatSimulation","d3Force","resetCountdown","tickFrame","refresh"]}),L2=function(t){var e,i=t.intersections,r=function(l){return l?l.hasOwnProperty("__graphObjType")?l:r(l.parent):null};return r((e=i.find(function(a){return r(a.object)}))===null||e===void 0?void 0:e.object)},__=function(t){return t==null?void 0:t.__data},OU=Y.forwardRef(function(n,t){var e=n.onNodeHover,i=n.onLinkHover,r=n.onNodeClick,a=n.onLinkClick,l=rQ(n,uQ),u=Y.useRef(null),h=Y.useCallback(function(m){if(!(!e&&!i)){var v=L2(m);if(v!==u.current){var _=u.current;u.current=v,_&&(!v||v.__graphObjType!==_.__graphObjType)&&({node:e,link:i}[_==null?void 0:_.__graphObjType]||function(){})(null,__(_)),({node:e,link:i}[v==null?void 0:v.__graphObjType]||function(){})(__(v),(v==null?void 0:v.__graphObjType)===(_==null?void 0:_.__graphObjType)?__(_):null)}}},[e,i]),p=Y.useCallback(function(m){var v=L2(m),_={node:r,link:a}[v==null?void 0:v.__graphObjType];v&&_&&(_(__(v),m),m.stopPropagation())},[r,a]);return Y.createElement(fQ,Fx(Fx({},l),{},{ref:t,onPointerMove:h,onClick:p}))});function NU(n){let t=0;for(let e=0;e<n.length;e++)t=n.charCodeAt(e)+((t<<10)-t);return Math.abs(t)}function hQ(n,{baseHue:t=0,hueRange:e=360,saturation:i=60,lightness:r=50}={}){const a=NU(String(n));return{hue:(t+a%e)%360,saturation:i,lightness:r}}function dQ(n){return t=>hQ(t,n)}function _M({hue:n,lightness:t,saturation:e}){return`hsl(${n}, ${e}%, ${t}%)`}function pQ(n,t){const e=NU(String(n)),i=e%41-20,r=e%51-25,a=e%41-20,l=(t.hue+i+360)%360,u=Math.min(100,Math.max(0,t.saturation+a)),h=Math.min(100,Math.max(0,t.lightness+r));return{hue:l,saturation:u,lightness:h}}const LU=(n,t,e,i=1,r=1e3)=>t===e?e=t+i:i+(n-t)/(e-t)*(r-i);function Gb({className:n,...t}){return W.jsx("div",{"data-slot":"card",className:un("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...t})}function jb({className:n,...t}){return W.jsx("div",{"data-slot":"card-header",className:un("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...t})}function qb({className:n,...t}){return W.jsx("div",{"data-slot":"card-title",className:un("leading-none font-semibold",n),...t})}function Xb({className:n,...t}){return W.jsx("div",{"data-slot":"card-description",className:un("text-muted-foreground text-sm",n),...t})}function Yb({className:n,...t}){return W.jsx("div",{"data-slot":"card-content",className:un("px-6",n),...t})}function mQ(){const n=K6(),t=()=>{switch(n==null?void 0:n.type){case"statement":return W.jsx(gQ,{node:n});case"transaction-category":return W.jsx(_Q,{node:n});case"transaction":return W.jsx(xQ,{node:n})}},e=n!==void 0;return W.jsx("div",{className:`absolute right-2 top-12 z-20 w-[254px] transition-opacity duration-200 ease-in-out ${e?"opacity-100":"opacity-0"}`,children:t()})}function gQ({node:n}){switch(n.statement.operation){case Ji.income:return W.jsx(vQ,{node:n});case Ji.expense:return W.jsx(yQ,{node:n})}}function vQ({node:n}){return W.jsxs(Gb,{children:[W.jsxs(jb,{children:[W.jsx(qb,{children:ln.preview.statement.income.title()}),W.jsx(Xb,{children:ln.preview.statement.income.description(n.statement.fromDate,n.statement.toDate)})]}),W.jsxs(Yb,{children:[W.jsx("p",{children:ln.preview.statement.income.transactionsCount(n.statement.transactionsCount)}),W.jsx("p",{children:ln.preview.statement.income.totalAmount(n.statement.value)})]})]})}function yQ({node:n}){return W.jsxs(Gb,{children:[W.jsxs(jb,{children:[W.jsx(qb,{children:ln.preview.statement.expense.title()}),W.jsx(Xb,{children:ln.preview.statement.expense.description(n.statement.fromDate,n.statement.toDate)})]}),W.jsxs(Yb,{children:[W.jsx("p",{children:ln.preview.statement.expense.transactionsCount(n.statement.transactionsCount)}),W.jsx("p",{children:ln.preview.statement.expense.totalAmount(n.statement.value)})]})]})}function _Q({node:n}){return W.jsxs(Gb,{children:[W.jsxs(jb,{children:[W.jsx(qb,{children:ln.preview.category.title(n.category.mcc)}),W.jsx(Xb,{children:ln.preview.category.description(n.category.mcc)})]}),W.jsxs(Yb,{children:[W.jsx("p",{children:ln.preview.category.transactionsCount(n.category.transactionsCount)}),W.jsx("p",{children:ln.preview.category.totalAmount(n.category.value)})]})]})}function xQ({node:n}){return W.jsxs(Gb,{children:[W.jsxs(jb,{children:[W.jsx(qb,{children:ln.preview.transaction.title(n.transaction.date)}),W.jsx(Xb,{children:ln.preview.transaction.description(n.transaction.mcc)})]}),W.jsxs(Yb,{children:[W.jsx("p",{children:ln.preview.transaction.amount(n.transaction.value)}),W.jsx("p",{children:ln.preview.transaction.details(n.transaction.details)})]})]})}function bQ(){const n=z5();return W.jsxs("div",{className:"w-full h-[100dvh]",children:[W.jsxs(DX,{flat:!0,camera:{position:[0,0,500],far:1e4},children:[W.jsx(pY,{preset:"night"}),W.jsx(KX,{zoomSpeed:15,rotateSpeed:5,minDistance:200,maxDistance:1200}),W.jsx("ambientLight",{color:13421772,intensity:Math.PI}),W.jsx("directionalLight",{intensity:.6*Math.PI}),n?W.jsx(SQ,{}):W.jsx(MQ,{})]}),n&&W.jsx(mQ,{})]})}function SQ(){const n=Y.useRef(void 0);zb(()=>{var a;return(a=n.current)==null?void 0:a.tickFrame()});const{graph:t,graphData:e,onNodeHover:i}=Q6();Y.useEffect(()=>{var a,l,u;(l=(a=n.current)==null?void 0:a.d3Force("link"))==null||l.distance(RQ(t)),(u=n.current)==null||u.tickFrame()},[t]);const r=EQ(t);return W.jsx(OU,{ref:n,graphData:e,nodeVal:r,nodeColor:wQ,nodeOpacity:.9,nodeResolution:28,onNodeHover:i})}function MQ(){const n=Y.useRef(void 0);zb(()=>{var a;return(a=n.current)==null?void 0:a.tickFrame()});const t=Y.useMemo(()=>Au(50,150),[]),e=Y.useMemo(()=>({nodes:[...Array(t).keys()].map(a=>({id:a,label:a})),links:[...Array(t).keys()].filter(a=>a).map(a=>({source:a,target:Math.round(Math.random()*(a-1))}))}),[t]),i=Y.useCallback(()=>Au(1,25),[]),r=Y.useCallback(()=>"white",[]);return W.jsx(OU,{ref:n,graphData:e,nodeVal:i,nodeColor:r,nodeOpacity:.9,nodeResolution:28})}const EQ=n=>Y.useMemo(()=>DQ(n),[n]),DQ=n=>{const[t,e]=bO(Object.values(n.nodes));return i=>LU(G_(i),t,e)},AQ={[Ji.income]:{hue:160,saturation:80,lightness:45},[Ji.expense]:{hue:10,saturation:85,lightness:50}},TQ=n=>AQ[n],U2=dQ({saturation:120,lightness:50}),wQ=n=>{switch(n.type){case"statement":return _M(TQ(n.statement.operation));case"transaction-category":return _M(U2(n.category.mcc));case"transaction":return _M(pQ(n.id,U2(n.transaction.mcc)));default:return"white"}},RQ=n=>{const[t,e]=bO(Object.values(n.nodes).filter(i=>i.type==="transaction-category"));return i=>{if(!i.source||typeof i.source!="object"||!i.target||typeof i.target!="object")return 1;const r=G_(i.source),a=G_(i.target);return LU(r+a,t*2,e*2,5*(i.target.type==="transaction"?5:1),100)}};function CQ(){return W.jsxs(e5,{className:"h-full w-full",children:[W.jsx(U6,{}),W.jsxs("main",{className:"h-full w-screen overflow-hidden bg-radial from-[#222222] from-0% to-[#050505] to-100% relative",children:[W.jsx(bQ,{}),W.jsx("div",{className:"absolute top-2 left-2 z-20",children:W.jsx(i5,{size:"lg",className:"text-white hover:text-gray-300 bg-muted p-5 rounded-md shadow-md w-10"})}),W.jsx("div",{className:"absolute top-0 left-14 right-14 z-10",children:W.jsx(P6,{})}),W.jsx(J6,{})]})]})}wP.createRoot(document.getElementById("root")).render(W.jsx(Y.StrictMode,{children:W.jsx(CQ,{})}));
